(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+7LX":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericBarcode=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(((i=n("52Lf"))&&i.__esModule?i:{default:i}).default);t.GenericBarcode=o},"/4Rl":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("NJzS"),r=n("2j0D"),o=n("JB6v"),a=n("n/pZ"),s=n("jlE0"),l=n("fLmL"),c=n("wXsw"),u=n("+7LX");t.default={CODE39:i.CODE39,CODE128:r.CODE128,CODE128A:r.CODE128A,CODE128B:r.CODE128B,CODE128C:r.CODE128C,EAN13:o.EAN13,EAN8:o.EAN8,EAN5:o.EAN5,EAN2:o.EAN2,UPC:o.UPC,UPCE:o.UPCE,ITF14:a.ITF14,ITF:a.ITF,MSI:s.MSI,MSI10:s.MSI10,MSI11:s.MSI11,MSI1010:s.MSI1010,MSI1110:s.MSI1110,pharmacode:l.pharmacode,codabar:c.codabar,GenericBarcode:u.GenericBarcode}},"/XyT":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(e,t){return i({},e,t)}},"2j0D":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CODE128C=t.CODE128B=t.CODE128A=t.CODE128=void 0;var i=s(n("byS7")),r=s(n("6Mm9")),o=s(n("cLAh")),a=s(n("7T9X"));function s(e){return e&&e.__esModule?e:{default:e}}t.CODE128=i.default,t.CODE128A=r.default,t.CODE128B=o.default,t.CODE128C=a.default},"3KJX":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.name="InvalidInputException",o.symbology=e,o.input=n,o.message='"'+o.input+'" is not a valid input for '+o.symbology,o}return o(t,Error),t}(),s=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="InvalidElementException",e.message="Not supported type to render on",e}return o(t,Error),t}(),l=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="NoElementException",e.message="No element to render on.",e}return o(t,Error),t}();t.InvalidInputException=a,t.InvalidElementException=s,t.NoElementException=l},"52Lf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.text=n.text||t,this.options=n}},"6LKm":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.checksum=s;var r=o(n("VyaE"));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{11}$/)&&(e+=s(e));var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.displayValue=n.displayValue,i.fontSize=n.fontSize>10*n.width?10*n.width:n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==s(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=(0,r.default)(this.data.substr(0,6),"LLLLLL"),e+="01010",e+=(0,r.default)(this.data.substr(6,6),"RRRRRR"),{data:e+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101"+(0,r.default)(this.data[0],"L"),options:{height:this.guardHeight}}),e.push({data:(0,r.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),e.push({data:"01010",options:{height:this.guardHeight}}),e.push({data:(0,r.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),e.push({data:(0,r.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),e}}]),t}(o(n("52Lf")).default);function s(e){var t,n=0;for(t=1;t<11;t+=2)n+=parseInt(e[t]);for(t=0;t<11;t+=2)n+=3*parseInt(e[t]);return(10-n%10)%10}t.default=a},"6Mm9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=(i=n("SyMb"))&&i.__esModule?i:{default:i},a=n("8I5R"),s=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a.A_START_CHAR+e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"valid",value:function(){return new RegExp("^"+a.A_CHARS+"+$").test(this.data)}}]),t}(o.default);t.default=s},"7T9X":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=(i=n("SyMb"))&&i.__esModule?i:{default:i},a=n("8I5R"),s=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a.C_START_CHAR+e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"valid",value:function(){return new RegExp("^"+a.C_CHARS+"+$").test(this.data)}}]),t}(o.default);t.default=s},"8I5R":function(e,t,n){"use strict";var i;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=t.SET_A=0,a=t.SET_B=1,s=t.SET_C=2,l=(t.SHIFT=98,t.START_A=103),c=t.START_B=104,u=t.START_C=105;t.MODULO=103,t.STOP=106,t.FNC1=207,t.SET_BY_CODE=(r(i={},l,o),r(i,c,a),r(i,u,s),i),t.SWAP={101:o,100:a,99:s},t.A_START_CHAR=String.fromCharCode(208),t.B_START_CHAR=String.fromCharCode(209),t.C_START_CHAR=String.fromCharCode(210),t.A_CHARS="[\0-_\xc8-\xcf]",t.B_CHARS="[ -\x7f\xc8-\xcf]",t.C_CHARS="(\xcf*[0-9]{2}\xcf*)",t.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},"B9+t":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=(i=n("PHz1"))&&i.__esModule?i:{default:i},a=function(e){var t=e.substr(0,13).split("").map((function(e){return parseInt(e,10)})).reduce((function(e,t,n){return e+t*(3-n%2*2)}),0);return 10*Math.ceil(t/10)-t},s=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{13}$/)&&(e+=a(e)),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===a(this.data)}}]),t}(o.default);t.default=s},"Ek++":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"encode",value:function(){for(var e="110",t=0;t<this.data.length;t++){var n=parseInt(this.data[t]).toString(2);n=a(n,4-n.length);for(var i=0;i<n.length;i++)e+="0"==n[i]?"100":"110"}return{data:e+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),t}(((i=n("52Lf"))&&i.__esModule?i:{default:i}).default);function a(e,t){for(var n=0;n<t;n++)e="0"+e;return e}t.default=o},"G6U+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=(i=n("vf6K"))&&i.__esModule?i:{default:i},s=function(e){return(10-e.substr(0,7).split("").map((function(e){return+e})).reduce((function(e,t,n){return n%2?e+t:e+3*t}),0)%10)%10},l=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{7}$/)&&(e+=s(e)),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===s(this.data)}},{key:"leftText",value:function(){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var e=this.data.substr(0,4);return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,e,"LLLL")}},{key:"rightText",value:function(){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var e=this.data.substr(4,4);return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,e,"RRRR")}}]),t}(a.default);t.default=l},JB6v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPCE=t.UPC=t.EAN2=t.EAN5=t.EAN8=t.EAN13=void 0;var i=c(n("iaK4")),r=c(n("G6U+")),o=c(n("WD9T")),a=c(n("pdJe")),s=c(n("6LKm")),l=c(n("vph/"));function c(e){return e&&e.__esModule?e:{default:e}}t.EAN13=i.default,t.EAN8=r.default,t.EAN5=o.default,t.EAN2=a.default,t.UPC=s.default,t.UPCE=l.default},Kkrk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.START_BIN="1010",t.END_BIN="11101",t.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},NJzS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CODE39=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=e.toUpperCase(),n.mod43&&(e+=function(e){return a[e]}(function(e){for(var t=0,n=0;n<e.length;n++)t+=c(e[n]);return t%43}(e))),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"encode",value:function(){for(var e=l("*"),t=0;t<this.data.length;t++)e+=l(this.data[t])+"0";return{data:e+=l("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),t}(((i=n("52Lf"))&&i.__esModule?i:{default:i}).default),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],s=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function l(e){return function(e){return s[e].toString(2)}(c(e))}function c(e){return a.indexOf(e)}t.CODE39=o},PHz1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n("Kkrk");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var e=this,t=this.data.match(/.{2}/g).map((function(t){return e.encodePair(t)})).join("");return{data:o.START_BIN+t+o.END_BIN,text:this.text}}},{key:"encodePair",value:function(e){var t=o.BINARIES[e[1]];return o.BINARIES[e[0]].split("").map((function(e,n){return("1"===e?"111":"1")+("1"===t[n]?"000":"0")})).join("")}}]),t}(((i=n("52Lf"))&&i.__esModule?i:{default:i}).default);t.default=l},RGHy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=(i=n("Ek++"))&&i.__esModule?i:{default:i},o=n("blPF"),a=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,o.mod11)(e),n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default);t.default=a},RyeT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=(i=n("Ek++"))&&i.__esModule?i:{default:i},o=n("blPF"),a=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,o.mod10)(e),n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default);t.default=a},SyMb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=(i=n("52Lf"))&&i.__esModule?i:{default:i},a=n("8I5R"),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.substring(1),n));return i.bytes=e.split("").map((function(e){return e.charCodeAt(0)})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var e=this.bytes,n=e.shift()-105,i=a.SET_BY_CODE[n];if(void 0===i)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&e.unshift(a.FNC1);var r=t.next(e,1,i);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:t.getBar(n)+r.result+t.getBar((r.checksum+n)%a.MODULO)+t.getBar(a.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var e=this.options.ean128||!1;return"string"==typeof e&&(e="true"===e.toLowerCase()),e}}],[{key:"getBar",value:function(e){return a.BARS[e]?a.BARS[e].toString():""}},{key:"correctIndex",value:function(e,t){if(t===a.SET_A){var n=e.shift();return n<32?n+64:n-32}return t===a.SET_B?e.shift()-32:10*(e.shift()-48)+e.shift()-48}},{key:"next",value:function(e,n,i){if(!e.length)return{result:"",checksum:0};var r=void 0,o=void 0;if(e[0]>=200){o=e.shift()-105;var s=a.SWAP[o];void 0!==s?r=t.next(e,n+1,s):(i!==a.SET_A&&i!==a.SET_B||o!==a.SHIFT||(e[0]=i===a.SET_A?e[0]>95?e[0]-96:e[0]:e[0]<32?e[0]+96:e[0]),r=t.next(e,n+1,i))}else o=t.correctIndex(e,i),r=t.next(e,n+1,i);return{result:t.getBar(o)+r.result,checksum:o*n+r.checksum}}}]),t}(o.default);t.default=s},TO02:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.object=t,this.encodings=n,this.options=i}return i(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();t.default=r},UFnY:function(e,t,n){"use strict";n.r(t);var i=n("ofXK"),r=n("qlzE"),o=n("tk/3"),a=n("3Pt+"),s=(n("u47x"),n("8LU1"),n("fXoL")),l=n("jhN1"),c=n("cH1L"),u=n("XNiG"),d=n("HDdC"),h=n("nLfN");n("JX91"),n("R1ws"),n("FtGj");const p=new s.InjectionToken("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let m,g=(()=>{class e{constructor(e,t){this._sanityChecksEnabled=e,this._hammerLoader=t,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&Object(s.isDevMode)()&&!this._isTestEnv()}_isTestEnv(){const e=this._window;return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)(s["\u0275\u0275inject"](p,8),s["\u0275\u0275inject"](l.c,8))},imports:[[c.a],c.a]}),e})();try{m="undefined"!=typeof Intl}catch(ci){m=!1}let f=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[g,h.b],g]}),e})(),b=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e})(),v=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[f,i.c,b]]}),e})();var x=n("rDax"),y=(n("+rOU"),n("IzEk"),n("eIep"),n("pLZG")),S=n("lJxs"),E=(n("vkgz"),n("3E0/"),n("quSY"),n("NXyV"),n("VRyK"),n("LRne"),n("xgIS"));n("R0Ic"),n("1G5W"),n("GU7r"),n("vxfF");const w={provide:new s.InjectionToken("mat-autocomplete-scroll-strategy"),deps:[x.d],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let C=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[w],imports:[[v,x.g,g,i.c],v,g]}),e})(),_=(()=>{let e=class{};return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,a.h]]}),e})();n("2Vo4");let P=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e})();var O=n("itXk"),k=n("PqYM");const M=["*"];let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.VG_ENDED="ended",e.VG_PAUSED="paused",e.VG_PLAYING="playing",e.VG_LOADING="waiting",e.\u0275prov=Object(s["\u0275\u0275defineInjectable"])({factory:function(){return new e},token:e,providedIn:"root"}),e})(),I=(()=>{class e{constructor(){this.medias={},this.playerReadyEvent=new s.EventEmitter(!0),this.isPlayerReady=!1}onPlayerReady(e){this.fsAPI=e,this.isPlayerReady=!0,this.playerReadyEvent.emit(this)}getDefaultMedia(){for(const e in this.medias)if(this.medias[e])return this.medias[e]}getMasterMedia(){let e;for(const t in this.medias)if("true"===this.medias[t].vgMaster||!0===this.medias[t].vgMaster){e=this.medias[t];break}return e||this.getDefaultMedia()}isMasterDefined(){let e=!1;for(const t in this.medias)if("true"===this.medias[t].vgMaster||!0===this.medias[t].vgMaster){e=!0;break}return e}getMediaById(e=null){let t=this.medias[e];return e&&"*"!==e||(t=this),t}play(){for(const e in this.medias)this.medias[e]&&this.medias[e].play()}pause(){for(const e in this.medias)this.medias[e]&&this.medias[e].pause()}get duration(){return this.$$getAllProperties("duration")}set currentTime(e){this.$$setAllProperties("currentTime",e)}get currentTime(){return this.$$getAllProperties("currentTime")}set state(e){this.$$setAllProperties("state",e)}get state(){return this.$$getAllProperties("state")}set volume(e){this.$$setAllProperties("volume",e)}get volume(){return this.$$getAllProperties("volume")}set playbackRate(e){this.$$setAllProperties("playbackRate",e)}get playbackRate(){return this.$$getAllProperties("playbackRate")}get canPlay(){return this.$$getAllProperties("canPlay")}get canPlayThrough(){return this.$$getAllProperties("canPlayThrough")}get isMetadataLoaded(){return this.$$getAllProperties("isMetadataLoaded")}get isWaiting(){return this.$$getAllProperties("isWaiting")}get isCompleted(){return this.$$getAllProperties("isCompleted")}get isLive(){return this.$$getAllProperties("isLive")}get isMaster(){return this.$$getAllProperties("isMaster")}get time(){return this.$$getAllProperties("time")}get buffer(){return this.$$getAllProperties("buffer")}get buffered(){return this.$$getAllProperties("buffered")}get subscriptions(){return this.$$getAllProperties("subscriptions")}get textTracks(){return this.$$getAllProperties("textTracks")}seekTime(e,t=!1){for(const n in this.medias)this.medias[n]&&this.$$seek(this.medias[n],e,t)}$$seek(e,t,n=!1){let i,r=e.duration;n?(this.isMasterDefined()&&(r=this.getMasterMedia().duration),i=t*r/100):i=t,e.currentTime=i}addTextTrack(e,t,n){for(const i in this.medias)this.medias[i]&&this.$$addTextTrack(this.medias[i],e,t,n)}$$addTextTrack(e,t,n,i){e.addTextTrack(t,n,i)}$$getAllProperties(e){const t={};let n;for(const i in this.medias)this.medias[i]&&(t[i]=this.medias[i]);switch(Object.keys(t).length){case 0:switch(e){case"state":n=A.VG_PAUSED;break;case"playbackRate":case"volume":n=1;break;case"time":n={current:0,total:0,left:0}}break;case 1:n=t[Object.keys(t)[0]][e];break;default:n=t[this.getMasterMedia().id][e]}return n}$$setAllProperties(e,t){for(const n in this.medias)this.medias[n]&&(this.medias[n][e]=t)}registerElement(e){this.videogularElement=e}registerMedia(e){this.medias[e.id]=e}unregisterMedia(e){delete this.medias[e.id]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(s["\u0275\u0275defineInjectable"])({factory:function(){return new e},token:e,providedIn:"root"}),e})(),T=(()=>{class e{constructor(){this.isHiddenSubject=new u.a,this.isHidden=this.isHiddenSubject.asObservable()}state(e){this.isHiddenSubject.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(s["\u0275\u0275defineInjectable"])({factory:function(){return new e},token:e,providedIn:"root"}),e})(),j=(()=>{class e{static getZIndex(){let e,t=1;const n=document.getElementsByTagName("*");for(let i=0,r=n.length;i<r;i++)e=parseInt(window.getComputedStyle(n[i])["z-index"],10),e>t&&(t=e+1);return t}static isMobileDevice(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}static isiOSDevice(){return navigator.userAgent.match(/ip(hone|ad|od)/i)&&!navigator.userAgent.match(/(iemobile)[\/\s]?([\w\.]*)/i)}static isCordova(){return-1===document.URL.indexOf("http://")&&-1===document.URL.indexOf("https://")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(s["\u0275\u0275defineInjectable"])({factory:function(){return new e},token:e,providedIn:"root"}),e})(),L=(()=>{class e{constructor(){this.nativeFullscreen=!0,this.isFullscreen=!1,this.onChangeFullscreen=new s.EventEmitter}init(e,t){this.videogularElement=e,this.medias=t;const n={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",onchange:"fullscreenchange",onerror:"fullscreenerror"},newWebkit:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},oldWebkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",onchange:"mozfullscreenchange",onerror:"mozfullscreenerror"},ios:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",onchange:"webkitendfullscreen",onerror:"webkitfullscreenerror"},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",onchange:"MSFullscreenChange",onerror:"MSFullscreenError"}};for(const r in n)if(n[r].enabled in document){this.polyfill=n[r];break}if(j.isiOSDevice()&&(this.polyfill=n.ios),this.isAvailable=null!=this.polyfill,null==this.polyfill)return;let i;switch(this.polyfill.onchange){case"mozfullscreenchange":i=document;break;case"webkitendfullscreen":i=this.medias.toArray()[0].elem;break;default:i=e}this.fsChangeSubscription=Object(E.a)(i,this.polyfill.onchange).subscribe(()=>{this.onFullscreenChange()})}onFullscreenChange(){this.isFullscreen=!!document[this.polyfill.element],this.onChangeFullscreen.emit(this.isFullscreen)}toggleFullscreen(e=null){this.isFullscreen?this.exit():this.request(e)}request(e){e||(e=this.videogularElement),this.isFullscreen=!0,this.onChangeFullscreen.emit(!0),this.isAvailable&&this.nativeFullscreen&&(j.isMobileDevice()?((!this.polyfill.enabled&&e===this.videogularElement||j.isiOSDevice())&&(e=this.medias.toArray()[0].elem),this.enterElementInFullScreen(e)):this.enterElementInFullScreen(this.videogularElement))}enterElementInFullScreen(e){e[this.polyfill.request]()}exit(){this.isFullscreen=!1,this.onChangeFullscreen.emit(!1),this.isAvailable&&this.nativeFullscreen&&document[this.polyfill.exit]()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(s["\u0275\u0275defineInjectable"])({factory:function(){return new e},token:e,providedIn:"root"}),e})(),D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.VG_ABORT="abort",e.VG_CAN_PLAY="canplay",e.VG_CAN_PLAY_THROUGH="canplaythrough",e.VG_DURATION_CHANGE="durationchange",e.VG_EMPTIED="emptied",e.VG_ENCRYPTED="encrypted",e.VG_ENDED="ended",e.VG_ERROR="error",e.VG_LOADED_DATA="loadeddata",e.VG_LOADED_METADATA="loadedmetadata",e.VG_LOAD_START="loadstart",e.VG_PAUSE="pause",e.VG_PLAY="play",e.VG_PLAYING="playing",e.VG_PROGRESS="progress",e.VG_RATE_CHANGE="ratechange",e.VG_SEEK="seek",e.VG_SEEKED="seeked",e.VG_SEEKING="seeking",e.VG_STALLED="stalled",e.VG_SUSPEND="suspend",e.VG_TIME_UPDATE="timeupdate",e.VG_VOLUME_CHANGE="volumechange",e.VG_WAITING="waiting",e.VG_LOAD="load",e.VG_ENTER="enter",e.VG_EXIT="exit",e.VG_START_ADS="startads",e.VG_END_ADS="endads",e.\u0275prov=Object(s["\u0275\u0275defineInjectable"])({factory:function(){return new e},token:e,providedIn:"root"}),e})(),F=(()=>{class e{constructor(e,t){this.api=e,this.ref=t,this.state=A.VG_PAUSED,this.time={current:0,total:0,left:0},this.buffer={end:0},this.canPlay=!1,this.canPlayThrough=!1,this.isMetadataLoaded=!1,this.isWaiting=!1,this.isCompleted=!1,this.isLive=!1,this.isBufferDetected=!1,this.checkInterval=200,this.currentPlayPos=0,this.lastPlayPos=0,this.playAtferSync=!1,this.bufferDetected=new u.a}ngOnInit(){this.elem=this.vgMedia.nodeName?this.vgMedia:this.vgMedia.elem,this.api.registerMedia(this),this.subscriptions={abort:Object(E.a)(this.elem,D.VG_ABORT),canPlay:Object(E.a)(this.elem,D.VG_CAN_PLAY),canPlayThrough:Object(E.a)(this.elem,D.VG_CAN_PLAY_THROUGH),durationChange:Object(E.a)(this.elem,D.VG_DURATION_CHANGE),emptied:Object(E.a)(this.elem,D.VG_EMPTIED),encrypted:Object(E.a)(this.elem,D.VG_ENCRYPTED),ended:Object(E.a)(this.elem,D.VG_ENDED),error:Object(E.a)(this.elem,D.VG_ERROR),loadedData:Object(E.a)(this.elem,D.VG_LOADED_DATA),loadedMetadata:Object(E.a)(this.elem,D.VG_LOADED_METADATA),loadStart:Object(E.a)(this.elem,D.VG_LOAD_START),pause:Object(E.a)(this.elem,D.VG_PAUSE),play:Object(E.a)(this.elem,D.VG_PLAY),playing:Object(E.a)(this.elem,D.VG_PLAYING),progress:Object(E.a)(this.elem,D.VG_PROGRESS),rateChange:Object(E.a)(this.elem,D.VG_RATE_CHANGE),seeked:Object(E.a)(this.elem,D.VG_SEEKED),seeking:Object(E.a)(this.elem,D.VG_SEEKING),stalled:Object(E.a)(this.elem,D.VG_STALLED),suspend:Object(E.a)(this.elem,D.VG_SUSPEND),timeUpdate:Object(E.a)(this.elem,D.VG_TIME_UPDATE),volumeChange:Object(E.a)(this.elem,D.VG_VOLUME_CHANGE),waiting:Object(E.a)(this.elem,D.VG_WAITING),startAds:Object(E.a)(window,D.VG_START_ADS),endAds:Object(E.a)(window,D.VG_END_ADS),mutation:new d.a(e=>{const t=new MutationObserver(t=>{e.next(t)});return t.observe(this.elem,{childList:!0,attributes:!0}),()=>{t.disconnect()}}),bufferDetected:this.bufferDetected},this.mutationObs=this.subscriptions.mutation.subscribe(this.onMutation.bind(this)),this.canPlayObs=this.subscriptions.canPlay.subscribe(this.onCanPlay.bind(this)),this.canPlayThroughObs=this.subscriptions.canPlayThrough.subscribe(this.onCanPlayThrough.bind(this)),this.loadedMetadataObs=this.subscriptions.loadedMetadata.subscribe(this.onLoadMetadata.bind(this)),this.waitingObs=this.subscriptions.waiting.subscribe(this.onWait.bind(this)),this.progressObs=this.subscriptions.progress.subscribe(this.onProgress.bind(this)),this.endedObs=this.subscriptions.ended.subscribe(this.onComplete.bind(this)),this.playingObs=this.subscriptions.playing.subscribe(this.onStartPlaying.bind(this)),this.playObs=this.subscriptions.play.subscribe(this.onPlay.bind(this)),this.pauseObs=this.subscriptions.pause.subscribe(this.onPause.bind(this)),this.timeUpdateObs=this.subscriptions.timeUpdate.subscribe(this.onTimeUpdate.bind(this)),this.volumeChangeObs=this.subscriptions.volumeChange.subscribe(this.onVolumeChange.bind(this)),this.errorObs=this.subscriptions.error.subscribe(this.onError.bind(this)),this.vgMaster&&this.api.playerReadyEvent.subscribe(()=>{this.prepareSync()})}prepareSync(){const e=[];for(const t in this.api.medias)this.api.medias[t]&&e.push(this.api.medias[t].subscriptions.canPlay);this.canPlayAllSubscription=Object(O.a)(e).pipe(Object(S.a)((...e)=>{e.some(e=>!(null==e||!e.target)&&4===e.target.readyState)&&!this.syncSubscription&&(this.startSync(),this.syncSubscription.unsubscribe())})).subscribe()}startSync(){this.syncSubscription=Object(k.a)(0,1e3).subscribe(()=>{for(const e in this.api.medias)if(this.api.medias[e]!==this){const t=this.api.medias[e].currentTime-this.currentTime;t<-.3||t>.3?(this.playAtferSync=this.state===A.VG_PLAYING,this.pause(),this.api.medias[e].pause(),this.api.medias[e].currentTime=this.currentTime):this.playAtferSync&&(this.play(),this.api.medias[e].play(),this.playAtferSync=!1)}})}onMutation(e){for(let t=0,n=e.length;t<n;t++){const n=e[t];if("attributes"===n.type&&"src"===n.attributeName){if(n.target.src&&n.target.src.length>0&&n.target.src.indexOf("blob:")<0){this.loadMedia();break}}else if("childList"===n.type&&n.removedNodes.length&&"source"===n.removedNodes[0].nodeName.toLowerCase()){this.loadMedia();break}}}loadMedia(){this.vgMedia.pause(),this.vgMedia.currentTime=0,this.stopBufferCheck(),this.isBufferDetected=!0,this.bufferDetected.next(this.isBufferDetected),setTimeout(()=>this.vgMedia.load(),10)}play(){if(!(this.playPromise||this.state!==A.VG_PAUSED&&this.state!==A.VG_ENDED))return this.playPromise=this.vgMedia.play(),this.playPromise&&this.playPromise.then&&this.playPromise.catch&&this.playPromise.then(()=>{this.playPromise=null}).catch(()=>{this.playPromise=null}),this.playPromise}pause(){this.playPromise?this.playPromise.then(()=>{this.vgMedia.pause()}):this.vgMedia.pause()}get id(){let e;return this.vgMedia&&(e=this.vgMedia.id),e}get duration(){return this.vgMedia.duration===1/0?this.specifiedDuration:this.vgMedia.duration}set currentTime(e){this.vgMedia.currentTime=e}get currentTime(){return this.vgMedia.currentTime}set volume(e){this.vgMedia.volume=e}get volume(){return this.vgMedia.volume}set playbackRate(e){this.vgMedia.playbackRate=e}get playbackRate(){return this.vgMedia.playbackRate}get buffered(){return this.vgMedia.buffered}get textTracks(){return this.vgMedia.textTracks}onCanPlay(e){this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected),this.canPlay=!0,this.ref.detectChanges()}onCanPlayThrough(e){this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected),this.canPlayThrough=!0,this.ref.detectChanges()}onLoadMetadata(e){this.isMetadataLoaded=!0,this.time={current:0,left:0,total:1e3*this.duration},this.state=A.VG_PAUSED;const t=Math.round(this.time.total);this.isLive=t===1/0,this.ref.detectChanges()}onWait(e){this.isWaiting=!0,this.ref.detectChanges()}onComplete(e){this.isCompleted=!0,this.state=A.VG_ENDED,this.ref.detectChanges()}onStartPlaying(e){this.state=A.VG_PLAYING,this.ref.detectChanges()}onPlay(e){this.state=A.VG_PLAYING,this.vgMaster&&(this.syncSubscription&&!this.syncSubscription.closed||this.startSync()),this.startBufferCheck(),this.ref.detectChanges()}onPause(e){this.state=A.VG_PAUSED,this.vgMaster&&(this.playAtferSync||this.syncSubscription.unsubscribe()),this.stopBufferCheck(),this.ref.detectChanges()}onTimeUpdate(e){const t=this.buffered.length-1;this.time={current:1e3*this.currentTime,total:this.time.total,left:1e3*(this.duration-this.currentTime)},t>=0&&(this.buffer={end:1e3*this.buffered.end(t)}),this.ref.detectChanges()}onProgress(e){const t=this.buffered.length-1;t>=0&&(this.buffer={end:1e3*this.buffered.end(t)}),this.ref.detectChanges()}onVolumeChange(e){this.ref.detectChanges()}onError(e){this.ref.detectChanges()}bufferCheck(){const e=1/this.checkInterval;this.currentPlayPos=this.currentTime,!this.isBufferDetected&&this.currentPlayPos<this.lastPlayPos+e&&(this.isBufferDetected=!0),this.isBufferDetected&&this.currentPlayPos>this.lastPlayPos+e&&(this.isBufferDetected=!1),this.bufferDetected.closed||this.bufferDetected.next(this.isBufferDetected),this.lastPlayPos=this.currentPlayPos}startBufferCheck(){this.checkBufferSubscription=Object(k.a)(0,this.checkInterval).subscribe(()=>{this.bufferCheck()})}stopBufferCheck(){this.checkBufferSubscription&&this.checkBufferSubscription.unsubscribe(),this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected)}seekTime(e,t=!1){let n;n=t?e*this.duration/100:e,this.currentTime=n}addTextTrack(e,t,n,i){const r=this.vgMedia.addTextTrack(e,t,n);return i&&(r.mode=i),r}ngOnDestroy(){this.vgMedia.src="",this.mutationObs.unsubscribe(),this.canPlayObs.unsubscribe(),this.canPlayThroughObs.unsubscribe(),this.loadedMetadataObs.unsubscribe(),this.waitingObs.unsubscribe(),this.progressObs.unsubscribe(),this.endedObs.unsubscribe(),this.playingObs.unsubscribe(),this.playObs.unsubscribe(),this.pauseObs.unsubscribe(),this.timeUpdateObs.unsubscribe(),this.volumeChangeObs.unsubscribe(),this.errorObs.unsubscribe(),this.checkBufferSubscription&&this.checkBufferSubscription.unsubscribe(),this.syncSubscription&&this.syncSubscription.unsubscribe(),this.bufferDetected.complete(),this.bufferDetected.unsubscribe(),this.api.unregisterMedia(this)}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](I),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef))},e.\u0275dir=s["\u0275\u0275defineDirective"]({type:e,selectors:[["","vgMedia",""]],inputs:{vgMedia:"vgMedia",vgMaster:"vgMaster"}}),e})(),R=(()=>{class e{constructor(e,t,n,i){this.api=t,this.fsAPI=n,this.controlsHidden=i,this.isFullscreen=!1,this.isNativeFullscreen=!1,this.areControlsHidden=!1,this.onPlayerReady=new s.EventEmitter,this.onMediaReady=new s.EventEmitter,this.subscriptions=[],this.elem=e.nativeElement,this.api.registerElement(this.elem)}ngAfterContentInit(){this.medias.toArray().forEach(e=>{this.api.registerMedia(e)}),this.fsAPI.init(this.elem,this.medias),this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this))),this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this))),this.api.onPlayerReady(this.fsAPI),this.onPlayerReady.emit(this.api)}onChangeFullscreen(e){this.fsAPI.nativeFullscreen?this.isNativeFullscreen=e:(this.isFullscreen=e,this.zIndex=e?j.getZIndex().toString():"auto")}onHideControls(e){this.areControlsHidden=e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](I),s["\u0275\u0275directiveInject"](L),s["\u0275\u0275directiveInject"](T))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["vg-player"]],contentQueries:function(e,t,n){var i;1&e&&s["\u0275\u0275contentQuery"](n,F,!1),2&e&&s["\u0275\u0275queryRefresh"](i=s["\u0275\u0275loadQuery"]())&&(t.medias=i)},hostVars:8,hostBindings:function(e,t){2&e&&(s["\u0275\u0275styleProp"]("z-index",t.zIndex),s["\u0275\u0275classProp"]("fullscreen",t.isFullscreen)("native-fullscreen",t.isNativeFullscreen)("controls-hidden",t.areControlsHidden))},outputs:{onPlayerReady:"onPlayerReady",onMediaReady:"onMediaReady"},features:[s["\u0275\u0275ProvidersFeature"]([I,L,T])],ngContentSelectors:M,decls:1,vars:0,template:function(e,t){1&e&&(s["\u0275\u0275projectionDef"](),s["\u0275\u0275projection"](0))},styles:["\n      vg-player {\n        font-family: 'videogular';\n        position: relative;\n        display: flex;\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n        background-color: black;\n      }\n      vg-player.fullscreen {\n        position: fixed;\n        left: 0;\n        top: 0;\n      }\n      vg-player.native-fullscreen.controls-hidden {\n        cursor: none;\n      }\n    "],encapsulation:2}),e})();const B=[I,T,L,j,D,A];let N=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[...B],imports:[[i.c]]}),e})();const V=["*"],z=["volumeBar"],$=function(e){return{dragging:e}};function G(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"option",4),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275property"]("value",e.id)("selected",!0===e.selected),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.label," ")}}function U(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1,"LIVE"),s["\u0275\u0275elementEnd"]())}function H(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"vgUtc"),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind2"](2,1,e.getTime(),e.vgFormat))}}function X(e,t){1&e&&s["\u0275\u0275element"](0,"span",2)}let Y=(()=>{class e{constructor(e,t,n){this.API=e,this.hidden=n,this.isAdsPlaying="initial",this.hideControls=!1,this.vgAutohide=!1,this.vgAutohideTime=3,this.subscriptions=[],this.elem=t.nativeElement}ngOnInit(){this.mouseMove$=Object(E.a)(this.API.videogularElement,"mousemove"),this.subscriptions.push(this.mouseMove$.subscribe(this.show.bind(this))),this.touchStart$=Object(E.a)(this.API.videogularElement,"touchstart"),this.subscriptions.push(this.touchStart$.subscribe(this.show.bind(this))),this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.subscriptions.push(this.target.subscriptions.play.subscribe(this.onPlay.bind(this))),this.subscriptions.push(this.target.subscriptions.pause.subscribe(this.onPause.bind(this))),this.subscriptions.push(this.target.subscriptions.startAds.subscribe(this.onStartAds.bind(this))),this.subscriptions.push(this.target.subscriptions.endAds.subscribe(this.onEndAds.bind(this)))}ngAfterViewInit(){this.vgAutohide?this.hide():this.show()}onPlay(){this.vgAutohide&&this.hide()}onPause(){clearTimeout(this.timer),this.hideControls=!1,this.hidden.state(!1)}onStartAds(){this.isAdsPlaying="none"}onEndAds(){this.isAdsPlaying="initial"}hide(){this.vgAutohide&&(clearTimeout(this.timer),this.hideAsync())}show(){clearTimeout(this.timer),this.hideControls=!1,this.hidden.state(!1),this.vgAutohide&&this.hideAsync()}hideAsync(){this.API.state===A.VG_PLAYING&&(this.timer=setTimeout(()=>{this.hideControls=!0,this.hidden.state(!0)},1e3*this.vgAutohideTime))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](I),s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](T))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["vg-controls"]],hostVars:4,hostBindings:function(e,t){2&e&&(s["\u0275\u0275styleProp"]("pointer-events",t.isAdsPlaying),s["\u0275\u0275classProp"]("hide",t.hideControls))},inputs:{vgAutohide:"vgAutohide",vgAutohideTime:"vgAutohideTime",vgFor:"vgFor"},ngContentSelectors:V,decls:1,vars:0,template:function(e,t){1&e&&(s["\u0275\u0275projectionDef"](),s["\u0275\u0275projection"](0))},styles:["\n      vg-controls {\n        position: absolute;\n        display: flex;\n        width: 100%;\n        height: 50px;\n        z-index: 300;\n        bottom: 0;\n        background-color: rgba(0, 0, 0, 0.5);\n        -webkit-transition: bottom 1s;\n        -khtml-transition: bottom 1s;\n        -moz-transition: bottom 1s;\n        -ms-transition: bottom 1s;\n        transition: bottom 1s;\n      }\n      vg-controls.hide {\n        bottom: -50px;\n      }\n    "],encapsulation:2}),e})(),W=(()=>{class e{constructor(e,t){this.API=t,this.subscriptions=[],this.elem=e.nativeElement,this.isDragging=!1}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.ariaValue=100*this.getVolume()}onClick(e){this.setVolume(this.calculateVolume(e.clientX))}onMouseDown(e){this.mouseDownPosX=e.clientX,this.isDragging=!0}onDrag(e){this.isDragging&&this.setVolume(this.calculateVolume(e.clientX))}onStopDrag(e){this.isDragging&&(this.isDragging=!1,this.mouseDownPosX===e.clientX&&this.setVolume(this.calculateVolume(e.clientX)))}arrowAdjustVolume(e){38===e.keyCode||39===e.keyCode?(e.preventDefault(),this.setVolume(Math.max(0,Math.min(100,100*this.getVolume()+10)))):37!==e.keyCode&&40!==e.keyCode||(e.preventDefault(),this.setVolume(Math.max(0,Math.min(100,100*this.getVolume()-10))))}calculateVolume(e){const t=this.volumeBarRef.nativeElement.getBoundingClientRect();return(e-t.left)/t.width*100}setVolume(e){this.target.volume=Math.max(0,Math.min(1,e/100)),this.ariaValue=100*this.target.volume}getVolume(){return this.target?this.target.volume:0}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](I))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["vg-volume"]],viewQuery:function(e,t){var n;1&e&&s["\u0275\u0275staticViewQuery"](z,!0),2&e&&s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.volumeBarRef=n.first)},hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("mousemove",(function(e){return t.onDrag(e)}),!1,s["\u0275\u0275resolveDocument"])("mouseup",(function(e){return t.onStopDrag(e)}),!1,s["\u0275\u0275resolveDocument"])("keydown",(function(e){return t.arrowAdjustVolume(e)}))},inputs:{vgFor:"vgFor"},decls:5,vars:9,consts:[["tabindex","0","role","slider","aria-label","volume level","aria-level","polite","aria-valuemin","0","aria-valuemax","100","aria-orientation","horizontal",1,"volumeBar",3,"click","mousedown"],["volumeBar",""],[1,"volumeBackground",3,"ngClass"],[1,"volumeValue"],[1,"volumeKnob"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0,1),s["\u0275\u0275listener"]("click",(function(e){return t.onClick(e)}))("mousedown",(function(e){return t.onMouseDown(e)})),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275element"](3,"div",3),s["\u0275\u0275element"](4,"div",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275attribute"]("aria-valuenow",t.ariaValue)("aria-valuetext",t.ariaValue+"%"),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](7,$,t.isDragging)),s["\u0275\u0275advance"](1),s["\u0275\u0275styleProp"]("width",85*t.getVolume()+"%"),s["\u0275\u0275advance"](1),s["\u0275\u0275styleProp"]("left",85*t.getVolume()+"%"))},directives:[i.m],styles:["\n      vg-volume {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        height: 50px;\n        width: 100px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n      }\n      vg-volume .volumeBar {\n        position: relative;\n        display: flex;\n        flex-grow: 1;\n        align-items: center;\n      }\n      vg-volume .volumeBackground {\n        display: flex;\n        flex-grow: 1;\n        height: 5px;\n        pointer-events: none;\n        background-color: #333;\n      }\n      vg-volume .volumeValue {\n        display: flex;\n        height: 5px;\n        pointer-events: none;\n        background-color: #fff;\n        transition: all 0.2s ease-out;\n      }\n      vg-volume .volumeKnob {\n        position: absolute;\n        width: 15px;\n        height: 15px;\n        left: 0;\n        top: 50%;\n        transform: translateY(-50%);\n        border-radius: 15px;\n        pointer-events: none;\n        background-color: #fff;\n        transition: all 0.2s ease-out;\n      }\n      vg-volume .volumeBackground.dragging .volumeValue,\n      vg-volume .volumeBackground.dragging .volumeKnob {\n        transition: none;\n      }\n    "],encapsulation:2}),e})(),q=(()=>{class e{constructor(e,t){this.API=t,this.subscriptions=[],this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor);const e=Array.from(this.API.getMasterMedia().elem.children).filter(e=>"TRACK"===e.tagName).filter(e=>"subtitles"===e.kind).map(e=>({label:e.label,selected:!0===e.default,id:e.srclang}));this.tracks=[...e,{id:null,label:"Off",selected:e.every(e=>!1===e.selected)}];const t=this.tracks.filter(e=>!0===e.selected)[0];this.trackSelected=t.id,this.ariaValue=t.label}selectTrack(e){this.trackSelected="null"===e?null:e,this.ariaValue="No track selected",Array.from(this.API.getMasterMedia().elem.textTracks).forEach(t=>{t.language===e?(this.ariaValue=t.label,t.mode="showing"):t.mode="hidden"})}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](I))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["vg-track-selector"]],inputs:{vgFor:"vgFor"},decls:5,vars:5,consts:[[1,"container"],[1,"track-selected"],["tabindex","0","aria-label","track selector",1,"trackSelector",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"select",2),s["\u0275\u0275listener"]("change",(function(e){return t.selectTrack(e.target.value)})),s["\u0275\u0275template"](4,G,2,3,"option",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275classProp"]("vg-icon-closed_caption",!t.trackSelected),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",t.trackSelected||""," "),s["\u0275\u0275advance"](1),s["\u0275\u0275attribute"]("aria-valuetext",t.ariaValue),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",t.tracks))},directives:[i.n],styles:["\n      vg-track-selector {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        width: 50px;\n        height: 50px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n      }\n      vg-track-selector .container {\n        position: relative;\n        display: flex;\n        flex-grow: 1;\n        align-items: center;\n        padding: 0;\n        margin: 5px;\n      }\n      vg-track-selector select.trackSelector {\n        width: 50px;\n        padding: 5px 8px;\n        border: none;\n        background: none;\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        appearance: none;\n        color: transparent;\n        font-size: 16px;\n      }\n      vg-track-selector select.trackSelector::-ms-expand {\n        display: none;\n      }\n      vg-track-selector select.trackSelector option {\n        color: #000;\n      }\n      vg-track-selector .track-selected {\n        position: absolute;\n        width: 100%;\n        height: 50px;\n        top: -6px;\n        text-align: center;\n        text-transform: uppercase;\n        font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n        padding-top: 2px;\n        pointer-events: none;\n      }\n      vg-track-selector .vg-icon-closed_caption:before {\n        width: 100%;\n      }\n    "],encapsulation:2}),e})(),K=(()=>{class e{transform(e,t){let n=new Date(e),i=t,r=n.getUTCSeconds(),o=n.getUTCMinutes(),a=n.getUTCHours();return r<10&&(r="0"+r),o<10&&(o="0"+o),a<10&&(a="0"+a),i=i.replace(/ss/g,r),i=i.replace(/mm/g,o),i=i.replace(/hh/g,a),i}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s["\u0275\u0275definePipe"]({name:"vgUtc",type:e,pure:!0}),e})(),J=(()=>{class e{constructor(e,t){this.API=t,this.vgProperty="current",this.vgFormat="mm:ss",this.subscriptions=[],this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}getTime(){let e=0;return this.target&&(e=Math.round(this.target.time[this.vgProperty]),e=isNaN(e)||this.target.isLive?0:e),e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](I))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["vg-time-display"]],inputs:{vgProperty:"vgProperty",vgFormat:"vgFormat",vgFor:"vgFor"},ngContentSelectors:V,decls:3,vars:2,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(s["\u0275\u0275projectionDef"](),s["\u0275\u0275template"](0,U,2,0,"span",0),s["\u0275\u0275template"](1,H,3,4,"span",0),s["\u0275\u0275projection"](2)),2&e&&(s["\u0275\u0275property"]("ngIf",null==t.target?null:t.target.isLive),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!(null!=t.target&&t.target.isLive)))},directives:[i.o],pipes:[K],styles:["\n      vg-time-display {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        height: 50px;\n        width: 60px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n        pointer-events: none;\n        font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n      }\n    "],encapsulation:2}),e})(),Q=(()=>{class e{constructor(e,t,n){this.API=t,this.hideScrubBar=!1,this.vgSlider=!0,this.isSeeking=!1,this.wasPlaying=!1,this.subscriptions=[],this.elem=e.nativeElement,this.subscriptions.push(n.isHidden.subscribe(e=>this.onHideScrubBar(e)))}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}seekStart(){this.target.canPlay&&(this.isSeeking=!0,this.target.state===A.VG_PLAYING&&(this.wasPlaying=!0),this.target.pause())}seekMove(e){if(this.isSeeking){const t=Math.max(Math.min(100*e/this.elem.scrollWidth,99.9),0);this.target.time.current=t*this.target.time.total/100,this.target.seekTime(t,!0)}}seekEnd(e){if(this.isSeeking=!1,this.target.canPlay){const t=Math.max(Math.min(100*e/this.elem.scrollWidth,99.9),0);this.target.seekTime(t,!0),this.wasPlaying&&(this.wasPlaying=!1,this.target.play())}}touchEnd(){this.isSeeking=!1,this.wasPlaying&&(this.wasPlaying=!1,this.target.play())}getTouchOffset(e){let t=0,n=e.target;for(;n;)t+=n.offsetLeft,n=n.offsetParent;return e.touches[0].pageX-t}onMouseDownScrubBar(e){this.target&&(this.target.isLive||(this.vgSlider?this.seekStart():this.seekEnd(e.offsetX)))}onMouseMoveScrubBar(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.seekMove(e.offsetX)}onMouseUpScrubBar(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.seekEnd(e.offsetX)}onTouchStartScrubBar(e){this.target&&(this.target.isLive||(this.vgSlider?this.seekStart():this.seekEnd(this.getTouchOffset(e))))}onTouchMoveScrubBar(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.seekMove(this.getTouchOffset(e))}onTouchCancelScrubBar(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.touchEnd()}onTouchEndScrubBar(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.touchEnd()}arrowAdjustVolume(e){this.target&&(38===e.keyCode||39===e.keyCode?(e.preventDefault(),this.target.seekTime((this.target.time.current+5e3)/1e3,!1)):37!==e.keyCode&&40!==e.keyCode||(e.preventDefault(),this.target.seekTime((this.target.time.current-5e3)/1e3,!1)))}getPercentage(){return this.target?Math.round(100*this.target.time.current/this.target.time.total)+"%":"0%"}onHideScrubBar(e){this.hideScrubBar=e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](I),s["\u0275\u0275directiveInject"](T))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["vg-scrub-bar"]],hostVars:2,hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("mousedown",(function(e){return t.onMouseDownScrubBar(e)}))("mousemove",(function(e){return t.onMouseMoveScrubBar(e)}),!1,s["\u0275\u0275resolveDocument"])("mouseup",(function(e){return t.onMouseUpScrubBar(e)}),!1,s["\u0275\u0275resolveDocument"])("touchstart",(function(e){return t.onTouchStartScrubBar(e)}))("touchmove",(function(e){return t.onTouchMoveScrubBar(e)}),!1,s["\u0275\u0275resolveDocument"])("touchcancel",(function(e){return t.onTouchCancelScrubBar(e)}),!1,s["\u0275\u0275resolveDocument"])("touchend",(function(e){return t.onTouchEndScrubBar(e)}),!1,s["\u0275\u0275resolveDocument"])("keydown",(function(e){return t.arrowAdjustVolume(e)})),2&e&&s["\u0275\u0275classProp"]("hide",t.hideScrubBar)},inputs:{vgSlider:"vgSlider",vgFor:"vgFor"},ngContentSelectors:V,decls:2,vars:2,consts:[["tabindex","0","role","slider","aria-label","scrub bar","aria-level","polite","aria-valuemin","0","aria-valuemax","100",1,"scrubBar"]],template:function(e,t){1&e&&(s["\u0275\u0275projectionDef"](),s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275projection"](1),s["\u0275\u0275elementEnd"]()),2&e&&s["\u0275\u0275attribute"]("aria-valuenow",t.getPercentage())("aria-valuetext",t.getPercentage())},styles:["\n      vg-scrub-bar {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        position: absolute;\n        width: 100%;\n        height: 5px;\n        bottom: 50px;\n        margin: 0;\n        cursor: pointer;\n        align-items: center;\n        background: rgba(0, 0, 0, 0.75);\n        z-index: 250;\n        -webkit-transition: bottom 1s, opacity 0.5s;\n        -khtml-transition: bottom 1s, opacity 0.5s;\n        -moz-transition: bottom 1s, opacity 0.5s;\n        -ms-transition: bottom 1s, opacity 0.5s;\n        transition: bottom 1s, opacity 0.5s;\n      }\n      vg-scrub-bar .scrubBar {\n        position: relative;\n        display: flex;\n        flex-grow: 1;\n        align-items: center;\n        height: 100%;\n      }\n      vg-controls vg-scrub-bar {\n        position: relative;\n        bottom: 0;\n        background: transparent;\n        height: 50px;\n        flex-grow: 1;\n        flex-basis: 0;\n        margin: 0 10px;\n        -webkit-transition: initial;\n        -khtml-transition: initial;\n        -moz-transition: initial;\n        -ms-transition: initial;\n        transition: initial;\n      }\n      vg-scrub-bar.hide {\n        bottom: 0;\n        opacity: 0;\n      }\n      vg-controls vg-scrub-bar.hide {\n        bottom: initial;\n        opacity: initial;\n      }\n    "],encapsulation:2}),e})(),Z=(()=>{class e{constructor(e,t,n){this.API=t,this.cdr=n,this.subscriptions=[],this.ariaValue=1,this.elem=e.nativeElement,this.playbackValues=["0.5","1.0","1.5","2.0"],this.playbackIndex=1}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}onClick(){this.updatePlaybackSpeed()}onKeyDown(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),this.updatePlaybackSpeed())}updatePlaybackSpeed(){this.playbackIndex=++this.playbackIndex%this.playbackValues.length,this.target instanceof I?this.target.playbackRate=this.playbackValues[this.playbackIndex]:this.target.playbackRate[this.vgFor]=this.playbackValues[this.playbackIndex],this.detectChanges()}getPlaybackRate(){return this.ariaValue=this.target?this.target.playbackRate:1,this.ariaValue}detectChanges(){try{this.cdr.detectChanges()}catch(e){console.warn(e)}}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](I),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["vg-playback-button"]],hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("click",(function(){return t.onClick()}))("keydown",(function(e){return t.onKeyDown(e)}))},inputs:{playbackValues:"playbackValues",vgFor:"vgFor"},decls:2,vars:2,consts:[["tabindex","0","role","button","aria-label","playback speed button",1,"button"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span",0),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275attribute"]("aria-valuetext",t.ariaValue),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",t.getPlaybackRate(),"x "))},styles:["\n      vg-playback-button {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        height: 50px;\n        width: 50px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n        font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n      }\n      vg-playback-button .button {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 50px;\n      }\n    "],encapsulation:2}),e})(),ee=(()=>{class e{constructor(e,t){this.API=t,this.subscriptions=[],this.ariaValue=A.VG_PAUSED,this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}onClick(){this.playPause()}onKeyDown(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),this.playPause())}playPause(){switch(this.getState()){case A.VG_PLAYING:this.target.pause();break;case A.VG_PAUSED:case A.VG_ENDED:this.target.play()}}getState(){return this.ariaValue=this.target?this.target.state:A.VG_PAUSED,this.ariaValue}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](I))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["vg-play-pause"]],hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("click",(function(){return t.onClick()}))("keydown",(function(e){return t.onKeyDown(e)}))},inputs:{vgFor:"vgFor"},decls:1,vars:6,consts:[["tabindex","0","role","button",1,"icon"]],template:function(e,t){1&e&&s["\u0275\u0275element"](0,"div",0),2&e&&(s["\u0275\u0275classProp"]("vg-icon-pause","playing"===t.getState())("vg-icon-play_arrow","paused"===t.getState()||"ended"===t.getState()),s["\u0275\u0275attribute"]("aria-label","paused"===t.getState()?"play":"pause")("aria-valuetext",t.ariaValue))},styles:["\n      vg-play-pause {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -khtml-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        height: 50px;\n        width: 50px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n      }\n      vg-play-pause .icon {\n        pointer-events: none;\n      }\n    "],encapsulation:2}),e})(),te=(()=>{class e{constructor(e,t){this.API=t,this.subscriptions=[],this.ariaValue="unmuted",this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.currentVolume=this.target.volume}onClick(){this.changeMuteState()}onKeyDown(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),this.changeMuteState())}changeMuteState(){const e=this.getVolume();0===e?(0===this.target.volume&&0===this.currentVolume&&(this.currentVolume=1),this.target.volume=this.currentVolume):(this.currentVolume=e,this.target.volume=0)}getVolume(){const e=this.target?this.target.volume:0;return this.ariaValue=e?"unmuted":"muted",e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](I))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["vg-mute"]],hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("click",(function(){return t.onClick()}))("keydown",(function(e){return t.onKeyDown(e)}))},inputs:{vgFor:"vgFor"},decls:1,vars:9,consts:[["tabindex","0","role","button","aria-label","mute button",1,"icon"]],template:function(e,t){1&e&&s["\u0275\u0275element"](0,"div",0),2&e&&(s["\u0275\u0275classProp"]("vg-icon-volume_up",t.getVolume()>=.75)("vg-icon-volume_down",t.getVolume()>=.25&&t.getVolume()<.75)("vg-icon-volume_mute",t.getVolume()>0&&t.getVolume()<.25)("vg-icon-volume_off",0===t.getVolume()),s["\u0275\u0275attribute"]("aria-valuetext",t.ariaValue))},styles:["\n      vg-mute {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -khtml-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        height: 50px;\n        width: 50px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n      }\n      vg-mute .icon {\n        pointer-events: none;\n      }\n    "],encapsulation:2}),e})(),ne=(()=>{class e{constructor(e,t,n){this.API=t,this.fsAPI=n,this.isFullscreen=!1,this.subscriptions=[],this.ariaValue="normal mode",this.elem=e.nativeElement,this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this)))}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}onChangeFullscreen(e){this.ariaValue=e?"fullscreen mode":"normal mode",this.isFullscreen=e}onClick(){this.changeFullscreenState()}onKeyDown(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),this.changeFullscreenState())}changeFullscreenState(){let e=this.target;this.target instanceof I&&(e=null),this.fsAPI.toggleFullscreen(e)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](I),s["\u0275\u0275directiveInject"](L))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["vg-fullscreen"]],hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("click",(function(){return t.onClick()}))("keydown",(function(e){return t.onKeyDown(e)}))},decls:1,vars:5,consts:[["tabindex","0","role","button","aria-label","fullscreen button",1,"icon"]],template:function(e,t){1&e&&s["\u0275\u0275element"](0,"div",0),2&e&&(s["\u0275\u0275classProp"]("vg-icon-fullscreen",!t.isFullscreen)("vg-icon-fullscreen_exit",t.isFullscreen),s["\u0275\u0275attribute"]("aria-valuetext",t.ariaValue))},styles:["\n      vg-fullscreen {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -khtml-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        height: 50px;\n        width: 50px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n      }\n      vg-fullscreen .icon {\n        pointer-events: none;\n      }\n    "],encapsulation:2}),e})(),ie=(()=>{class e{constructor(e,t){this.API=t,this.subscriptions=[],this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}getBufferTime(){let e="0%";return this.target&&this.target.buffer&&this.target.buffered.length&&(e=0===this.target.time.total?"0%":this.target.buffer.end/this.target.time.total*100+"%"),e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](I))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["vg-scrub-bar-buffering-time"]],inputs:{vgFor:"vgFor"},decls:1,vars:2,consts:[[1,"background"]],template:function(e,t){1&e&&s["\u0275\u0275element"](0,"div",0),2&e&&s["\u0275\u0275styleProp"]("width",t.getBufferTime())},styles:["\n      vg-scrub-bar-buffering-time {\n        display: flex;\n        width: 100%;\n        height: 5px;\n        pointer-events: none;\n        position: absolute;\n      }\n      vg-scrub-bar-buffering-time .background {\n        background-color: rgba(255, 255, 255, 0.3);\n      }\n      vg-controls vg-scrub-bar-buffering-time {\n        position: absolute;\n        top: calc(50% - 3px);\n      }\n      vg-controls vg-scrub-bar-buffering-time .background {\n        -webkit-border-radius: 2px;\n        -moz-border-radius: 2px;\n        border-radius: 2px;\n      }\n    "],encapsulation:2}),e})(),re=(()=>{class e{constructor(e,t){this.API=t,this.vgSlider=!1,this.subscriptions=[],this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}getPercentage(){return this.target?Math.round(100*this.target.time.current/this.target.time.total)+"%":"0%"}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](I))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["vg-scrub-bar-current-time"]],inputs:{vgSlider:"vgSlider",vgFor:"vgFor"},decls:2,vars:3,consts:[[1,"background"],["class","slider",4,"ngIf"],[1,"slider"]],template:function(e,t){1&e&&(s["\u0275\u0275element"](0,"div",0),s["\u0275\u0275template"](1,X,1,0,"span",1)),2&e&&(s["\u0275\u0275styleProp"]("width",t.getPercentage()),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.vgSlider))},directives:[i.o],styles:["\n      vg-scrub-bar-current-time {\n        display: flex;\n        width: 100%;\n        height: 5px;\n        pointer-events: none;\n        position: absolute;\n      }\n      vg-scrub-bar-current-time .background {\n        background-color: white;\n      }\n      vg-controls vg-scrub-bar-current-time {\n        position: absolute;\n        top: calc(50% - 3px);\n        -webkit-border-radius: 2px;\n        -moz-border-radius: 2px;\n        border-radius: 2px;\n      }\n      vg-controls vg-scrub-bar-current-time .background {\n        border: 1px solid white;\n        -webkit-border-radius: 2px;\n        -moz-border-radius: 2px;\n        border-radius: 2px;\n      }\n      vg-scrub-bar-current-time .slider {\n        background: white;\n        height: 15px;\n        width: 15px;\n        border-radius: 50%;\n        box-shadow: 0px 0px 10px black;\n        margin-top: -5px;\n        margin-left: -10px;\n      }\n    "],encapsulation:2}),e})(),oe=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,N]]}),e})(),ae=(()=>{class e{constructor(e,t,n,i){this.API=t,this.fsAPI=n,this.controlsHidden=i,this.isNativeFullscreen=!1,this.areControlsHidden=!1,this.subscriptions=[],this.isBuffering=!1,this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this))),this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this))),this.subscriptions.push(this.target.subscriptions.bufferDetected.subscribe(e=>this.onUpdateBuffer(e)))}onUpdateBuffer(e){this.isBuffering=e}onChangeFullscreen(e){this.fsAPI.nativeFullscreen&&(this.isNativeFullscreen=e)}onHideControls(e){this.areControlsHidden=e}onClick(){switch(this.getState()){case A.VG_PLAYING:this.target.pause();break;case A.VG_PAUSED:case A.VG_ENDED:this.target.play()}}getState(){let e=A.VG_PAUSED;if(this.target)if(this.target.state instanceof Array){for(let t=0,n=this.target.state.length;t<n;t++)if(this.target.state[t]===A.VG_PLAYING){e=A.VG_PLAYING;break}}else e=this.target.state;return e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](I),s["\u0275\u0275directiveInject"](L),s["\u0275\u0275directiveInject"](T))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["vg-overlay-play"]],hostVars:2,hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("click",(function(){return t.onClick()})),2&e&&s["\u0275\u0275classProp"]("is-buffering",t.isBuffering)},inputs:{vgFor:"vgFor"},decls:2,vars:6,consts:[[1,"vg-overlay-play"],[1,"overlay-play-container"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275element"](1,"div",1),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275classProp"]("native-fullscreen",t.isNativeFullscreen)("controls-hidden",t.areControlsHidden),s["\u0275\u0275advance"](1),s["\u0275\u0275classProp"]("vg-icon-play_arrow","playing"!==t.getState()))},styles:["\n      vg-overlay-play {\n        z-index: 200;\n      }\n      vg-overlay-play.is-buffering {\n        display: none;\n      }\n      vg-overlay-play .vg-overlay-play {\n        transition: all 0.5s;\n        cursor: pointer;\n        position: absolute;\n        display: block;\n        color: white;\n        width: 100%;\n        height: 100%;\n        font-size: 80px;\n        filter: alpha(opacity=60);\n        opacity: 0.6;\n      }\n      vg-overlay-play .vg-overlay-play.native-fullscreen.controls-hidden {\n        cursor: none;\n      }\n      vg-overlay-play\n        .vg-overlay-play\n        .overlay-play-container.vg-icon-play_arrow {\n        pointer-events: none;\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 80px;\n      }\n      vg-overlay-play .vg-overlay-play:hover {\n        filter: alpha(opacity=100);\n        opacity: 1;\n      }\n      vg-overlay-play\n        .vg-overlay-play:hover\n        .overlay-play-container.vg-icon-play_arrow:before {\n        transform: scale(1.2);\n      }\n    "],encapsulation:2}),e})(),se=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,N]]}),e})(),le=(()=>{class e{constructor(e,t){this.API=t,this.checkInterval=50,this.currentPlayPos=0,this.lastPlayPos=0,this.subscriptions=[],this.isBuffering=!1,this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.subscriptions.push(this.target.subscriptions.bufferDetected.subscribe(e=>this.onUpdateBuffer(e)))}onUpdateBuffer(e){this.isBuffering=e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](I))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["vg-buffering"]],hostVars:2,hostBindings:function(e,t){2&e&&s["\u0275\u0275classProp"]("is-buffering",t.isBuffering)},inputs:{vgFor:"vgFor"},decls:3,vars:0,consts:[[1,"vg-buffering"],[1,"bufferingContainer"],[1,"loadingSpinner"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275element"](2,"div",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())},styles:["\n      vg-buffering {\n        display: none;\n        z-index: 201;\n      }\n      vg-buffering.is-buffering {\n        display: block;\n      }\n\n      .vg-buffering {\n        position: absolute;\n        display: block;\n        width: 100%;\n        height: 100%;\n      }\n      .vg-buffering .bufferingContainer {\n        width: 100%;\n        position: absolute;\n        cursor: pointer;\n        top: 50%;\n        margin-top: -50px;\n        zoom: 1;\n        filter: alpha(opacity=60);\n        opacity: 0.6;\n      }\n      /* Loading Spinner\n        * http://www.alessioatzeni.com/blog/css3-loading-animation-loop/\n        */\n      .vg-buffering .loadingSpinner {\n        background-color: rgba(0, 0, 0, 0);\n        border: 5px solid rgba(255, 255, 255, 1);\n        opacity: 0.9;\n        border-top: 5px solid rgba(0, 0, 0, 0);\n        border-left: 5px solid rgba(0, 0, 0, 0);\n        border-radius: 50px;\n        box-shadow: 0 0 35px #ffffff;\n        width: 50px;\n        height: 50px;\n        margin: 0 auto;\n        -moz-animation: spin 0.5s infinite linear;\n        -webkit-animation: spin 0.5s infinite linear;\n      }\n      .vg-buffering .loadingSpinner .stop {\n        -webkit-animation-play-state: paused;\n        -moz-animation-play-state: paused;\n      }\n      @-moz-keyframes spin {\n        0% {\n          -moz-transform: rotate(0deg);\n        }\n        100% {\n          -moz-transform: rotate(360deg);\n        }\n      }\n      @-moz-keyframes spinoff {\n        0% {\n          -moz-transform: rotate(0deg);\n        }\n        100% {\n          -moz-transform: rotate(-360deg);\n        }\n      }\n      @-webkit-keyframes spin {\n        0% {\n          -webkit-transform: rotate(0deg);\n        }\n        100% {\n          -webkit-transform: rotate(360deg);\n        }\n      }\n      @-webkit-keyframes spinoff {\n        0% {\n          -webkit-transform: rotate(0deg);\n        }\n        100% {\n          -webkit-transform: rotate(-360deg);\n        }\n      }\n    "],encapsulation:2}),e})(),ce=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,N]]}),e})();var ue=n("aceb"),de=n("tR1z"),he=n("RS3s"),pe=n("z+eI");function me(e,t){if(1&e&&s["\u0275\u0275element"](0,"div",5),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275propertyInterpolate1"]("ngClass","ngx-org-connector-",e.direction,"")}}const ge=function(e){return{"background-image":e}};function fe(e,t){if(1&e&&s["\u0275\u0275element"](0,"div",6),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("ngStyle",s["\u0275\u0275pureFunction1"](1,ge,"url('"+(null==e.node?null:e.node.image)+"')"))}}function be(e,t){if(1&e&&s["\u0275\u0275element"](0,"div",5),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275propertyInterpolate1"]("ngClass","ngx-org-connector-",e.direction,"")}}function ve(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"ngx-chart-node",2),s["\u0275\u0275listener"]("itemClick",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().itemClick.emit(t)})),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275propertyInterpolate1"]("ngClass","ngx-org-",e.direction,""),s["\u0275\u0275property"]("node",e.node)("hasParent",e.hasParent)("direction",e.direction)}}function xe(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"div",5),s["\u0275\u0275elementStart"](2,"div",6),s["\u0275\u0275element"](3,"div",7),s["\u0275\u0275element"](4,"div",8),s["\u0275\u0275element"](5,"div",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"ngx-chart-designer",9),s["\u0275\u0275listener"]("itemClick",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).itemClick.emit(t)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.$implicit,n=t.first,i=t.last,r=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275propertyInterpolate1"]("ngClass","ngx-org-org-container-",r.direction,""),s["\u0275\u0275advance"](1),s["\u0275\u0275propertyInterpolate1"]("ngClass","ngx-org-connector-container-",r.direction,""),s["\u0275\u0275advance"](1),s["\u0275\u0275styleProp"]("border-color",n?"transparent":""),s["\u0275\u0275advance"](2),s["\u0275\u0275styleProp"]("border-color",i?"transparent":""),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("node",e)("hasParent",!0)("direction",r.direction)}}function ye(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",3),s["\u0275\u0275template"](1,xe,7,9,"ng-container",4),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275propertyInterpolate1"]("ngClass","ngx-org-reports-",e.direction,""),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",null==e.node?null:e.node.childs)}}function Se(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"div"),s["\u0275\u0275elementStart"](2,"ngx-chart-designer",2),s["\u0275\u0275listener"]("itemClick",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).itemClick.emit(t)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.$implicit,n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275classMapInterpolate1"]("ngx-org-self-",n.direction,""),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("node",e)("direction",n.direction)}}function Ee(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275template"](1,Se,3,5,"ng-container",1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",e.nodes)}}let we=(()=>{class e{constructor(){this.hasParent=!1,this.direction="vertical",this.itemClick=new s.EventEmitter}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-chart-node"]],inputs:{hasParent:"hasParent",direction:"direction",node:"node"},outputs:{itemClick:"itemClick"},decls:9,vars:6,consts:[["class","ngx-org-border",3,"ngClass",4,"ngIf"],[1,"ngx-org-box","ngx-org-border","ngx-org-background",3,"ngClass","click"],["class","ngx-org-image ngx-org-border",3,"ngStyle",4,"ngIf"],[1,"ngx-org-name"],[1,"ngx-org-title"],[1,"ngx-org-border",3,"ngClass"],[1,"ngx-org-image","ngx-org-border",3,"ngStyle"]],template:function(e,t){1&e&&(s["\u0275\u0275template"](0,me,1,1,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275listener"]("click",(function(){return t.itemClick.emit(t.node)})),s["\u0275\u0275template"](2,fe,1,3,"div",2),s["\u0275\u0275elementStart"](3,"div"),s["\u0275\u0275elementStart"](4,"div",3),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",4),s["\u0275\u0275text"](7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](8,be,1,1,"div",0)),2&e&&(s["\u0275\u0275property"]("ngIf",t.hasParent),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngClass",null==t.node?null:t.node.cssClass),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==t.node?null:t.node.image),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](null==t.node?null:t.node.name),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](null==t.node?null:t.node.title),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==t.node?null:null==t.node.childs?null:t.node.childs.length))},directives:[i.o,i.m,i.p],styles:["[_nghost-%COMP%]{display:flex;align-items:center}.ngx-org-box[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}"]}),e})(),Ce=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e,bootstrap:function(){return[we]}}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c]]}),e})(),_e=(()=>{class e{constructor(){this.hasParent=!1,this.direction="vertical",this.itemClick=new s.EventEmitter}get hostClass(){return"vertical"===this.direction?"column":""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-chart-designer"]],hostVars:2,hostBindings:function(e,t){2&e&&s["\u0275\u0275styleProp"]("flex-direction",t.hostClass)},inputs:{hasParent:"hasParent",direction:"direction",node:"node"},outputs:{itemClick:"itemClick"},decls:2,vars:2,consts:[[3,"ngClass","node","hasParent","direction","itemClick",4,"ngIf"],["class","ngx-org-reports",3,"ngClass",4,"ngIf"],[3,"ngClass","node","hasParent","direction","itemClick"],[1,"ngx-org-reports",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"ngx-org-org-container",3,"ngClass"],[1,"ngx-org-connector-container",3,"ngClass"],[1,"ngx-org-connector","ngx-org-border"],[1,"ngx-org-border"],[3,"node","hasParent","direction","itemClick"]],template:function(e,t){1&e&&(s["\u0275\u0275template"](0,ve,1,4,"ngx-chart-node",0),s["\u0275\u0275template"](1,ye,2,2,"div",1)),2&e&&(s["\u0275\u0275property"]("ngIf",t.node),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==t.node?null:null==t.node.childs?null:t.node.childs.length))},directives:[i.o,we,i.m,i.n,e],styles:["[_nghost-%COMP%]{display:flex;align-items:center;flex:1}.ngx-org-vertical[_ngcontent-%COMP%]{flex-direction:column}.ngx-org-org-container[_ngcontent-%COMP%]{display:flex}.ngx-org-org-container-vertical[_ngcontent-%COMP%]{flex-direction:column}.ngx-org-connector[_ngcontent-%COMP%]{flex:1}.ngx-org-connector-container[_ngcontent-%COMP%]{display:flex}.ngx-org-connector-container-horizontal[_ngcontent-%COMP%]{flex-direction:column}.ngx-org-reports[_ngcontent-%COMP%]{display:flex;flex:1}.ngx-org-reports-horizontal[_ngcontent-%COMP%]{flex-direction:column}"]}),e})(),Pe=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e,bootstrap:function(){return[_e]}}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,Ce]]}),e})(),Oe=(()=>{class e{constructor(){this.hasParent=!1,this.direction="vertical",this.itemClick=new s.EventEmitter}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-org-chart"]],inputs:{hasParent:"hasParent",direction:"direction",nodes:"nodes"},outputs:{itemClick:"itemClick"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"node","direction","itemClick"]],template:function(e,t){1&e&&s["\u0275\u0275template"](0,Ee,2,1,"div",0),2&e&&s["\u0275\u0275property"]("ngIf",null==t.nodes?null:t.nodes.length)},directives:[i.o,i.n,_e],styles:['body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{display:flex;flex:1}.ngx-org-name[_ngcontent-%COMP%]{font-family:"Patua One",cursive}.ngx-org-title[_ngcontent-%COMP%]{font-family:Oswald,sans-serif}.ngx-org-border[_ngcontent-%COMP%]{border-color:#9e9e9e}.ngx-org-box[_ngcontent-%COMP%]{color:#000;width:10em}.ngx-org-self-vertical[_ngcontent-%COMP%]{margin-bottom:2%}']}),e})(),ke=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e,bootstrap:function(){return[Oe]}}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,Pe]]}),e})();var Me=n("zQsl"),Ae=n("7pIB"),Ie=(n("YsXA"),function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[]]}),e}()),Te=n("tyNb"),je=n("Vcg+"),Le=n("LMZs");function De(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"li"),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275elementStart"](2,"strong"),s["\u0275\u0275text"](3,"Correo electr\xf3nico:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"br"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",e.consumer.email," ")}}function Fe(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"li"),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275elementStart"](2,"strong"),s["\u0275\u0275text"](3,"Estrato:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"br"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",e.consumer.estrato," ")}}function Re(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"li"),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275elementStart"](2,"strong"),s["\u0275\u0275text"](3,"G\xe9nero:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"br"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",e.consumer.genero," ")}}function Be(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"li"),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275elementStart"](2,"strong"),s["\u0275\u0275text"](3,"Hijos:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"br"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",e.consumer.hijos?e.consumer.cantidadHijos:"Sin hijos"," ")}}function Ne(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"li"),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275elementStart"](2,"strong"),s["\u0275\u0275text"](3,"Mascotas:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"br"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",e.consumer.mascotas?"Si":"No"," ")}}function Ve(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"li"),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275elementStart"](2,"strong"),s["\u0275\u0275text"](3,"Estado civil:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"br"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",e.consumer.estadoCivil," ")}}function ze(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"li"),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275elementStart"](2,"strong"),s["\u0275\u0275text"](3,"Nivel educativo:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"br"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",e.consumer.nivelEducativo," ")}}function $e(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",13),s["\u0275\u0275element"](1,"ng2-smart-table",14),s["\u0275\u0275elementStart"](2,"nb-card",15),s["\u0275\u0275elementStart"](3,"h5"),s["\u0275\u0275text"](4),s["\u0275\u0275pipe"](5,"currency"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("source",e.source)("settings",e.settings),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("Total de cr\xe9ditos: ",s["\u0275\u0275pipeBind1"](5,3,e.totalCredits),"")}}function Ge(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-card-body"),s["\u0275\u0275elementStart"](1,"div",8),s["\u0275\u0275elementStart"](2,"h4",9),s["\u0275\u0275text"](3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275elementStart"](5,"section",10),s["\u0275\u0275elementStart"](6,"ul"),s["\u0275\u0275template"](7,De,6,1,"li",11),s["\u0275\u0275template"](8,Fe,6,1,"li",11),s["\u0275\u0275template"](9,Re,6,1,"li",11),s["\u0275\u0275template"](10,Be,6,1,"li",11),s["\u0275\u0275template"](11,Ne,6,1,"li",11),s["\u0275\u0275template"](12,Ve,6,1,"li",11),s["\u0275\u0275template"](13,ze,6,1,"li",11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](14,$e,6,5,"div",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](),t=s["\u0275\u0275reference"](10);s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate2"]("",null==e.consumer?null:e.consumer.nombre," ",null==e.consumer?null:e.consumer.apellido,""),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",e.consumer.email),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.consumer.estrato),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.consumer.genero),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.consumer.hijos),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.consumer.mascotas),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.consumer.estadoCivil),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.consumer.nivelEducativo),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.interests.length>0)("ngIfElse",t)}}function Ue(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",16),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275text"](2,"No hay registro de intereses para este usuario."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function He(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",17),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"p"),s["\u0275\u0275text"](3,"\xbfEst\xe1s seguro eliminar a este usuario?"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"nb-card-footer",18),s["\u0275\u0275elementStart"](5,"button",19),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275text"](6,"Cancelar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"button",20),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const n=t.dialogRef;return s["\u0275\u0275nextContext"]().onDelete(n)})),s["\u0275\u0275text"](8,"Eliminar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function Xe(e,t){if(1&e&&s["\u0275\u0275element"](0,"nb-card",21),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("nbSpinner",e.loading)}}let Ye=(()=>{class e{constructor(e,t,n,i){this.mainService=e,this.activatedRoute=t,this.dialogService=n,this.generalService=i,this.API_USUARIO="api/user",this.API_RECOMPENSA_BY_USER="api/recompensa/user",this.loading=!0,this.consumer={},this.interests=[],this.totalCredits=0,this.settings={noDataMessage:"Ning\xfan elemento encontrado",actions:!1,columns:{interests:{filter:!1,title:"Intereses",width:"65%",valuePrepareFunction:e=>e.charAt(0).toLocaleUpperCase()+e.substr(1).toLocaleLowerCase()},ranking:{title:"Ranking",filter:!1,width:"15%"},credits:{title:"Cr\xe9ditos",filter:!1,width:"15%",valuePrepareFunction:e=>e.toLocaleString("en-US",{style:"currency",currency:"USD"})}}}}ngOnInit(){const e=this.activatedRoute.snapshot.paramMap.get("user");this.source=new he.a,this.getUser({uid:e}),this.getInterest({uid:e})}getUser({uid:e}){this.mainService.get({api:`${this.API_USUARIO}/${e}`}).then(e=>{this.consumer=e,console.log(e)}).finally(()=>this.loading=!1)}getInterest({uid:e}){this.mainService.get({api:`${this.API_RECOMPENSA_BY_USER}/${e}`}).then(e=>{e.length>0&&(this.interests=e.map(e=>({interests:e.sector?e.sector.nombre:"null",ranking:e.ranking,credits:e.creditos,id:e._id})),this.totalCredits=this.interests.reduce((e,t)=>e+t.credits,0),this.source.load(this.interests))})}openConfirmationDialog(e){this.dialogService.open(e)}onDelete(e){this.mainService.delete({api:`${this.API_USUARIO}/${this.activatedRoute.snapshot.paramMap.get("user")}`}).then(t=>{e.close(),this.goBack()})}closeDialog(e){e.close()}goBack(){this.generalService.goBack()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](Te.a),s["\u0275\u0275directiveInject"](ue.x),s["\u0275\u0275directiveInject"](je.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-consumer-detail"]],decls:15,vars:2,consts:[[1,"d-flex","justify-content-between"],[1,"fa","fa-arrow-left","pointer",3,"click"],["nbButton","","status","danger","size","small",3,"click"],["icon","trash-2-outline"],[4,"ngIf","ngIfElse"],["emptyTable",""],["dialogDeleteUserAtDetailComponent",""],["loadingName",""],[1,"row"],[1,"consumer-name","pl-3"],[1,"col-4","basic-info","pr-4"],[4,"ngIf"],["class","table-container col-8 pt-3",4,"ngIf","ngIfElse"],[1,"table-container","col-8","pt-3"],[3,"source","settings"],[1,"total"],[1,"empty-table","d-flex","justify-content-center","mt-3","ml-3"],[1,"dialog"],[1,"footer","btnOptions"],["nbButton","",3,"click"],["nbButton","","status","danger",3,"click"],["size","medium","nbSpinnerSize","large","nbSpinnerMessage","",1,"col",3,"nbSpinner"]],template:function(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header",0),s["\u0275\u0275elementStart"](2,"h4"),s["\u0275\u0275elementStart"](3,"i",1),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](4," Detalle del usuario "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"button",2),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const n=s["\u0275\u0275reference"](12);return t.openConfirmationDialog(n)})),s["\u0275\u0275element"](6,"nb-icon",3),s["\u0275\u0275text"](7," Eliminar usuario "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](8,Ge,15,11,"nb-card-body",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](9,Ue,3,0,"ng-template",null,5,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](11,He,9,0,"ng-template",null,6,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](13,Xe,1,1,"ng-template",null,7,s["\u0275\u0275templateRefExtractor"])}if(2&e){const e=s["\u0275\u0275reference"](14);s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("ngIf",!t.loading)("ngIfElse",e)}},directives:[ue.o,ue.q,ue.j,ue.A,i.o,ue.n,he.b,ue.p,ue.cb],pipes:[i.d],styles:["h3[_ngcontent-%COMP%]{min-width:200px}i[_ngcontent-%COMP%]{font-size:25px;margin-right:10px;cursor:pointer}.consumer-name[_ngcontent-%COMP%]{text-transform:capitalize}.empty-table[_ngcontent-%COMP%]{text-align:center;width:50%}.total[_ngcontent-%COMP%]{padding:1rem;margin:1rem 0;text-align:right}.total[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1rem}.basic-info[_ngcontent-%COMP%]{padding:1em}.basic-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:4px}.dialog[_ngcontent-%COMP%]{max-width:420px}.dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin:.4rem;right:0;position:absolute}.dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;padding:4rem 1rem 1rem}.dialog[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{text-align:center}.dialog[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#200081;font-weight:bolder;text-transform:capitalize}.btnOptions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),e})();const We=["deleteEmpresaDialogFromDetail"];function qe(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",16),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const t=s["\u0275\u0275nextContext"](),n=s["\u0275\u0275reference"](34);return t.openDialog(n)})),s["\u0275\u0275element"](1,"nb-icon",17),s["\u0275\u0275text"](2," Eliminar empresa "),s["\u0275\u0275elementEnd"]()}}function Ke(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-list-item"),s["\u0275\u0275element"](1,"nb-user",18),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("name",e.sector.nombre)("picture",e.sector.icono)}}function Je(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",19),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().goToPosts()})),s["\u0275\u0275text"](1," Ver publicaciones "),s["\u0275\u0275elementEnd"]()}}function Qe(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",20),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().approveEmpresa()})),s["\u0275\u0275text"](1," Aprobar registro "),s["\u0275\u0275elementEnd"]()}}function Ze(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",21),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"button",22),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275element"](3,"nb-icon",23),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",24),s["\u0275\u0275elementStart"](5,"p"),s["\u0275\u0275text"](6," \xbfEst\xe1s seguro de eliminar "),s["\u0275\u0275elementStart"](7,"span",25),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](9," ? "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"p"),s["\u0275\u0275text"](11,"El administrador correspondiente a esta empresa ser\xe1 deshabilitado."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"nb-card-footer",26),s["\u0275\u0275elementStart"](13,"button",27),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const n=t.dialogRef;return s["\u0275\u0275nextContext"]().deleteEmpresa(n)})),s["\u0275\u0275text"](14,"Eliminar empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;s["\u0275\u0275advance"](8),s["\u0275\u0275textInterpolate"](e.text)}}let et=(()=>{class e{constructor(e,t,n,i){this.mainService=e,this.activatedRoute=t,this.generalService=n,this.dialogService=i,this.API_EMPRESA="api/empresa",this.API_SECTOR="api/sector",this.empresa={},this.loading=!1,this.sectores=[]}ngOnInit(){this.getSectores()}fetchEmpresa({id:e}){this.loading=!0,this.mainService.get({api:`${this.API_EMPRESA}/${e}`}).then(e=>{this.empresa=e,this.empresa.sectores=this.empresa.sectores.map(e=>({sector:this.sectores.find(t=>t._id===e._id)}))}).finally(()=>{this.loading=!0})}goBack(){this.generalService.goBack()}onEdit(){this.generalService.routerNavigateTo({path:`index/empresas/editar/${this.empresa._id}`})}getSectores(){this.mainService.get({api:this.API_SECTOR}).then(e=>{this.sectores=e}).finally(()=>{const e=this.activatedRoute.snapshot.paramMap.get("id");this.fetchEmpresa({id:e})})}approveEmpresa(){const e=this.empresa._id;this.loading=!0,this.mainService.put({api:`${this.API_EMPRESA}/${e}`,data:{estado:"aprobado"}}).then(e=>{e&&(this.fetchEmpresa({id:e._id}),this.generalService.showToastr({title:"Empresa aprobada",message:"",status:"success"})),this.goBack()}).finally(()=>{this.loading=!1})}goToPosts(){this.generalService.routerNavigateTo({path:`/index/publicaciones/empresa/${this.empresa._id}`})}openDialog(e){this.dialogRefEmpresa=this.dialogService.open(this.deleteEmpresaDialogFromDetail,{context:{text:`${this.empresa.nombre}`}})}deleteEmpresa(e){this.mainService.delete({api:`${this.API_EMPRESA}/${this.empresa._id}`}).finally(()=>{this.dialogRefEmpresa.close(),this.goBack()})}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](Te.a),s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](ue.x))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-empresa-detail"]],viewQuery:function(e,t){var n;1&e&&s["\u0275\u0275staticViewQuery"](We,!0),2&e&&s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.deleteEmpresaDialogFromDetail=n.first)},decls:35,vars:10,consts:[[3,"nbSpinner"],[1,"d-flex","justify-content-between"],[1,"fa","fa-arrow-left","pointer",3,"click"],["nbButton","","status","primary","size","small",1,"m-1",3,"click"],["icon","edit-2-outline"],["nbButton","","status","danger","size","small","class","m-1",3,"click",4,"ngIf"],[1,"empresa","m-4"],[1,"row","header-row"],[1,"logo","p-3",3,"src","alt"],[1,"row"],[1,"col-12","center"],[1,"p-2","my-2","container-empresa"],[4,"ngFor","ngForOf"],["nbButton","","size","medium","class","ml-auto verPublicacion",3,"click",4,"ngIf"],["nbButton","","size","medium","status","success","class","mx-auto my-2",3,"click",4,"ngIf"],["deleteEmpresaDialogFromDetail",""],["nbButton","","status","danger","size","small",1,"m-1",3,"click"],["icon","trash-outline"],[3,"name","picture"],["nbButton","","size","medium",1,"ml-auto","verPublicacion",3,"click"],["nbButton","","size","medium","status","success",1,"mx-auto","my-2",3,"click"],[1,"dialog"],["nbButton","","ghost","","status","primary",1,"close",3,"click"],["icon","close-outline"],[1,"text-container","mx-auto"],[1,"username"],[1,"footer"],["nbButton","","status","danger",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header",1),s["\u0275\u0275elementStart"](2,"h3"),s["\u0275\u0275elementStart"](3,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](4," Detalle de la empresa "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div"),s["\u0275\u0275elementStart"](6,"button",3),s["\u0275\u0275listener"]("click",(function(){return t.onEdit()})),s["\u0275\u0275element"](7,"nb-icon",4),s["\u0275\u0275text"](8," Editar registro "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](9,qe,3,0,"button",5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"nb-card-body",6),s["\u0275\u0275elementStart"](11,"div",7),s["\u0275\u0275element"](12,"img",8),s["\u0275\u0275elementStart"](13,"h4"),s["\u0275\u0275text"](14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",9),s["\u0275\u0275elementStart"](16,"div",10),s["\u0275\u0275elementStart"](17,"section",11),s["\u0275\u0275elementStart"](18,"h5"),s["\u0275\u0275text"](19,"Nombre de la empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"p"),s["\u0275\u0275text"](21),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"h5"),s["\u0275\u0275text"](23,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](24,"p"),s["\u0275\u0275text"](25),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"h5"),s["\u0275\u0275text"](27,"Sectores:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"nb-list"),s["\u0275\u0275template"](29,Ke,2,2,"nb-list-item",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](30,Je,2,0,"button",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](31,"div",9),s["\u0275\u0275template"](32,Qe,2,0,"button",14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](33,Ze,15,1,"ng-template",null,15,s["\u0275\u0275templateRefExtractor"])),2&e&&(s["\u0275\u0275property"]("nbSpinner",!t.loading),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("ngIf","aprobado"===t.empresa.estado),s["\u0275\u0275advance"](3),s["\u0275\u0275propertyInterpolate"]("src",t.empresa.logo,s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275propertyInterpolate"]("alt",t.empresa.nombre),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](t.empresa.nombre),s["\u0275\u0275advance"](7),s["\u0275\u0275textInterpolate"](t.empresa.nombre),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](t.empresa.descripcion),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngForOf",t.empresa.sectores),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","aprobado"===t.empresa.estado),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf","pendiente"===t.empresa.estado))},directives:[ue.o,ue.cb,ue.q,ue.j,ue.A,i.o,ue.n,ue.M,i.n,ue.N,ue.rb,ue.p],styles:[".header-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}i[_ngcontent-%COMP%]{font-size:25px;margin-right:10px}  .nb-theme-default nb-layout #remove-padding .layout .layout-container .content .columns nb-layout-column{padding:0}.logo[_ngcontent-%COMP%]{max-height:120px;border-radius:8px;width:auto;margin-right:10px}.short-btn[_ngcontent-%COMP%]{height:50px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.img-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.first-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900}a[_ngcontent-%COMP%]:hover{cursor:pointer}.dialog[_ngcontent-%COMP%]{max-width:420px}.dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin:.2rem;right:0;position:absolute}.dialog[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]{margin-top:3.2rem;text-align:center;max-width:80%}.dialog[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#200081;font-weight:bolder;text-transform:capitalize}.dialog[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{text-align:center}.container-empresa[_ngcontent-%COMP%]{max-width:800px}.verPublicacion[_ngcontent-%COMP%]{margin-top:20px}"]}),e})(),tt=(()=>{class e{constructor(){this.description="Por definir",this.value="0"}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-kpi-card"]],inputs:{description:"description",value:"value"},decls:5,vars:2,consts:[[1,"kpi-card","d-flex","justify-content-center","align-items-center"],[1,"value"],[1,"description"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"p",1),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"p",2),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](t.value),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](t.description))},directives:[ue.o],styles:[".kpi-card[_ngcontent-%COMP%]{text-align:center;margin:0;padding:1rem;min-height:100px;height:100%}.kpi-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:2.6rem;color:grey;padding:4px}.kpi-card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin:0;padding:0;font-weight:700;font-size:1rem}"]}),e})();function nt(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",3),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"button",4),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275element"](3,"nb-icon",5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",6),s["\u0275\u0275elementStart"](5,"p"),s["\u0275\u0275text"](6,"\xbfEst\xe1s seguro de eliminar "),s["\u0275\u0275elementStart"](7,"span",7),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](9,"?"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"p"),s["\u0275\u0275text"](11,"El administrador correspondiente a esta empresa ser\xe1 deshabilitado."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"nb-card-footer",8),s["\u0275\u0275elementStart"](13,"button",9),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const n=t.dialogRef,i=t.$implicit;return s["\u0275\u0275nextContext"]().onDeleteEmpresa(n,i.id)})),s["\u0275\u0275text"](14," Eliminar empresa "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;s["\u0275\u0275advance"](8),s["\u0275\u0275textInterpolate"](e.text)}}let it=(()=>{class e{constructor(e,t,n){this.generalService=e,this.mainService=t,this.dialogService=n,this.update=new s.EventEmitter,this.API_EMPRESA="api/empresa"}ngOnInit(){}ngOnChanges(e){this.source=e.source.currentValue}onCustomAction({event:e},t){switch(e.action){case"ver":this.generalService.routerNavigateTo({path:`/index/empresa/${e.data._id}`});break;case"aprobar":this.approveEmpresa({id:e.data._id});break;case"rechazar":this.rejectEmpresa({id:e.data._id});break;case"publicaciones":this.generalService.routerNavigateTo({path:`/index/publicaciones/empresa/${e.data._id}`});break;case"eliminar":this.dialogRef=this.dialogService.open(t,{context:{text:`${e.data.nombre}`,id:e.data._id}})}}closeDialog(e){e.close()}rejectEmpresa({id:e}){this.mainService.put({api:`${this.API_EMPRESA}/${e}`,data:{estado:"rechazado"}}).then(e=>{e&&(this.generalService.showToastr({title:"Empresa rechazada",message:"",status:"danger"}),this.update.emit())})}approveEmpresa({id:e}){this.mainService.put({api:`${this.API_EMPRESA}/${e}`,data:{estado:"aprobado"}}).then(e=>{e&&(this.generalService.showToastr({title:"Empresa aprobada",message:"",status:"success"}),this.update.emit())})}onDeleteEmpresa(e,t){this.closeDialog(e),this.mainService.delete({api:`${this.API_EMPRESA}/${t}`}).finally(()=>this.update.emit())}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](ue.x))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-empresas-table"]],inputs:{source:"source",settings:"settings"},outputs:{update:"update"},features:[s["\u0275\u0275NgOnChangesFeature"]],decls:4,vars:2,consts:[[1,"table"],[3,"source","settings","custom"],["deleteEmpresaDialog",""],[1,"dialog"],["nbButton","","ghost","","status","primary",1,"close",3,"click"],["icon","close-outline"],[1,"text-container","mx-auto"],[1,"username"],[1,"footer"],["nbButton","","status","danger",3,"click"]],template:function(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"ng2-smart-table",1),s["\u0275\u0275listener"]("custom",(function(n){s["\u0275\u0275restoreView"](e);const i=s["\u0275\u0275reference"](3);return t.onCustomAction({event:n},i)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](2,nt,15,1,"ng-template",null,2,s["\u0275\u0275templateRefExtractor"])}2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("source",t.source)("settings",t.settings))},directives:[he.b,ue.o,ue.n,ue.j,ue.A,ue.p],styles:["[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:18px;height:18px;margin:8px 8px 10px 12px;float:left;font-size:1rem}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i{padding-top:10px;font-size:18px;color:#08003d}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i:hover{color:#200081}.dialog[_ngcontent-%COMP%]{max-width:420px}.dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin:.4rem;right:0;position:absolute}.dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{width:100%;padding:4rem 1rem 1rem;text-align:center}.dialog[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{text-align:center}.dialog[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#200081;font-weight:bolder;text-transform:capitalize}"]}),e})();function rt(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"ngx-empresas-table",8),s["\u0275\u0275listener"]("update",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().fetchEmpresas()})),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("settings",e.empresas.pending.settings)("source",e.empresas.pending.source)}}function ot(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",10),s["\u0275\u0275element"](1,"nb-icon",11),s["\u0275\u0275elementStart"](2,"p",12),s["\u0275\u0275text"](3,"No hay solicitudes pendientes."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}let at=(()=>{class e{constructor(e,t){this.mainService=e,this.iconLibraries=t,this.API_EMPRESAS="api/empresa",this.API_EMPRESAS_REGISTRADAS="api/empresa/count",this.API_EMPRESAS_ACTIVAS="api/empresa/active/count",this.loading=!1,this.registeredCompanies=0,this.activeCompanies=0,this.empresas={approved:{settings:{noDataMessage:"Ning\xfan elemento encontrado.",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"publicaciones",title:'<i class="fas fa-search" title="Ver publicaciones"></i>'},{name:"ver",title:'<i class="fas fa-pen" title="Ver empresa"></i>'},{name:"eliminar",title:'<i class="fas fa-trash" title="Eliminar empresa"></i>'}]},columns:{nombre:{title:"Nombre",width:"80%"}},mode:"external"},source:[]},pending:{settings:{noDataMessage:"Ning\xfan elemento pendiente.",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"ver",title:'<i class="fa fa-search" title="Ver empresa"></i>'},{name:"rechazar",title:'<i class="fa fa-times" title="Rechazar"></i>'},{name:"aprobar",title:'<i class="fa fa-check" title="Aprobar"></i>'}]},columns:{nombre:{title:"Nombre",width:"80%"}},mode:"external"},source:[]}},this.iconLibraries.registerFontPack("font-awesome",{iconClassPrefix:"fa",packClass:"fas"})}ngOnInit(){this.fetchEmpresas(),this.fetchKpis()}fetchEmpresas(){this.loading=!0,this.mainService.get({api:this.API_EMPRESAS,hide404:!0}).then(e=>{this.setEmpresasTable({data:e})}).finally(()=>{this.loading=!1})}setEmpresasTable({data:e}){this.empresas.approved.source=e.filter(e=>"aprobado"===e.estado),this.empresas.pending.source=e.filter(e=>"pendiente"===e.estado)}fetchKpis(){this.mainService.get({api:this.API_EMPRESAS_ACTIVAS}).then(e=>{this.activeCompanies=e}),this.mainService.get({api:this.API_EMPRESAS_REGISTRADAS}).then(e=>{this.registeredCompanies=e})}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](ue.B))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-empresas"]],decls:19,vars:7,consts:[[1,"row","mb-3"],[1,"col-3"],["description","Empresas registradas",3,"value"],["description","Empresas activas",3,"value"],[1,"tabset",3,"nbSpinner"],[1,"col","mb-4"],[3,"settings","source","update",4,"ngIf","ngIfElse"],[1,"col"],[3,"settings","source","update"],["noPendingItemsBlock",""],[1,"empty","p-2"],["icon","checkmark-outline",1,"mx-auto","mt-2"],[1,"mx-auto"]],template:function(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"h3"),s["\u0275\u0275text"](1,"Empresas"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275element"](4,"ngx-kpi-card",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",1),s["\u0275\u0275element"](6,"ngx-kpi-card",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"nb-card",4),s["\u0275\u0275elementStart"](8,"nb-card-body"),s["\u0275\u0275elementStart"](9,"div",5),s["\u0275\u0275elementStart"](10,"h5"),s["\u0275\u0275text"](11,"Pendientes"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](12,rt,1,2,"ngx-empresas-table",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",7),s["\u0275\u0275elementStart"](14,"h5"),s["\u0275\u0275text"](15,"Aprobadas"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"ngx-empresas-table",8),s["\u0275\u0275listener"]("update",(function(){return t.fetchEmpresas()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](17,ot,4,0,"ng-template",null,9,s["\u0275\u0275templateRefExtractor"])),2&e){const e=s["\u0275\u0275reference"](18);s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("value",t.registeredCompanies),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",t.activeCompanies),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngIf",t.empresas.pending.source.length>0)("ngIfElse",e),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("settings",t.empresas.approved.settings)("source",t.empresas.approved.source)}},directives:[tt,ue.o,ue.cb,ue.n,i.o,it,ue.A],styles:[""]}),e})(),st=(()=>{class e{constructor(){this.loading=!1}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-notificaciones"]],decls:7,vars:1,consts:[[1,"main-card",3,"nbSpinner"],[1,"header-row"],[1,"row"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"h4"),s["\u0275\u0275text"](4,"Notificaciones"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"nb-card-body"),s["\u0275\u0275element"](6,"div",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&s["\u0275\u0275property"]("nbSpinner",t.loading)},directives:[ue.o,ue.cb,ue.q,ue.n],styles:[""]}),e})();var lt=n("6Ak/");function ct(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",13),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().toggleEdit()})),s["\u0275\u0275element"](1,"nb-icon",14),s["\u0275\u0275text"](2," Editar "),s["\u0275\u0275elementEnd"]()}}function ut(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275text"](2,"* Por favor ingresa un correo electr\xf3nico v\xe1lido"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function dt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",15),s["\u0275\u0275template"](1,ut,3,0,"div",16),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.updateEmailForm.controls.email.errors.email)}}function ht(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",17),s["\u0275\u0275elementStart"](1,"div",18),s["\u0275\u0275elementStart"](2,"button",19),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().toggleEdit()})),s["\u0275\u0275text"](3,"Cancelar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"button",20),s["\u0275\u0275text"](5," Guardar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("disabled",e.updateEmailForm.invalid)}}function pt(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",21),s["\u0275\u0275elementStart"](1,"button",13),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().toggleEditPassword()})),s["\u0275\u0275element"](2,"nb-icon",22),s["\u0275\u0275text"](3," Cambiar contrase\xf1a "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function mt(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275text"](2,"* Por favor ingresa una contrase\xf1a de m\xednimo 6 caracteres."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function gt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",15),s["\u0275\u0275template"](1,mt,3,0,"div",16),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.updatePasswordForm.controls.passwordNueva.errors.minlength)}}function ft(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",15),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.changePasswordHelpMessage)}}function bt(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"form",23),s["\u0275\u0275listener"]("ngSubmit",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().onSubmitPasswordUpdate()})),s["\u0275\u0275elementStart"](1,"label",24),s["\u0275\u0275text"](2,"Contrase\xf1a actual:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"nb-form-field"),s["\u0275\u0275element"](4,"input",25),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"label",26),s["\u0275\u0275text"](6,"Contrase\xf1a nueva:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"nb-form-field"),s["\u0275\u0275element"](8,"input",27),s["\u0275\u0275elementStart"](9,"button",28),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().toggleShowPassword()})),s["\u0275\u0275element"](10,"nb-icon",29),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](11,gt,2,1,"div",8),s["\u0275\u0275template"](12,ft,3,1,"div",8),s["\u0275\u0275elementStart"](13,"div",17),s["\u0275\u0275elementStart"](14,"div",18),s["\u0275\u0275elementStart"](15,"button",19),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().toggleEditPassword()})),s["\u0275\u0275text"](16," Cancelar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"button",20),s["\u0275\u0275text"](18," Guardar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("formGroup",e.updatePasswordForm),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("type",e.getInputType()),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("icon",e.showPassword?"eye-outline":"eye-off-2-outline"),s["\u0275\u0275attribute"]("aria-label",e.showPassword?"hide password":"show password"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.updatePasswordForm.controls.passwordNueva.invalid&&(e.updatePasswordForm.controls.passwordNueva.dirty||e.updatePasswordForm.controls.passwordNueva.touched)),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.changePasswordHelpMessage),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("disabled",e.updatePasswordForm.invalid)}}function vt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-list-item"),s["\u0275\u0275element"](1,"nb-user",39),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("name",e.nombre)("picture",e.icono)}}function xt(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",30),s["\u0275\u0275elementStart"](1,"div",31),s["\u0275\u0275elementStart"](2,"h6",2),s["\u0275\u0275text"](3,"Informaci\xf3n de la empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"button",32),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().editEmpresa()})),s["\u0275\u0275text"](5,"Editar registro"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",33),s["\u0275\u0275elementStart"](7,"div",34),s["\u0275\u0275element"](8,"img",35),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",36),s["\u0275\u0275elementStart"](10,"section",37),s["\u0275\u0275elementStart"](11,"h6"),s["\u0275\u0275text"](12,"Nombre de la empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"p"),s["\u0275\u0275text"](14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"h6"),s["\u0275\u0275text"](16,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"p"),s["\u0275\u0275text"](18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"h6"),s["\u0275\u0275text"](20,"Sectores:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"nb-list"),s["\u0275\u0275template"](22,vt,2,2,"nb-list-item",38),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](8),s["\u0275\u0275propertyInterpolate1"]("src","",e.user.empresa.logo,"\n          ",s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275propertyInterpolate1"]("alt","",e.user.empresa.logo," logo"),s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate"](e.user.empresa.nombre),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](e.user.empresa.descripcion),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngForOf",e.sectoresPopulated)}}let yt=(()=>{class e{constructor(e,t,n,i,r){this.mainService=e,this.generalService=t,this.authService=n,this.route=i,this.fb=r,this.API_SECTOR="api/sector",this.API_USUARIOS="api/user",this.API_CHANGE_PASSWORD="users/change_pass",this.onEditEmail=!1,this.onEditPassword=!1,this.sectores=[],this.showPassword=!1,this.updateEmailForm=this.fb.group({email:[{value:"",disabled:!0},[a.x.required,a.x.email]]}),this.updatePasswordForm=this.fb.group({password:["",a.x.required],passwordNueva:["",[a.x.required,a.x.minLength(6)]]})}ngOnInit(){this.user=JSON.parse(localStorage.getItem("_user")),this.getUserFromServer(this.user._id)}getInputType(){return this.showPassword?"text":"password"}toggleShowPassword(){this.showPassword=!this.showPassword}getUserFromServer(e){this.mainService.get({api:`${this.API_USUARIOS}/${e}`}).then(e=>{this.user=e,this.user.empresa&&this.getSectores(this.user.empresa.sectores),this.updateEmailForm.setValue({email:e.email})})}getSectores(e){this.mainService.get({api:this.API_SECTOR}).then(t=>{this.sectores=t,this.sectoresPopulated=e.map(e=>this.sectores.find(t=>t._id===e))})}onSubmitEmailUpdate(){this.mainService.put({api:`${this.API_USUARIOS}/${this.user._id}`,data:{email:this.updateEmailForm.value.email},hide404:!0}).then(()=>{this.generalService.handleSuccess({text:"Email actualizado correctamente"}),this.toggleEdit(),this.getUserFromServer(this.user._id)})}onSubmitPasswordUpdate(){this.mainService.changePassword({api:this.API_CHANGE_PASSWORD,data:{email:this.user.email,password:this.updatePasswordForm.value.password,passwordNueva:this.updatePasswordForm.value.passwordNueva}}).subscribe(e=>{!1===e.success?this.generalService.handleErrorWithCustomizedText({text:e.msg}):(this.generalService.handleSuccess({text:"Contrase\xf1a actualizada correctamente"}),this.toggleEditPassword(),this.getUserFromServer(this.user._id))})}editEmpresa(){this.generalService.routerNavigateTo({path:`index/empresas/editar/${this.user.empresa._id}`})}toggleEdit(){this.onEditEmail=!this.onEditEmail,this.onEditEmail?this.updateEmailForm.controls.email.enable():this.updateEmailForm.controls.email.disable(),this.updateEmailForm.setValue({email:this.user.email})}toggleEditPassword(){this.onEditPassword=!this.onEditPassword}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](lt.a),s["\u0275\u0275directiveInject"](Te.a),s["\u0275\u0275directiveInject"](a.c))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-profile"]],decls:23,vars:10,consts:[[1,"capitalize"],[1,"row","m-1","p-3"],[1,"px-3"],[1,"col-md-12","col-lg-6",3,"formGroup","ngSubmit"],["for","email"],[1,"d-flex","flex-row"],["type","text","nbInput","","id","email","formControlName","email","placeholder","Correo electr\xf3nico","fullWidth",""],["nbButton","","ghost","","status","primary","type","button",3,"click",4,"ngIf"],["class","form-errors",4,"ngIf"],["class","row m-2 p-2",4,"ngIf"],["class","col-md-12 col-lg-6 my-4",4,"ngIf","ngIfElse"],["editPasswordBlock",""],["class","m-1 p-1 mt-3",4,"ngIf"],["nbButton","","ghost","","status","primary","type","button",3,"click"],["icon","edit"],[1,"form-errors"],[4,"ngIf"],[1,"row","m-2","p-2"],[1,"d-flex","justify-content-center","align-content-center","button-container"],["nbButton","","status","basic","type","button",1,"mx-2",3,"click"],["nbButton","","status","primary","type","submit",1,"mx-2",3,"disabled"],[1,"col-md-12","col-lg-6","my-4"],["icon","chevron-down-outline"],[1,"col-md-12","col-lg-6","my-4",3,"formGroup","ngSubmit"],["for","password",1,"my-2"],["type","password","nbInput","","id","password","formControlName","password","placeholder","********","fullWidth",""],["for","passwordNueva",1,"my-2"],["nbInput","","id","passwordNueva","formControlName","passwordNueva","placeholder","*******","fullWidth","",3,"type"],["nbSuffix","","nbButton","","ghost","","type","button",3,"click"],[3,"icon"],[1,"m-1","p-1","mt-3"],[1,"row","d-flex","justify-content-between","p-3"],["nbButton","","status","primary","type","button",1,"mr-4",3,"click"],[1,"row"],[1,"col","container-img"],[3,"src","alt"],[1,"col"],[1,"p-2","my-2","empresa-detail"],[4,"ngFor","ngForOf"],[3,"name","picture"]],template:function(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"h2"),s["\u0275\u0275text"](1,"Perfil"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](2,"nb-card"),s["\u0275\u0275elementStart"](3,"nb-card-body"),s["\u0275\u0275elementStart"](4,"h3",0),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"h4",0),s["\u0275\u0275text"](7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"nb-card",1),s["\u0275\u0275elementStart"](9,"h6",2),s["\u0275\u0275text"](10,"Informaci\xf3n de usuario"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"form",3),s["\u0275\u0275listener"]("ngSubmit",(function(){return t.onSubmitEmailUpdate()})),s["\u0275\u0275elementStart"](12,"label",4),s["\u0275\u0275text"](13,"Correo electr\xf3nico:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"div",5),s["\u0275\u0275element"](15,"input",6),s["\u0275\u0275template"](16,ct,3,0,"button",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](17,dt,2,1,"div",8),s["\u0275\u0275template"](18,ht,6,1,"div",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](19,pt,4,0,"div",10),s["\u0275\u0275template"](20,bt,19,7,"ng-template",null,11,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](22,xt,23,5,"nb-card",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275reference"](21);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate2"]("",t.user.nombre," ",t.user.apellido,""),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](t.user.tipo),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("formGroup",t.updateEmailForm),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngIf",!t.onEditEmail),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.updateEmailForm.controls.email.invalid&&(t.updateEmailForm.controls.email.dirty||t.updateEmailForm.controls.email.touched)),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.onEditEmail),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.onEditPassword)("ngIfElse",e),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf","administrador"===t.user.tipo)}},directives:[ue.o,ue.n,a.z,a.o,a.g,ue.D,a.b,a.n,a.f,i.o,ue.j,ue.A,ue.y,ue.gb,ue.M,i.n,ue.N,ue.rb],styles:[".button-container[_ngcontent-%COMP%]{width:100%}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}h2[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;line-height:2.5rem;margin-bottom:1rem}h3[_ngcontent-%COMP%]{font-size:1.6rem;margin-bottom:0}h4[_ngcontent-%COMP%]{font-size:1rem;color:grey;margin-top:0}.container-img[_ngcontent-%COMP%]{max-width:160px}.container-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-o-object-fit:cover;object-fit:cover}.form-errors[_ngcontent-%COMP%]{width:100%}.form-errors[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;color:grey}.empresa-detail[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:0}"]}),e})();function St(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",5),s["\u0275\u0275element"](1,"ngx-kpi-card",30),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("value",null==e.publicacion?null:e.publicacion.vtr)}}function Et(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",5),s["\u0275\u0275element"](1,"ngx-kpi-card",31),s["\u0275\u0275pipe"](2,"currency"),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind1"](2,1,e.cpv))}}function wt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",22),s["\u0275\u0275elementStart"](1,"strong"),s["\u0275\u0275text"](2,"Sector de inter\xe9s de la publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"label"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](null==e.publicacion?null:e.publicacion.sector.nombre)}}function Ct(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",22),s["\u0275\u0275elementStart"](1,"p",32),s["\u0275\u0275element"](2,"nb-icon",33),s["\u0275\u0275text"](3," Publicaci\xf3n inactiva "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"p",34),s["\u0275\u0275text"](5," El sector relacionado a esta publicaci\xf3n fue eliminado y por lo tanto esta no est\xe1 disponible. "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function _t(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",35),s["\u0275\u0275element"](1,"img",36),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("src",null==e.publicacion?null:e.publicacion.foto,s["\u0275\u0275sanitizeUrl"])}}function Pt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",37),s["\u0275\u0275elementStart"](1,"vg-player"),s["\u0275\u0275element"](2,"vg-overlay-play"),s["\u0275\u0275element"](3,"vg-buffering"),s["\u0275\u0275elementStart"](4,"vg-scrub-bar"),s["\u0275\u0275element"](5,"vg-scrub-bar-current-time"),s["\u0275\u0275element"](6,"vg-scrub-bar-buffering-time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"vg-controls"),s["\u0275\u0275element"](8,"vg-play-pause"),s["\u0275\u0275element"](9,"vg-playback-button"),s["\u0275\u0275element"](10,"vg-time-display",38),s["\u0275\u0275element"](11,"vg-scrub-bar",39),s["\u0275\u0275element"](12,"vg-time-display",40),s["\u0275\u0275element"](13,"vg-time-display",41),s["\u0275\u0275element"](14,"vg-track-selector"),s["\u0275\u0275element"](15,"vg-mute"),s["\u0275\u0275element"](16,"vg-volume"),s["\u0275\u0275element"](17,"vg-fullscreen"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"video",42,43),s["\u0275\u0275element"](20,"source",44),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275reference"](19),t=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](18),s["\u0275\u0275property"]("vgMedia",e),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("src",null==t.publicacion?null:t.publicacion.video,s["\u0275\u0275sanitizeUrl"])}}let Ot=(()=>{class e{constructor(e,t,n){this.generalService=e,this.mainService=t,this.activatedRoute=n,this.pubId="data",this.API_PUBLICACION="api/publicacion",this.publicacion={},this.empresa={},this.likes=0,this.compartir=0,this.comentarios=0,this.clicks=0,this.loading=!1,this.cpv=0,this.ctr=0}ngOnInit(){let e;e="data"==this.pubId?this.activatedRoute.snapshot.paramMap.get("id"):this.pubId,this.user=JSON.parse(localStorage.getItem("_user")),this.fetchPost({id:e}),this.countLikesByPublicacion({id:e}),this.countCompartirByPublicacion({id:e}),this.countClicksByPublicacion({id:e}),this.countComentariosByPublicacion({id:e})}goBack(){this.generalService.goBack()}toggleDestacar(){this.highlightPost(this.publicacion.destacada?{id:this.publicacion._id,destacar:!1}:{id:this.publicacion._id,destacar:!0})}fetchPost({id:e}){this.loading=!0,this.mainService.get({api:`${this.API_PUBLICACION}/${e}`}).then(e=>{console.log(e),this.publicacion=e,this.empresa=this.publicacion.empresa||{},this.cpv=e.inversion/e.vtr,this.cpv==1/0&&(this.cpv=0)}).finally(()=>{this.loading=!1})}onEdit(){this.generalService.routerNavigateTo({path:`index/publicaciones/editar/${this.publicacion._id}`})}highlightPost({id:e,destacar:t}){this.loading=!0,this.mainService.put({api:`${this.API_PUBLICACION}/${e}`,data:{destacada:t}}).then(e=>{this.publicacion=e}).finally(()=>{this.loading=!1})}countLikesByPublicacion({id:e}){this.mainService.get({api:`api/like/publicacion/${e}`}).then(e=>{this.likes=e})}countComentariosByPublicacion({id:e}){this.mainService.get({api:`api/comentario/publicacion-contar/${e}`}).then(e=>{this.comentarios=e})}countCompartirByPublicacion({id:e}){this.mainService.get({api:`api/compartir/publicacion/${e}`}).then(e=>{this.compartir=e})}countClicksByPublicacion({id:e}){this.mainService.get({api:`api/click/publicacion/${e}`}).then(e=>{this.clicks=e})}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](Te.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-publicacion-detail"]],inputs:{pubId:"pubId"},decls:82,vars:26,consts:[[3,"nbSpinner"],[1,"row-space-between"],[1,"header-row"],[1,"fa","fa-arrow-left","pointer",3,"click"],[1,"row","mb-3","cardsKPI"],[1,"col"],["description","Comentarios",3,"value"],["description","Likes",3,"value"],["description","Shares",3,"value"],["description","Clicks",3,"value"],["class","col",4,"ngIf"],["description","CPC",3,"value"],["description","CTR",3,"value"],["description","Engagement",3,"value"],[1,"p-4"],[1,"first-row","pb-4"],[1,"img-name"],[1,"logo",3,"src"],["nbButton","","status","primary","size","medium",1,"float-right","pull-right",3,"click"],["icon","edit-outline"],[1,"row","p-2"],[1,"row"],[1,"col","info"],["class","col info",4,"ngIf","ngIfElse"],["inactivaBlock",""],[1,"row","info"],["target","_blank",3,"href"],["class","img-wraper mt-4",4,"ngIf"],["class","video-wraper",4,"ngIf"],[1,"col","eliminar"],["description","VTR",3,"value"],["description","CPV",3,"value"],[1,"warning"],["icon","alert-triangle-outline"],[1,"warning-description"],[1,"img-wraper","mt-4"],[3,"src"],[1,"video-wraper"],["vgProperty","current","vgFormat","mm:ss"],[2,"pointer-events","none"],["vgProperty","left","vgFormat","mm:ss"],["vgProperty","total","vgFormat","mm:ss"],["id","singleVideo","preload","auto","crossorigin","",3,"vgMedia"],["media",""],["type","video/mp4",3,"src"]],template:function(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275elementStart"](3,"i",3),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"h3"),s["\u0275\u0275text"](5,"Publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](6,"br"),s["\u0275\u0275elementStart"](7,"div",4),s["\u0275\u0275elementStart"](8,"div",5),s["\u0275\u0275element"](9,"ngx-kpi-card",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"div",5),s["\u0275\u0275element"](11,"ngx-kpi-card",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",5),s["\u0275\u0275element"](13,"ngx-kpi-card",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"div",5),s["\u0275\u0275element"](15,"ngx-kpi-card",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](16,St,2,1,"div",10),s["\u0275\u0275elementStart"](17,"div",5),s["\u0275\u0275element"](18,"ngx-kpi-card",11),s["\u0275\u0275pipe"](19,"currency"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](20,Et,3,3,"div",10),s["\u0275\u0275elementStart"](21,"div",5),s["\u0275\u0275element"](22,"ngx-kpi-card",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"div",5),s["\u0275\u0275element"](24,"ngx-kpi-card",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"nb-card"),s["\u0275\u0275elementStart"](26,"nb-card-body",14),s["\u0275\u0275elementStart"](27,"div",15),s["\u0275\u0275elementStart"](28,"div",16),s["\u0275\u0275element"](29,"img",17),s["\u0275\u0275elementStart"](30,"h5"),s["\u0275\u0275text"](31),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](32,"button",18),s["\u0275\u0275listener"]("click",(function(){return t.onEdit()})),s["\u0275\u0275element"](33,"nb-icon",19),s["\u0275\u0275text"](34," Editar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"div",20),s["\u0275\u0275elementStart"](36,"div",5),s["\u0275\u0275elementStart"](37,"div",21),s["\u0275\u0275elementStart"](38,"div",22),s["\u0275\u0275elementStart"](39,"strong"),s["\u0275\u0275text"](40,"Nombre de la publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](41,"label"),s["\u0275\u0275text"](42),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](43,wt,5,1,"div",23),s["\u0275\u0275template"](44,Ct,6,0,"ng-template",null,24,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](46,"br"),s["\u0275\u0275elementStart"](47,"div",21),s["\u0275\u0275elementStart"](48,"div",22),s["\u0275\u0275elementStart"](49,"strong"),s["\u0275\u0275text"](50,"Publicaci\xf3n impulsada"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](51,"label"),s["\u0275\u0275text"](52,"No"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](53,"div",22),s["\u0275\u0275elementStart"](54,"strong"),s["\u0275\u0275text"](55,"Fecha de publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](56,"label"),s["\u0275\u0275text"](57),s["\u0275\u0275pipe"](58,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](59,"br"),s["\u0275\u0275elementStart"](60,"div",5),s["\u0275\u0275elementStart"](61,"div",25),s["\u0275\u0275elementStart"](62,"strong"),s["\u0275\u0275text"](63,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](64,"label"),s["\u0275\u0275text"](65),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](66,"br"),s["\u0275\u0275elementStart"](67,"div",25),s["\u0275\u0275elementStart"](68,"strong"),s["\u0275\u0275text"](69,"Link de la publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](70,"a",26),s["\u0275\u0275text"](71),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](72,"div",5),s["\u0275\u0275elementStart"](73,"strong"),s["\u0275\u0275text"](74,"Media de la publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](75,_t,2,1,"div",27),s["\u0275\u0275template"](76,Pt,21,2,"div",28),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](77,"br"),s["\u0275\u0275elementStart"](78,"div",21),s["\u0275\u0275elementStart"](79,"div",29),s["\u0275\u0275elementStart"](80,"a"),s["\u0275\u0275text"](81,"Eliminar publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275reference"](45);s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("value",null==t.publicacion?null:t.publicacion.comentarios),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",null==t.publicacion?null:null==t.publicacion.likes?null:t.publicacion.likes.length),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",null==t.publicacion?null:t.publicacion.interacted),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",null==t.publicacion?null:t.publicacion.linkClicks),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==t.publicacion?null:t.publicacion.video),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](19,21,null==t.publicacion?null:t.publicacion.cpc,"USD")),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",null==t.publicacion?null:t.publicacion.video),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",((null==t.publicacion?null:t.publicacion.ctr)||0)+"%"),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",((null==t.publicacion?null:t.publicacion.engagement)||0)+"%"),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("src",null==t.empresa?null:t.empresa.logo,s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](null==t.empresa?null:t.empresa.nombre),s["\u0275\u0275advance"](11),s["\u0275\u0275textInterpolate"](null==t.publicacion?null:t.publicacion.titulo),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null!=(null==t.publicacion?null:t.publicacion.sector))("ngIfElse",e),s["\u0275\u0275advance"](14),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](58,24,null==t.publicacion?null:t.publicacion.createdAt)),s["\u0275\u0275advance"](8),s["\u0275\u0275textInterpolate"](null==t.publicacion?null:t.publicacion.texto),s["\u0275\u0275advance"](5),s["\u0275\u0275propertyInterpolate"]("href",null==t.publicacion?null:t.publicacion.link,s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"]((null==t.publicacion?null:t.publicacion.link)||"Sin link"),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",null==t.publicacion?null:t.publicacion.foto),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==t.publicacion?null:t.publicacion.video)}},directives:[ue.cb,tt,i.o,ue.o,ue.n,ue.j,ue.A,R,ae,le,Q,re,ie,Y,ee,Z,J,q,te,W,ne,F],pipes:[i.d,i.f],styles:[".header-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}h3[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:0;padding:0}i[_ngcontent-%COMP%]{font-size:25px;margin-right:10px}i[_ngcontent-%COMP%]   .highlighted[_ngcontent-%COMP%]{color:#200081}.logo[_ngcontent-%COMP%]{max-height:70px;border-radius:8px;width:auto;margin-right:10px}.short-btn[_ngcontent-%COMP%]{height:50px}.main-card[_ngcontent-%COMP%]{padding-right:400px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.img-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.row-space-between[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.clickable[_ngcontent-%COMP%]:hover   *[_ngcontent-%COMP%]{color:#200081;cursor:pointer}.first-row[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}.first-row[_ngcontent-%COMP%], .flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900}a[_ngcontent-%COMP%]:hover{cursor:pointer}a[_ngcontent-%COMP%], label[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-size:1rem}img[_ngcontent-%COMP%]{display:block;max-width:50vh;width:auto;height:auto}.eliminar[_ngcontent-%COMP%]{cursor:pointer}.eliminar[_ngcontent-%COMP%]:hover{color:red}.warning[_ngcontent-%COMP%]{background-color:#fa0;color:#fff;border:.0625rem solid #fa0;border-radius:1.5rem;font-size:.9375rem;font-weight:600;line-height:1.5rem;padding:.1875rem .9375rem;max-width:240px}.warning-description[_ngcontent-%COMP%]{color:grey}.cardsKPI[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:20px}"]}),e})();var kt=n("mrSG"),Mt=n("SSNz");function At(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",24),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275property"]("value",e),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.nombre," ")}}function It(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",5),s["\u0275\u0275elementStart"](1,"label"),s["\u0275\u0275text"](2,"Empresa de la publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"nb-select",22,23),s["\u0275\u0275listener"]("ngModelChange",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().empresa=t})),s["\u0275\u0275template"](5,At,2,2,"nb-option",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngModel",e.empresa),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",e.empresas)}}function Tt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",24),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275property"]("value",e._id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.nombre," ")}}function jt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"label",25),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",e.selectedFile.file.name,"")}}let Lt=(()=>{class e{constructor(e,t,n,i){this.mainService=e,this.generalService=t,this.s3=n,this.activatedRoute=i,this.API_SECTOR="api/sector",this.API_EMPRESA="api/empresa",this.API_PUBLICACION="api/publicacion",this.sectores=[],this.publicacion={nueva:!1},this.loading=!1,this.empresas=[],this.isSuperAdmin=!1,this.edit=!1}ngOnInit(){this.isSuperAdmin="superadministrador"===JSON.parse(localStorage.getItem("_user")).tipo,this.isSuperAdmin||(this.empresa=JSON.parse(localStorage.getItem("_user")).empresa),this.getEmpresas(),this.getSectores()}fetchPost({id:e}){this.loading=!0,this.mainService.get({api:`${this.API_PUBLICACION}/${e}`}).then(e=>{this.publicacion=e,this.publicacion.sector=this.publicacion.sector._id,this.empresa=this.empresas.find(e=>e._id==this.publicacion.empresa._id)}).finally(()=>{this.loading=!1})}getEmpresas(){this.loading=!0,this.mainService.get({api:this.API_EMPRESA}).then(e=>{const t=this.activatedRoute.snapshot.paramMap.get("id");this.empresas=e,t&&(this.edit=!0,this.fetchPost({id:t}))}).finally(()=>{this.loading=!1})}getSectores(){this.loading=!0,this.mainService.get({api:this.API_SECTOR}).then(e=>{this.sectores=e}).finally(()=>{this.loading=!1})}goBack(){this.generalService.goBack()}openFileSelector(){document.getElementById("media").click()}onSubmit(){this.loading=!0,this.selectedFile&&this.selectedFile.file?this.uploadFile({file:this.selectedFile.file,callback:(e,t)=>{e?(alert("No fue posible subir el archivo, por favor intente m\xe1s tarde"),this.loading=!1):this.createPublicacion({media:t.Location})}}):this.createPublicacion({media:this.publicacion.foto||this.publicacion.video})}onChangeMedia({event:e}){e.target.files.length>0&&(this.selectedFile={file:e.target.files[0],type:e.target.files[0].type.split("/")[0]})}createPublicacion({media:e}){e&&this.publicacion.texto&&this.publicacion.titulo&&this.publicacion.link&&this.publicacion.sector&&this.empresa?(this.publicacion.empresa=this.empresa._id||"",this.selectedFile&&this.selectedFile.type&&("image"===this.selectedFile.type?this.publicacion.foto=e:this.publicacion.video=e),this.edit?this.mainService.put({api:`${this.API_PUBLICACION}/${this.publicacion._id}`,data:this.publicacion}).then(e=>{e&&e._id?(this.generalService.handleSuccess({text:"Pubicaci\xf3n editada"}),this.goBack()):this.generalService.handleError({error:"Hubo un error al editar la publicaci\xf3n",titulo:"Error"})}).finally(()=>{this.loading=!1}):this.mainService.post({api:this.API_PUBLICACION,data:this.publicacion}).then(e=>{e&&e._id?(this.generalService.handleSuccess({text:"Pubicaci\xf3n creada"}),this.goBack()):this.generalService.handleError({error:"Hubo un error al crear la publicaci\xf3n",titulo:"Error"})}).finally(()=>{this.loading=!1})):(this.loading=!1,this.generalService.handleError({error:"Por favor llena todos los campos",titulo:"Error"}))}uploadFile({file:e,callback:t}){return Object(kt.a)(this,void 0,void 0,(function*(){const n=`empresa/${this.empresa.nombre.replace(" ","-")}/${this.s3.generateKey()}.${e.name.split(".")[1]}`;yield this.s3.uploadFile({file:e,key:n,callback:t})}))}toggleNueva(){this.publicacion.nueva=!this.publicacion.nueva}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](Mt.a),s["\u0275\u0275directiveInject"](Te.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-publicaciones-crear"]],decls:44,vars:12,consts:[[3,"nbSpinner"],[1,"header-row"],[1,"fa","fa-arrow-left","pointer",3,"click"],[1,"row"],["class","col-sm-5 info",4,"ngIf"],[1,"col-sm-5","info"],["nbInput","","placeholder","Ingresa el t\xedtulo de la  publicaci\xf3n","fullWidth","",3,"ngModel","ngModelChange"],["fullwidth","","name","sector","placeholder","Selecciona...","fieldsize","large","required","",1,"input-full-width","size-large","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["sector","ngModel"],[3,"value",4,"ngFor","ngForOf"],["nbInput","","fullWidth","","placeholder","Ingresa un link de redirecci\xf3n",3,"ngModel","ngModelChange"],["nbButton","",3,"click"],["hidden","","type","file","id","media",3,"change"],["class","label",4,"ngIf"],[1,"header-row","clickable",3,"click"],[3,"ngClass"],[1,"no-margin"],[1,"col"],["nbInput","","fullWidth","","placeholder","Agrega m\xe1s informaci\xf3n referente a tu publicaci\xf3n",3,"ngModel","ngModelChange"],[1,"row","m-3"],[1,"col","d-flex","justify-content-center"],["nbButton","","status","primary",3,"click"],["fullwidth","","name","emp","placeholder","Selecciona...","fieldsize","large","required","",1,"input-full-width","size-large","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["emp","ngModel"],[3,"value"],[1,"label"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"span"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"nb-card-body"),s["\u0275\u0275elementStart"](7,"div",3),s["\u0275\u0275template"](8,It,6,2,"div",4),s["\u0275\u0275elementStart"](9,"div",5),s["\u0275\u0275elementStart"](10,"label"),s["\u0275\u0275text"](11,"T\xedtulo de la publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"input",6),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.publicacion.titulo=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",5),s["\u0275\u0275elementStart"](14,"label"),s["\u0275\u0275text"](15,"Sector de la publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"nb-select",7,8),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.publicacion.sector=e})),s["\u0275\u0275template"](18,Tt,2,2,"nb-option",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",5),s["\u0275\u0275elementStart"](20,"label"),s["\u0275\u0275text"](21,"Link de redirecci\xf3n de publicidad"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"input",10),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.publicacion.link=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"div",5),s["\u0275\u0275elementStart"](24,"label"),s["\u0275\u0275text"](25,"Contenido multimedia"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"button",11),s["\u0275\u0275listener"]("click",(function(){return t.openFileSelector()})),s["\u0275\u0275text"](27,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"input",12),s["\u0275\u0275listener"]("change",(function(e){return t.onChangeMedia({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](29,jt,2,1,"label",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"div",5),s["\u0275\u0275elementStart"](31,"div",14),s["\u0275\u0275listener"]("click",(function(){return t.toggleNueva()})),s["\u0275\u0275element"](32,"i",15),s["\u0275\u0275elementStart"](33,"label",16),s["\u0275\u0275text"](34),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"div",3),s["\u0275\u0275elementStart"](36,"div",17),s["\u0275\u0275elementStart"](37,"label"),s["\u0275\u0275text"](38,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](39,"textarea",18),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.publicacion.texto=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](40,"div",19),s["\u0275\u0275elementStart"](41,"div",20),s["\u0275\u0275elementStart"](42,"button",21),s["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),s["\u0275\u0275text"](43),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"]("",t.edit?"Editar":"Crear"," publicaci\xf3n"),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",t.isSuperAdmin),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.publicacion.titulo),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.publicacion.sector),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",t.sectores),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.publicacion.link),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngIf",t.selectedFile),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngClass",!0===t.publicacion.nueva?"fas fa-star highlighted":"far fa-star"),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",null!=t.publicacion&&t.publicacion.nueva?"Marcar como no nueva":"Marcar como nueva"," "),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.publicacion.texto),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](t.edit?"Guardar cambios":"Crear publicaci\xf3n"))},directives:[ue.o,ue.cb,ue.q,ue.n,i.o,ue.D,a.b,a.n,a.q,ue.X,a.v,i.n,ue.j,i.m,ue.S],styles:[".header-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.header-row[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:1.1rem}i[_ngcontent-%COMP%]{margin-right:10px}.short-btn[_ngcontent-%COMP%]{height:50px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.img-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:20px}.clickable[_ngcontent-%COMP%]:hover   *[_ngcontent-%COMP%]{color:#200081;cursor:pointer}.first-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900}a[_ngcontent-%COMP%]:hover{cursor:pointer}.no-margin[_ngcontent-%COMP%]{margin-bottom:0}"]}),e})();var Dt=n("wd/R");function Ft(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",21),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275property"]("value",e),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](e)}}let Rt=(()=>{class e{constructor(e,t,n){this.mainService=e,this.activatedRoute=t,this.generalService=n,this.API_EMPRESAS="api/empresa",this.API_PUBLICACION="api/publicacion",this.API_POSTS_BY_EMPRESA="api/publicacion/empresa",this.empresa={},this.publicaciones=[],this.years=[],this.filterPublicaciones={year:(new Date).getFullYear(),publicaciones:[]},this.loading=!1,this.source=[],this.settings={noDataMessage:"Ning\xfan registro encontrado",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"ver",title:'<i class="fa fa-search" title="Ver publicaci\xf3n"></i>'}]},columns:{titulo:{title:"Publicaci\xf3n",width:"80%"}},mode:"external"},this.chartConfig={data:[],showXAxis:!0,showYAxis:!0,gradient:!1,showLegend:!1,showXAxisLabel:!0,xAxisLabel:"Meses",showYAxisLabel:!0,yAxisLabel:"# Publicaciones",animations:!0,view:[void 0,400],colorScheme:{domain:["#200081"]}}}ngOnInit(){for(let t=(new Date).getFullYear()-5;t<=(new Date).getFullYear();t++)this.years.push(t);const e=this.activatedRoute.snapshot.paramMap.get("empresa");this.fetchEmpresaAndPosts(e)}goBack(){this.generalService.goBack()}fetchEmpresaAndPosts(e){this.loading=!0,this.mainService.get({api:`${this.API_EMPRESAS}/${e}`}).then(t=>{this.empresa=t,this.mainService.get({api:`${this.API_POSTS_BY_EMPRESA}/${e}`}).then(e=>{this.publicaciones=e,this.source=this.publicaciones,this.filterPublicaciones.publicaciones=this.publicaciones,this.setUpChart()})}).finally(()=>{this.loading=!1})}highlightPost({id:e,destacar:t}){this.loading=!0,this.mainService.put({api:`${this.API_PUBLICACION}/${e}`,data:{destacada:t}}).then(e=>{}).finally(()=>{this.loading=!1})}onCustomAction({event:e}){"ver"===e.action&&this.generalService.routerNavigateTo({path:`index/publicaciones/${e.data._id}`})}onChangeYear(){this.filterPublicaciones.publicaciones=this.publicaciones.filter(e=>parseInt(Dt(e.createdAt).format("Y"))===this.filterPublicaciones.year),this.setUpChart()}setUpChart(){let e=[];const t=parseInt(Dt().format("Y"));if(this.filterPublicaciones.year===t){const t=parseInt(Dt().format("M"));for(let n=1;n<=t;n++){const t={value:0,name:""};switch(n){case 1:t.name="Enero";break;case 2:t.name="Febrero";break;case 3:t.name="Marzo";break;case 4:t.name="Abril";break;case 5:t.name="Mayo";break;case 6:t.name="Junio";break;case 7:t.name="Julio";break;case 8:t.name="Agosto";break;case 9:t.name="Septiembre";break;case 10:t.name="Octubre";break;case 11:t.name="Noviembre";break;case 12:t.name="Diciembre"}e.push(t)}}else e=[{name:"Enero",value:0},{name:"Febrero",value:0},{name:"Marzo",value:0},{name:"Abril",value:0},{name:"Mayo",value:0},{name:"Junio",value:0},{name:"Julio",value:0},{name:"Agosto",value:0},{name:"Septiembre",value:0},{name:"Octubre",value:0},{name:"Noviembre",value:0},{name:"Diciembre",value:0}];try{this.filterPublicaciones.publicaciones.length>0&&this.filterPublicaciones.publicaciones.forEach(t=>{const n=parseInt(Dt(t.createdAt).format("M"));e[n-1].value+=1}),this.chartConfig.data=e}catch(n){}}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](Te.a),s["\u0275\u0275directiveInject"](je.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-publicaciones-empresa"]],decls:40,vars:19,consts:[[3,"nbSpinner"],[1,"header-row"],[1,"fa","fa-arrow-left","pointer",3,"click"],[1,"row","mb-3"],[1,"col"],["description","Click through rate"],["description","View through rate"],["description","Costo por clicks"],["description","Costo por impresiones"],[1,"first-row"],[1,"img-name"],[1,"logo",3,"src"],["nbInput","","placeholder","Buscar"],[1,"flex-row"],[3,"source","settings","custom"],[1,"col","center"],[1,"flex-row","space-between"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex-row","center"],[3,"view","results","scheme","gradient","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","animations"],[3,"value"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"h3"),s["\u0275\u0275text"](4,"Estad\xedsticas de publicaciones de empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](5,"br"),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275elementStart"](7,"div",4),s["\u0275\u0275element"](8,"ngx-kpi-card",5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",4),s["\u0275\u0275element"](10,"ngx-kpi-card",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"div",4),s["\u0275\u0275element"](12,"ngx-kpi-card",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",4),s["\u0275\u0275element"](14,"ngx-kpi-card",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"nb-card"),s["\u0275\u0275elementStart"](16,"nb-card-body"),s["\u0275\u0275elementStart"](17,"div",9),s["\u0275\u0275elementStart"](18,"div",10),s["\u0275\u0275element"](19,"img",11),s["\u0275\u0275elementStart"](20,"h5"),s["\u0275\u0275text"](21),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](22,"input",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](23,"br"),s["\u0275\u0275element"](24,"br"),s["\u0275\u0275elementStart"](25,"div",13),s["\u0275\u0275elementStart"](26,"div",4),s["\u0275\u0275elementStart"](27,"h5"),s["\u0275\u0275text"](28,"Listado"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](29,"br"),s["\u0275\u0275elementStart"](30,"ng2-smart-table",14),s["\u0275\u0275listener"]("custom",(function(e){return t.onCustomAction({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](31,"div",15),s["\u0275\u0275elementStart"](32,"div",16),s["\u0275\u0275elementStart"](33,"h5"),s["\u0275\u0275text"](34,"Publicaciones por mes"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"nb-select",17),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.filterPublicaciones.year=e}))("ngModelChange",(function(){return t.onChangeYear()})),s["\u0275\u0275template"](36,Ft,2,2,"nb-option",18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](37,"br"),s["\u0275\u0275elementStart"](38,"div",19),s["\u0275\u0275element"](39,"ngx-charts-bar-vertical",20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](19),s["\u0275\u0275property"]("src",null==t.empresa?null:t.empresa.logo,s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](null==t.empresa?null:t.empresa.nombre),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("source",t.source)("settings",t.settings),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.filterPublicaciones.year),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",t.years),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("view",t.chartConfig.view)("results",t.chartConfig.data)("scheme",t.chartConfig.colorScheme)("gradient",t.chartConfig.gradient)("xAxis",t.chartConfig.showXAxis)("yAxis",t.chartConfig.showYAxis)("legend",t.chartConfig.showLegend)("showXAxisLabel",t.chartConfig.showXAxisLabel)("showYAxisLabel",t.chartConfig.showYAxisLabel)("xAxisLabel",t.chartConfig.xAxisLabel)("yAxisLabel",t.chartConfig.yAxisLabel)("animations",t.chartConfig.animations))},directives:[ue.cb,tt,ue.o,ue.n,ue.D,he.b,ue.X,a.n,a.q,i.n,Me.b,ue.S],styles:[".header-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}h3[_ngcontent-%COMP%]{margin:0;padding:0}i[_ngcontent-%COMP%]{font-size:25px}.logo[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{margin-right:10px}.logo[_ngcontent-%COMP%]{max-height:70px;border-radius:8px;width:auto}.short-btn[_ngcontent-%COMP%]{height:50px}.main-card[_ngcontent-%COMP%]{padding-right:400px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.img-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.first-row[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}.first-row[_ngcontent-%COMP%], .flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900}a[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   nb-tab[_ngcontent-%COMP%]{padding:1.25rem}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:12px;height:12px;margin:26px 15px 26px 20px;vertical-align:middle;text-align:center;font-size:1em;float:left}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom .fa, [_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom .far{font-size:22px}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#200081}h2[_ngcontent-%COMP%]{font-weight:500}.component-search-row[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-bottom:1.5rem}.icon[_ngcontent-%COMP%]{color:#200081}.space-between[_ngcontent-%COMP%]{justify-content:space-between}.full-width[_ngcontent-%COMP%]{width:100%}.center[_ngcontent-%COMP%]{justify-content:center;align-items:center}"]}),e})();function Bt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",24),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275property"]("value",e),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](e)}}let Nt=(()=>{class e{constructor(e,t,n){this.mainService=e,this.activatedRoute=t,this.generalService=n,this.API_EMPRESAS="api/empresa",this.API_PUBLICACION="api/publicacion",this.API_POSTS_BY_EMPRESA="api/publicacion/empresa",this.empresa={},this.publicaciones=[],this.years=[],this.filterPublicaciones={year:(new Date).getFullYear(),publicaciones:[]},this.loading=!1,this.source=[],this.settings={noDataMessage:"Ning\xfan registro encontrado",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"ver",title:'<i class="fa fa-search" title="Ver publicaci\xf3n"></i>'}]},columns:{titulo:{title:"Publicaci\xf3n",width:"80%"}},mode:"external"},this.chartConfig={data:[],showXAxis:!0,showYAxis:!0,gradient:!1,showLegend:!1,showXAxisLabel:!0,xAxisLabel:"Meses",showYAxisLabel:!0,yAxisLabel:"# Publicaciones",animations:!0,view:[void 0,400],colorScheme:{domain:["#200081"]}}}ngOnInit(){for(let t=(new Date).getFullYear()-5;t<=(new Date).getFullYear();t++)this.years.push(t);const e=JSON.parse(localStorage.getItem("_user")).empresa._id;this.fetchEmpresaAndPosts(e)}goBack(){this.generalService.goBack()}goToPagos(){this.generalService.routerNavigateTo({path:"index/pagos"})}fetchEmpresaAndPosts(e){this.loading=!0,this.mainService.get({api:`${this.API_EMPRESAS}/${e}`}).then(t=>{this.empresa=t,this.mainService.get({api:`${this.API_POSTS_BY_EMPRESA}/${e}`}).then(e=>{this.publicaciones=e,this.source=this.publicaciones,this.filterPublicaciones.publicaciones=this.publicaciones,this.setUpChart()})}).finally(()=>{this.loading=!1})}highlightPost({id:e,destacar:t}){this.loading=!0,this.mainService.put({api:`${this.API_PUBLICACION}/${e}`,data:{destacada:t}}).then(e=>{}).finally(()=>{this.loading=!1})}onCustomAction({event:e}){"ver"===e.action&&this.generalService.routerNavigateTo({path:`index/publicaciones/${e.data._id}`})}onChangeYear(){this.filterPublicaciones.publicaciones=this.publicaciones.filter(e=>parseInt(Dt(e.createdAt).format("Y"))===this.filterPublicaciones.year),this.setUpChart()}setUpChart(){let e=[];const t=parseInt(Dt().format("Y"));if(this.filterPublicaciones.year===t){const t=parseInt(Dt().format("M"));for(let n=1;n<=t;n++){const t={value:0,name:""};switch(n){case 1:t.name="Enero";break;case 2:t.name="Febrero";break;case 3:t.name="Marzo";break;case 4:t.name="Abril";break;case 5:t.name="Mayo";break;case 6:t.name="Junio";break;case 7:t.name="Julio";break;case 8:t.name="Agosto";break;case 9:t.name="Septiembre";break;case 10:t.name="Octubre";break;case 11:t.name="Noviembre";break;case 12:t.name="Diciembre"}e.push(t)}}else e=[{name:"Enero",value:0},{name:"Febrero",value:0},{name:"Marzo",value:0},{name:"Abril",value:0},{name:"Mayo",value:0},{name:"Junio",value:0},{name:"Julio",value:0},{name:"Agosto",value:0},{name:"Septiembre",value:0},{name:"Octubre",value:0},{name:"Noviembre",value:0},{name:"Diciembre",value:0}];try{this.filterPublicaciones.publicaciones.length>0&&this.filterPublicaciones.publicaciones.forEach(t=>{const n=parseInt(Dt(t.createdAt).format("M"));e[n-1].value+=1}),this.chartConfig.data=e}catch(n){}}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](Te.a),s["\u0275\u0275directiveInject"](je.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-publicaciones"]],decls:44,vars:19,consts:[[3,"nbSpinner"],[1,"d-flex","flex-row","justify-content-between"],[1,"header-row"],[1,"fa","fa-arrow-left","pointer",3,"click"],["nbButton","","status","primary",3,"click"],["icon","credit-card-outline"],[1,"row","mb-3"],[1,"col"],["description","Click through rate"],["description","View through rate"],["description","Costo por clicks"],["description","Costo por impresiones"],[1,"first-row"],[1,"img-name"],[1,"logo",3,"src"],["nbInput","","placeholder","Buscar"],[1,"flex-row"],[3,"source","settings","custom"],[1,"col","center"],[1,"flex-row","space-between"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex-row","center"],[3,"view","results","scheme","gradient","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","animations"],[3,"value"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275elementStart"](3,"i",3),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"h3"),s["\u0275\u0275text"](5,"Estad\xedsticas de publicaciones de empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"button",4),s["\u0275\u0275listener"]("click",(function(){return t.goToPagos()})),s["\u0275\u0275element"](7,"nb-icon",5),s["\u0275\u0275text"](8," Pagos "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](9,"br"),s["\u0275\u0275elementStart"](10,"div",6),s["\u0275\u0275elementStart"](11,"div",7),s["\u0275\u0275element"](12,"ngx-kpi-card",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",7),s["\u0275\u0275element"](14,"ngx-kpi-card",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",7),s["\u0275\u0275element"](16,"ngx-kpi-card",10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"div",7),s["\u0275\u0275element"](18,"ngx-kpi-card",11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"nb-card"),s["\u0275\u0275elementStart"](20,"nb-card-body"),s["\u0275\u0275elementStart"](21,"div",12),s["\u0275\u0275elementStart"](22,"div",13),s["\u0275\u0275element"](23,"img",14),s["\u0275\u0275elementStart"](24,"h5"),s["\u0275\u0275text"](25),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](26,"input",15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](27,"br"),s["\u0275\u0275element"](28,"br"),s["\u0275\u0275elementStart"](29,"div",16),s["\u0275\u0275elementStart"](30,"div",7),s["\u0275\u0275elementStart"](31,"h5"),s["\u0275\u0275text"](32,"Listado"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](33,"br"),s["\u0275\u0275elementStart"](34,"ng2-smart-table",17),s["\u0275\u0275listener"]("custom",(function(e){return t.onCustomAction({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"div",18),s["\u0275\u0275elementStart"](36,"div",19),s["\u0275\u0275elementStart"](37,"h5"),s["\u0275\u0275text"](38,"Publicaciones por mes"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](39,"nb-select",20),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.filterPublicaciones.year=e}))("ngModelChange",(function(){return t.onChangeYear()})),s["\u0275\u0275template"](40,Bt,2,2,"nb-option",21),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](41,"br"),s["\u0275\u0275elementStart"](42,"div",22),s["\u0275\u0275element"](43,"ngx-charts-bar-vertical",23),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](23),s["\u0275\u0275property"]("src",null==t.empresa?null:t.empresa.logo,s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](null==t.empresa?null:t.empresa.nombre),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("source",t.source)("settings",t.settings),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.filterPublicaciones.year),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",t.years),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("view",t.chartConfig.view)("results",t.chartConfig.data)("scheme",t.chartConfig.colorScheme)("gradient",t.chartConfig.gradient)("xAxis",t.chartConfig.showXAxis)("yAxis",t.chartConfig.showYAxis)("legend",t.chartConfig.showLegend)("showXAxisLabel",t.chartConfig.showXAxisLabel)("showYAxisLabel",t.chartConfig.showYAxisLabel)("xAxisLabel",t.chartConfig.xAxisLabel)("yAxisLabel",t.chartConfig.yAxisLabel)("animations",t.chartConfig.animations))},directives:[ue.cb,ue.j,ue.A,tt,ue.o,ue.n,ue.D,he.b,ue.X,a.n,a.q,i.n,Me.b,ue.S],styles:[".header-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}h3[_ngcontent-%COMP%]{margin:0;padding:0}i[_ngcontent-%COMP%]{font-size:25px}.logo[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{margin-right:10px}.logo[_ngcontent-%COMP%]{max-height:70px;border-radius:8px;width:auto}.short-btn[_ngcontent-%COMP%]{height:50px}.main-card[_ngcontent-%COMP%]{padding-right:400px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.img-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.first-row[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}.first-row[_ngcontent-%COMP%], .flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900}a[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   nb-tab[_ngcontent-%COMP%]{padding:1.25rem}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:12px;height:12px;margin:26px 15px 26px 20px;vertical-align:middle;text-align:center;font-size:1em;float:left}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom .fa, [_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom .far{font-size:22px}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#200081}h2[_ngcontent-%COMP%]{font-weight:500}.component-search-row[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-bottom:1.5rem}.icon[_ngcontent-%COMP%]{color:#200081}.space-between[_ngcontent-%COMP%]{justify-content:space-between}.full-width[_ngcontent-%COMP%]{width:100%}.center[_ngcontent-%COMP%]{justify-content:center;align-items:center}"]}),e})(),Vt=(()=>{class e{constructor(e,t){this.mainService=e,this.generalService=t,this.publicaciones=[],this.settings={}}ngOnInit(){this.getPublicaciones(),this.setSettings()}getPublicaciones(){this.mainService.get({api:"api/publicacion"}).then(e=>{this.publicaciones=e,this.setAttributes(),this.source=new he.a(this.publicaciones)})}onCustomAction({event:e}){"ver"===e.action&&this.generalService.routerNavigateTo({path:`index/publicaciones/${e.data._id}`})}onRegister(){this.generalService.routerNavigateTo({path:"index/publicaciones/crear"})}setAttributes(){this.publicaciones.forEach(e=>{e.nombreEmpresa=e.empresa?e.empresa.nombre:"N/A",e.nombreSector=e.sector?e.sector.nombre:"N/A"})}setSettings(){this.settings={noDataMessage:"Ning\xfan registro encontrado",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"ver",title:'<i class="fa fa-search" title="Ver publicaci\xf3n"></i>'}]},columns:{titulo:{title:"Nombre"},nombreEmpresa:{title:"Empresa"},nombreSector:{title:"Sector"}},mode:"external"}}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](je.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-publicaciones"]],decls:11,vars:2,consts:[[1,"row"],[1,"col-sm-12"],[1,"d-flex","justify-content-between","align-items-center"],["nbButton","","status","primary","size","medium",1,"float-right","pull-right",3,"click"],["icon","plus-outline"],[3,"source","settings","custom"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"nb-card"),s["\u0275\u0275elementStart"](3,"nb-card-header",2),s["\u0275\u0275elementStart"](4,"h5"),s["\u0275\u0275text"](5,"Publicaciones"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"button",3),s["\u0275\u0275listener"]("click",(function(){return t.onRegister()})),s["\u0275\u0275element"](7,"nb-icon",4),s["\u0275\u0275text"](8,"Agregar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"nb-card-body"),s["\u0275\u0275elementStart"](10,"ng2-smart-table",5),s["\u0275\u0275listener"]("custom",(function(e){return t.onCustomAction({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("source",t.source)("settings",t.settings))},directives:[ue.o,ue.q,ue.j,ue.A,ue.n,he.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:12px;height:12px;margin:26px 15px 26px 20px;vertical-align:middle;text-align:center;font-size:1em;float:left}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom .fa, [_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom .far{font-size:22px}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#200081}"]}),e})();function zt(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",5),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"button",6),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275element"](3,"nb-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275elementStart"](5,"p"),s["\u0275\u0275text"](6,"\xbfEst\xe1s seguro de eliminar este usuario?"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"nb-card-footer",9),s["\u0275\u0275elementStart"](8,"button",10),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const n=t.dialogRef,i=t.$implicit;return s["\u0275\u0275nextContext"]().onDelete(n,i.id)})),s["\u0275\u0275text"](9,"Eliminar usuario"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function $t(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",5),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"button",6),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275element"](3,"nb-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275elementStart"](5,"p"),s["\u0275\u0275text"](6," \xbfEst\xe1s seguro de eliminar "),s["\u0275\u0275elementStart"](7,"span",11),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](9," ? "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"p"),s["\u0275\u0275text"](11,"El administrador correspondiente a esta empresa ser\xe1 deshabilitado."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"nb-card-footer",9),s["\u0275\u0275elementStart"](13,"button",10),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const n=t.dialogRef,i=t.$implicit;return s["\u0275\u0275nextContext"]().onDeleteEmpresa(n,i.id)})),s["\u0275\u0275text"](14,"Eliminar empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;s["\u0275\u0275advance"](8),s["\u0275\u0275textInterpolate"](e.text)}}function Gt(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",5),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"button",6),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275element"](3,"nb-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275elementStart"](5,"p"),s["\u0275\u0275text"](6," \xbfEst\xe1s seguro de deshabilitar como administrador a "),s["\u0275\u0275elementStart"](7,"span",11),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](9," ? "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"nb-card-footer",9),s["\u0275\u0275elementStart"](11,"button",10),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const n=t.dialogRef,i=t.$implicit;return s["\u0275\u0275nextContext"]().onDeleteAdmin(n,i.id)})),s["\u0275\u0275text"](12,"Deshabilitar administrador"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;s["\u0275\u0275advance"](8),s["\u0275\u0275textInterpolate"](e.text)}}let Ut=(()=>{class e{constructor(e,t,n){this.generalService=e,this.mainService=t,this.dialogService=n,this.updateViewEvent=new s.EventEmitter,this.API_USUARIO="api/user",this.API_EMPRESA="api/empresa",this.API_ADMIN="api/admin"}ngOnInit(){}onCustomAction({event:e},t,n,i){switch(e.action){case"ver-consumidor":this.generalService.routerNavigateTo({path:`/index/consumer/${e.data._id}`});break;case"borrar-consumidor":this.dialogRef=this.dialogService.open(t,{context:{text:`${e.data.nombre} ${e.data.apellido}`,id:e.data._id}});break;case"ver-empresa":this.generalService.routerNavigateTo({path:`/index/empresa/${e.data.empresa._id}`});break;case"borrar-empresa":this.dialogRef=this.dialogService.open(n,{context:{text:`${e.data.empresa.nombre}`,id:e.data.empresa._id}});break;case"deshabilitar-admin":this.dialogRef=this.dialogService.open(i,{context:{text:`${e.data.nombre} ${e.data.apellido}`,id:e.data._id}})}}onDelete(e,t){this.dialogRef.close(),this.mainService.delete({api:`${this.API_USUARIO}/${t}`}).finally(()=>this.updateViewEvent.emit())}onDeleteEmpresa(e,t){this.closeDialog(e),this.mainService.delete({api:`${this.API_EMPRESA}/${t}`}).finally(()=>this.updateViewEvent.emit())}onDeleteAdmin(e,t){this.closeDialog(e),this.mainService.delete({api:`${this.API_ADMIN}/${t}`}).finally(()=>this.updateViewEvent.emit())}closeDialog(e){e.close()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](ue.x))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-usuarios-table"]],inputs:{source:"source",settings:"settings"},outputs:{updateViewEvent:"updateViewEvent"},decls:8,vars:2,consts:[[1,"table"],[3,"source","settings","custom"],["deleteUserDialog",""],["deleteEmpresaDialog",""],["disableAdminDialogUnique",""],[1,"dialog"],["nbButton","","ghost","","status","primary",1,"close",3,"click"],["icon","close-outline"],[1,"text-container","mx-auto"],[1,"footer"],["nbButton","","status","danger",3,"click"],[1,"username"]],template:function(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"ng2-smart-table",1),s["\u0275\u0275listener"]("custom",(function(n){s["\u0275\u0275restoreView"](e);const i=s["\u0275\u0275reference"](3),r=s["\u0275\u0275reference"](5),o=s["\u0275\u0275reference"](7);return t.onCustomAction({event:n},i,r,o)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](2,zt,10,0,"ng-template",null,2,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](4,$t,15,1,"ng-template",null,3,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](6,Gt,13,1,"ng-template",null,4,s["\u0275\u0275templateRefExtractor"])}2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("source",t.source)("settings",t.settings))},directives:[he.b,ue.o,ue.n,ue.j,ue.A,ue.p],styles:["[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:18px;height:18px;margin:8px 8px 10px 12px;float:left;font-size:1rem}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i{padding-top:10px;font-size:18px;color:#08003d}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i:hover{color:#200081}.dialog[_ngcontent-%COMP%]{max-width:420px;text-align:center}.dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin:.2rem;right:0;position:absolute}.dialog[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]{margin-top:3.2rem;text-align:center;max-width:80%}.dialog[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{text-align:center}.username[_ngcontent-%COMP%]{color:#200081;font-weight:bolder;text-transform:capitalize}"]}),e})(),Ht=(()=>{class e{constructor(e,t){this.mainService=e,this.iconLibraries=t,this.API_USUARIO="api/user",this.API_USERS_COUNT="api/user/count",this.API_USERS_ACTIVE_COUNT="api/user/active/count",this.loading=!1,this.kpiLoading=!1,this.activeUsers=0,this.userCount=0,this.consumers={settings:{noDataMessage:"Ning\xfan registro encontrado.",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"ver-consumidor",title:'<i title="Editar usuario" class="fas fa-pen"></i>'},{name:"borrar-consumidor",title:'<i title="Eliminar usuario" class="fas fa-trash"></i>'}]},columns:{age:{title:"Edad"},genero:{title:"G\xe9nero",valuePrepareFunction:e=>e.replace(/(^\w{1})|(\s+\w{1})/g,e=>e.toUpperCase())},email:{title:"Email",width:"90%"}},mode:"external"},source:[]},this.empresas={settings:{noDataMessage:"Ning\xfan registro encontrado.",actions:{columnTitle:"Acciones",filter:!0,width:"100px",add:!1,edit:!1,delete:!1,custom:[{name:"ver-empresa",title:'<i title="Editar empresa" class="fas fa-pen"></i>'},{name:"borrar-empresa",title:'<i title="Eliminar empresa" class="fas fa-trash"></i>'}]},columns:{nombre:{title:"Nombre (s)",width:"15%",valuePrepareFunction:e=>e.replace(/(^\w{1})|(\s+\w{1})/g,e=>e.toUpperCase())},apellido:{title:"Apellido",width:"15%",valuePrepareFunction:e=>e.replace(/(^\w{1})|(\s+\w{1})/g,e=>e.toUpperCase())},email:{title:"Email"},nombreEmpresa:{title:"Empresa"}},mode:"external"},source:[]},this.admin={settings:{noDataMessage:"Ning\xfan registro encontrado.",actions:{columnTitle:"Acciones",filter:!0,add:!1,width:"100px",edit:!1,delete:!1,custom:[{name:"deshabilitar-admin",title:'<i title="Deshabilitar administrador" class="fas fa-user-slash"></i>'}]},columns:{nombre:{title:"Nombre (s)",valuePrepareFunction:e=>e.replace(/(^\w{1})|(\s+\w{1})/g,e=>e.toUpperCase())},apellido:{title:"Apellido",valuePrepareFunction:e=>e.replace(/(^\w{1})|(\s+\w{1})/g,e=>e.toUpperCase())},email:{title:"Email",width:"30%"}},mode:"external"},source:[]},this.iconLibraries.registerFontPack("font-awesome",{iconClassPrefix:"fa",packClass:"fas"})}ngOnInit(){this.refresh()}refresh(){this.fetchKpi(),this.fetchUsers()}fetchUsers(){this.loading=!0,this.mainService.get({api:this.API_USUARIO,hide404:!0}).then(e=>{let t=e.filter(e=>"consumidor"===e.tipo),n=e.filter(e=>"administrador"===e.tipo);n=n.map(e=>Object.assign(Object.assign({},e),{nombreEmpresa:e.empresa.nombre}));let i=e.filter(e=>"superadministrador"===e.tipo);this.setUsersTable({consumers:t,empresas:n,admin:i})}).finally(()=>{this.loading=!1})}fetchKpi(){this.mainService.get({api:this.API_USERS_COUNT,hide404:!0}).then(e=>{this.userCount=e}),this.mainService.get({api:this.API_USERS_ACTIVE_COUNT}).then(e=>{this.activeUsers=e})}setUsersTable({consumers:e,empresas:t,admin:n}){this.consumers.source=e,this.empresas.source=t,this.admin.source=n}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](ue.B))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-usuarios"]],decls:31,vars:9,consts:[[1,"row","mb-3"],[1,"col-3"],["description","Usuarios registrados",3,"value"],["description","Usuarios activos",3,"value"],[1,"tabset",3,"nbSpinner"],["tabTitle","Consumidores"],[1,"my-4"],[3,"settings","source","updateViewEvent"],["tabTitle","Empresas"],["tabTitle","Administradores"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"h3"),s["\u0275\u0275text"](1,"Usuarios"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275element"](4,"ngx-kpi-card",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",1),s["\u0275\u0275element"](6,"ngx-kpi-card",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"nb-card",4),s["\u0275\u0275elementStart"](8,"nb-card-body"),s["\u0275\u0275elementStart"](9,"nb-tabset"),s["\u0275\u0275elementStart"](10,"nb-tab",5),s["\u0275\u0275elementStart"](11,"p",6),s["\u0275\u0275text"](12,"Lista de "),s["\u0275\u0275elementStart"](13,"strong"),s["\u0275\u0275text"](14,"consumidores"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](15,"."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"ngx-usuarios-table",7),s["\u0275\u0275listener"]("updateViewEvent",(function(){return t.refresh()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"nb-tab",8),s["\u0275\u0275elementStart"](18,"p",6),s["\u0275\u0275text"](19," Lista de "),s["\u0275\u0275elementStart"](20,"strong"),s["\u0275\u0275text"](21,"administradores de empresas"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](22,". "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"ngx-usuarios-table",7),s["\u0275\u0275listener"]("updateViewEvent",(function(){return t.refresh()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](24,"nb-tab",9),s["\u0275\u0275elementStart"](25,"p",6),s["\u0275\u0275text"](26,"Lista de "),s["\u0275\u0275elementStart"](27,"strong"),s["\u0275\u0275text"](28,"administradores"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](29,"."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"ngx-usuarios-table",7),s["\u0275\u0275listener"]("updateViewEvent",(function(){return t.refresh()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("value",t.userCount),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",t.activeUsers),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("settings",t.consumers.settings)("source",t.consumers.source),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("settings",t.empresas.settings)("source",t.empresas.source),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("settings",t.admin.settings)("source",t.admin.source))},directives:[tt,ue.o,ue.cb,ue.n,ue.jb,ue.ib,Ut],styles:[""]}),e})();var Xt=n("vC38");function Yt(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275elementStart"](1,"nb-select",10),s["\u0275\u0275elementStart"](2,"nb-option",11),s["\u0275\u0275text"](3,"Cargando ..."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}let Wt=(()=>{class e{constructor(e,t,n,i,r){this.sidebarService=e,this.menuService=t,this.layoutService=n,this.authService=i,this.generalService=r,this.destroy$=new u.a,this.user={},this.userMenu=[],this.user=this.authService.getUser()}ngOnInit(){this.onInitMenu(),this.onSetUser()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onInitMenu(){this.userMenu=[{title:"Perfil",data:{id:"perfil"}},{title:"Cerrar sesi\xf3n",data:{id:"salir"}}]}onSetUser(){this.menuService.onItemClick().pipe(Object(y.a)(({tag:e})=>"user-menu"===e),Object(S.a)(({item:{title:e}})=>e)).subscribe(e=>{switch(e){case"Perfil":this.generalService.routerNavigateTo({path:"/index/dashboard/profile/detail"});break;case"Cerrar sesi\xf3n":this.onLogout(),this.generalService.routerNavigateTo({path:"/login"})}})}toggleSidebar(){return this.sidebarService.toggle(!0,"menu-sidebar"),this.layoutService.changeLayoutSize(),!1}navigateHome(){return this.menuService.navigateHome(),!1}onLogout(){this.authService.logout()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](ue.bb),s["\u0275\u0275directiveInject"](ue.R),s["\u0275\u0275directiveInject"](Xt.b),s["\u0275\u0275directiveInject"](lt.a),s["\u0275\u0275directiveInject"](je.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-header"]],decls:14,vars:7,consts:[[1,"header-container"],[1,"logo-container"],["href","#",1,"sidebar-toggle",3,"click"],["icon","menu-2-outline"],["href","/index"],["src","../../../../assets/images/logo-persing.svg","alt","Logo",1,"logo"],["size","small"],[1,"user-action"],["nbContextMenuTag","user-menu","nbContextMenuTrigger","click",3,"nbContextMenu","name"],["loading",""],["placeholder","Cargando ...","disabled","",1,"mw-100"],["valur","Cargando"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"a",2),s["\u0275\u0275listener"]("click",(function(){return t.toggleSidebar()})),s["\u0275\u0275element"](3,"nb-icon",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"a",4),s["\u0275\u0275element"](5,"img",5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",0),s["\u0275\u0275elementStart"](7,"nb-actions",6),s["\u0275\u0275elementStart"](8,"nb-action",7),s["\u0275\u0275element"](9,"nb-user",8),s["\u0275\u0275pipe"](10,"titlecase"),s["\u0275\u0275pipe"](11,"titlecase"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](12,Yt,4,0,"ng-template",null,9,s["\u0275\u0275templateRefExtractor"])),2&e&&(s["\u0275\u0275advance"](9),s["\u0275\u0275propertyInterpolate2"]("name","",s["\u0275\u0275pipeBind1"](10,3,null==t.user?null:t.user.nombre)," ",s["\u0275\u0275pipeBind1"](11,5,null==t.user?null:t.user.apellido),""),s["\u0275\u0275property"]("nbContextMenu",t.userMenu))},directives:[ue.A,ue.e,ue.d,ue.rb,ue.t,ue.X,ue.S],pipes:[i.w],styles:[".nb-theme-default   [_nghost-%COMP%]{display:flex;justify-content:space-between;width:100%}.nb-theme-default   [_nghost-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:14.75rem}.nb-theme-default   [_nghost-%COMP%]   .mw-300p[_ngcontent-%COMP%]{min-width:180px}.nb-theme-default   [_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]{height:auto;display:flex;align-content:center}.nb-theme-default   [_nghost-%COMP%]   nb-user[_ngcontent-%COMP%]{cursor:pointer}.nb-theme-default   [_nghost-%COMP%]     nb-search button{padding:0!important}.nb-theme-default   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:auto}.nb-theme-default   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{text-decoration:none;color:#8f9bb3}[dir=ltr]   .nb-theme-default   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-right:1.25rem}[dir=rtl]   .nb-theme-default   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-left:1.25rem}.nb-theme-default   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.75rem}.nb-theme-default   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:36px}.nb-theme-default   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .mw-300p[_ngcontent-%COMP%]{min-width:180px}@media (max-width:767.98px){.nb-theme-default   [_nghost-%COMP%]   .control-item[_ngcontent-%COMP%]{display:none}.nb-theme-default   [_nghost-%COMP%]   .user-action[_ngcontent-%COMP%]{border:none;padding:0}}@media (max-width:575.98px){.nb-theme-default   [_nghost-%COMP%]   nb-select[_ngcontent-%COMP%]{display:none}}.nb-theme-dark   [_nghost-%COMP%]{display:flex;justify-content:space-between;width:100%}.nb-theme-dark   [_nghost-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:14.75rem}.nb-theme-dark   [_nghost-%COMP%]   .mw-300p[_ngcontent-%COMP%]{min-width:180px}.nb-theme-dark   [_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]{height:auto;display:flex;align-content:center}.nb-theme-dark   [_nghost-%COMP%]   nb-user[_ngcontent-%COMP%]{cursor:pointer}.nb-theme-dark   [_nghost-%COMP%]     nb-search button{padding:0!important}.nb-theme-dark   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:auto}.nb-theme-dark   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{text-decoration:none;color:#8f9bb3}[dir=ltr]   .nb-theme-dark   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-right:1.25rem}[dir=rtl]   .nb-theme-dark   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-left:1.25rem}.nb-theme-dark   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.75rem}.nb-theme-dark   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:36px}.nb-theme-dark   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .mw-300p[_ngcontent-%COMP%]{min-width:180px}@media (max-width:767.98px){.nb-theme-dark   [_nghost-%COMP%]   .control-item[_ngcontent-%COMP%]{display:none}.nb-theme-dark   [_nghost-%COMP%]   .user-action[_ngcontent-%COMP%]{border:none;padding:0}}@media (max-width:575.98px){.nb-theme-dark   [_nghost-%COMP%]   nb-select[_ngcontent-%COMP%]{display:none}}.nb-theme-cosmic   [_nghost-%COMP%]{display:flex;justify-content:space-between;width:100%}.nb-theme-cosmic   [_nghost-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:14.75rem}.nb-theme-cosmic   [_nghost-%COMP%]   .mw-300p[_ngcontent-%COMP%]{min-width:180px}.nb-theme-cosmic   [_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]{height:auto;display:flex;align-content:center}.nb-theme-cosmic   [_nghost-%COMP%]   nb-user[_ngcontent-%COMP%]{cursor:pointer}.nb-theme-cosmic   [_nghost-%COMP%]     nb-search button{padding:0!important}.nb-theme-cosmic   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:auto}.nb-theme-cosmic   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{text-decoration:none;color:#b4b4db}[dir=ltr]   .nb-theme-cosmic   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-right:1.25rem}[dir=rtl]   .nb-theme-cosmic   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-left:1.25rem}.nb-theme-cosmic   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.75rem}.nb-theme-cosmic   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:36px}.nb-theme-cosmic   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .mw-300p[_ngcontent-%COMP%]{min-width:180px}@media (max-width:767.98px){.nb-theme-cosmic   [_nghost-%COMP%]   .control-item[_ngcontent-%COMP%]{display:none}.nb-theme-cosmic   [_nghost-%COMP%]   .user-action[_ngcontent-%COMP%]{border:none;padding:0}}@media (max-width:575.98px){.nb-theme-cosmic   [_nghost-%COMP%]   nb-select[_ngcontent-%COMP%]{display:none}}.nb-theme-corporate   [_nghost-%COMP%]{display:flex;justify-content:space-between;width:100%}.nb-theme-corporate   [_nghost-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:14.75rem}.nb-theme-corporate   [_nghost-%COMP%]   .mw-300p[_ngcontent-%COMP%]{min-width:180px}.nb-theme-corporate   [_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]{height:auto;display:flex;align-content:center}.nb-theme-corporate   [_nghost-%COMP%]   nb-user[_ngcontent-%COMP%]{cursor:pointer}.nb-theme-corporate   [_nghost-%COMP%]     nb-search button{padding:0!important}.nb-theme-corporate   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:auto}.nb-theme-corporate   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{text-decoration:none;color:#8f9bb3}[dir=ltr]   .nb-theme-corporate   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-right:1.25rem}[dir=rtl]   .nb-theme-corporate   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-left:1.25rem}.nb-theme-corporate   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.75rem}.nb-theme-corporate   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:36px}.nb-theme-corporate   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .mw-300p[_ngcontent-%COMP%]{min-width:180px}@media (max-width:767.98px){.nb-theme-corporate   [_nghost-%COMP%]   .control-item[_ngcontent-%COMP%]{display:none}.nb-theme-corporate   [_nghost-%COMP%]   .user-action[_ngcontent-%COMP%]{border:none;padding:0}}@media (max-width:575.98px){.nb-theme-corporate   [_nghost-%COMP%]   nb-select[_ngcontent-%COMP%]{display:none}}"]}),e})(),qt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-footer"]],decls:6,vars:0,consts:[[1,"authors"],["href","https://www.imagineapps.co/es/home","target","_blank"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275text"](1," \xa0\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"b"),s["\u0275\u0275elementStart"](4,"a",1),s["\u0275\u0275text"](5,"Imagine Apps"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())},styles:[".nb-theme-default   [_nghost-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.nb-theme-default   [_nghost-%COMP%]   .authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.4rem;color:#8f9bb3;transition:color .1s ease-out;text-decoration:none}.nb-theme-default   [_nghost-%COMP%]   .authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#200081}@media (max-width:575.98px){.nb-theme-default   [_nghost-%COMP%]   .socials[_ngcontent-%COMP%]{font-size:1.5rem}}.nb-theme-dark   [_nghost-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.nb-theme-dark   [_nghost-%COMP%]   .authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.4rem;color:#8f9bb3;transition:color .1s ease-out;text-decoration:none}.nb-theme-dark   [_nghost-%COMP%]   .authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#36f}@media (max-width:575.98px){.nb-theme-dark   [_nghost-%COMP%]   .socials[_ngcontent-%COMP%]{font-size:1.5rem}}.nb-theme-cosmic   [_nghost-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.nb-theme-cosmic   [_nghost-%COMP%]   .authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.4rem;color:#b4b4db;transition:color .1s ease-out;text-decoration:none}.nb-theme-cosmic   [_nghost-%COMP%]   .authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#a16eff}@media (max-width:575.98px){.nb-theme-cosmic   [_nghost-%COMP%]   .socials[_ngcontent-%COMP%]{font-size:1.5rem}}.nb-theme-corporate   [_nghost-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.nb-theme-corporate   [_nghost-%COMP%]   .authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.4rem;color:#8f9bb3;transition:color .1s ease-out;text-decoration:none}.nb-theme-corporate   [_nghost-%COMP%]   .authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#36f}@media (max-width:575.98px){.nb-theme-corporate   [_nghost-%COMP%]   .socials[_ngcontent-%COMP%]{font-size:1.5rem}}"]}),e})(),Kt=(()=>{class e{constructor(e){this.authService=e,this.isSuperAdmin=!1,this.menu=[{title:"CARGANDO",group:!0}]}ngOnInit(){this.isSuperAdmin="superadministrador"===JSON.parse(localStorage.getItem("_user")).tipo,this.setUpMenu()}setUpMenu(){this.menu=[{title:"Inicio",icon:"home-outline",link:"/index",home:!0},{title:"Usuarios",icon:"people-outline",link:"/index/usuarios",hidden:!this.isSuperAdmin},{title:"Empresas",icon:"briefcase-outline",link:"/index/empresas",hidden:!this.isSuperAdmin},{title:"Pagos",icon:"credit-card-outline",link:"/index/pagos"},{title:"Publicaciones",icon:"briefcase-outline",link:"/index/publicaciones",hidden:this.isSuperAdmin},{title:"Notificaciones",icon:"bell-outline",link:"/index/notificaciones",hidden:this.isSuperAdmin},{title:"MVP",icon:"cube-outline",hidden:!this.isSuperAdmin,children:[{title:"Publicaciones",icon:"image-outline",link:"/index/mvp/publicaciones",hidden:!this.isSuperAdmin},{title:"Sectores",icon:"hash-outline",link:"/index/mvp/sector",hidden:!this.isSuperAdmin},{title:"Productos",icon:"gift-outline",link:"/index/mvp/productos",hidden:!this.isSuperAdmin},{title:"Destacados",icon:"star-outline",children:[{title:"Post",link:"/index/mvp/destacados",icon:"image-outline",hidden:!this.isSuperAdmin},{title:"Secciones",link:"/index/mvp/destacados/seccion",icon:"menu-2-outline",hidden:!this.isSuperAdmin}]}]}]}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](lt.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-index"]],decls:9,vars:1,consts:[["windowMode",""],["fixed",""],["tag","menu-sidebar","responsive","",1,"menu-sidebar"],[3,"items"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-layout",0),s["\u0275\u0275elementStart"](1,"nb-layout-header",1),s["\u0275\u0275element"](2,"ngx-header"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"nb-sidebar",2),s["\u0275\u0275element"](4,"nb-menu",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"nb-layout-column"),s["\u0275\u0275element"](6,"router-outlet"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"nb-layout-footer",1),s["\u0275\u0275element"](8,"ngx-footer"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("items",t.menu))},directives:[ue.G,ue.K,Wt,ue.Z,ue.P,ue.F,Te.h,ue.J,qt],styles:[".nb-theme-default   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}.nb-theme-corporate   [_nghost-%COMP%]     router-outlet+*, .nb-theme-cosmic   [_nghost-%COMP%]     router-outlet+*, .nb-theme-dark   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@keyframes fade{0%{opacity:0}to{opacity:1}}"]}),e})(),Jt=(()=>{class e{constructor(e,t){this.mainService=e,this.generalService=t,this.productos=[],this.settings={}}ngOnInit(){this.getproductos(),this.setSettings()}getproductos(){this.mainService.get({api:"api/producto"}).then(e=>{this.productos=e,this.setAttributes(),this.source=new he.a(this.productos)})}onCustomAction({event:e}){"ver"===e.action&&this.generalService.routerNavigateTo({path:`index/mvp/productos/${e.data._id}`})}onRegister(){this.generalService.routerNavigateTo({path:"index/mvp/productos/crear"})}setAttributes(){this.productos.forEach(e=>{e.nombreSector=e.sector?e.sector.nombre:"N/A"})}setSettings(){this.settings={noDataMessage:"Ning\xfan registro encontrado",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"ver",title:'<i class="fa fa-search" title="Ver publicaci\xf3n"></i>'}]},columns:{titulo:{title:"T\xedtulo"},compras:{title:"Compras realizadas"},nombreSector:{title:"Sector"},precio:{title:"Precio",valuePrepareFunction:function(e){return Intl.NumberFormat("en-US",{style:"currency",maximumFractionDigits:20,currency:"USD"}).format(e)}},precioDescuento:{title:"Precio descuento",valuePrepareFunction:function(e,t){return e&&t.descuento?Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e):"N/A"}},foto:{title:"Foto",type:"html",valuePrepareFunction:e=>`<img class="product-thumbnail" src='${e}'/>`}},mode:"external"}}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](je.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-productos"]],decls:11,vars:2,consts:[[1,"row"],[1,"col-sm-12"],[1,"d-flex","justify-content-between","align-items-center"],["nbButton","","status","primary","size","medium",1,"float-right","pull-right",3,"click"],["icon","plus-outline"],[3,"source","settings","custom"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"nb-card"),s["\u0275\u0275elementStart"](3,"nb-card-header",2),s["\u0275\u0275elementStart"](4,"h5"),s["\u0275\u0275text"](5,"Productos"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"button",3),s["\u0275\u0275listener"]("click",(function(){return t.onRegister()})),s["\u0275\u0275element"](7,"nb-icon",4),s["\u0275\u0275text"](8,"Agregar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"nb-card-body"),s["\u0275\u0275elementStart"](10,"ng2-smart-table",5),s["\u0275\u0275listener"]("custom",(function(e){return t.onCustomAction({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("source",t.source)("settings",t.settings))},directives:[ue.o,ue.q,ue.j,ue.A,ue.n,he.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:12px;height:12px;margin:42px 15px 26px 32px;vertical-align:middle;text-align:center;font-size:1em;float:left}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom .fa, [_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom .far{font-size:22px}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#200081}"]}),e})();function Qt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",21),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275property"]("value",e._id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.nombre," ")}}function Zt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"label",22),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",e.selectedFile.file.name,"")}}function en(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",4),s["\u0275\u0275elementStart"](1,"label"),s["\u0275\u0275text"](2,"Precio en descuento del producto"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"input",23),s["\u0275\u0275listener"]("ngModelChange",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().producto.precioDescuento=t})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngModel",e.producto.precioDescuento)}}function tn(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",24),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().onSubmit()})),s["\u0275\u0275text"](1,"Crear"),s["\u0275\u0275elementEnd"]()}}function nn(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",24),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().onSubmit()})),s["\u0275\u0275text"](1,"Guardar"),s["\u0275\u0275elementEnd"]()}}let rn=(()=>{class e{constructor(e,t,n,i){this.mainService=e,this.generalService=t,this.s3=n,this.activatedRoute=i,this.API_SECTOR="api/sector",this.API_EMPRESA="api/empresa",this.API_PRODUCTO="api/producto",this.sectores=[],this.producto={descuento:!1},this.loading=!1,this.edit=!1}ngOnInit(){const e=this.activatedRoute.snapshot.paramMap.get("id");e&&(this.edit=!0,this.fetchProduct({id:e})),this.getSectores()}getSectores(){this.loading=!0,this.mainService.get({api:this.API_SECTOR}).then(e=>{this.sectores=e}).finally(()=>{this.loading=!1})}fetchProduct({id:e}){this.loading=!0,this.mainService.get({api:`${this.API_PRODUCTO}/${e}`}).then(e=>{this.producto=e,this.producto.sector=this.producto.sector._id}).finally(()=>{this.loading=!1})}goBack(){this.generalService.goBack()}openFileSelector(){document.getElementById("media").click()}onSubmit(){this.loading=!0,this.selectedFile&&this.selectedFile.file?this.uploadFile({file:this.selectedFile.file,callback:(e,t)=>{e?(alert("No fue posible subir el archivo, por favor intente m\xe1s tarde"),this.loading=!1):this.createProducto({media:t.Location})}}):this.createProducto({media:this.producto.foto})}onChangeMedia({event:e}){e.target.files.length>0&&(this.selectedFile={file:e.target.files[0],type:e.target.files[0].type.split("/")[0]})}createProducto({media:e}){e&&this.producto.descripcion&&this.producto.titulo&&this.producto.sector&&this.producto.precio?(this.producto.foto=e,this.edit?this.mainService.put({api:`${this.API_PRODUCTO}/${this.producto._id}`,data:this.producto}).then(e=>{e&&e._id?(this.generalService.handleSuccess({text:"Producto editado"}),this.goBack()):this.generalService.handleError({error:"Hubo un error al editar el producto",titulo:"Error"})}).finally(()=>{this.loading=!1}):this.mainService.post({api:this.API_PRODUCTO,data:this.producto}).then(e=>{e&&e._id?(this.generalService.handleSuccess({text:"Producto creado"}),this.goBack()):this.generalService.handleError({error:"Hubo un error al crear el producto",titulo:"Error"})}).finally(()=>{this.loading=!1})):(this.loading=!1,this.generalService.handleError({error:"Por favor llena todos los campos",titulo:"Error"}))}toggleDescuento(){this.producto.descuento=!this.producto.descuento}uploadFile({file:e,callback:t}){return Object(kt.a)(this,void 0,void 0,(function*(){const n=`producto/${this.producto.sector}/${this.s3.generateKey()}.${e.name.split(".")[1]}`;yield this.s3.uploadFile({file:e,key:n,callback:t})}))}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](Mt.a),s["\u0275\u0275directiveInject"](Te.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-productos-crear"]],decls:43,vars:13,consts:[[3,"nbSpinner"],[1,"header-row"],[1,"fa","fa-arrow-left","pointer",3,"click"],[1,"row"],[1,"col-sm-5","info"],["nbInput","","fullWidth","","placeholder","Nombre del producto",3,"ngModel","ngModelChange"],["fullwidth","","name","sector","placeholder","Selecciona...","fieldsize","large","required","",1,"input-full-width","size-large","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["sector","ngModel"],[3,"value",4,"ngFor","ngForOf"],["nbButton","",3,"click"],["hidden","","type","file","id","media","accept","image/*",3,"change"],["class","label",4,"ngIf"],["nbInput","","type","number","fullWidth","","placeholder","Valor neto del producto",3,"ngModel","ngModelChange"],[1,"header-row","clickable",3,"click"],[3,"ngClass"],[1,"no-margin"],["class","col-sm-5 info",4,"ngIf"],[1,"col-sm-10","info"],["nbInput","","fullWidth","","placeholder","A\xf1ade informaci\xf3n detallada de tu producto",3,"ngModel","ngModelChange"],[1,"col"],["nbButton","","status","primary",3,"click",4,"ngIf"],[3,"value"],[1,"label"],["nbInput","","fullWidth","","placeholder","Valor del producto con descuento aplicado",3,"ngModel","ngModelChange"],["nbButton","","status","primary",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"span"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"nb-card-body"),s["\u0275\u0275elementStart"](7,"div",3),s["\u0275\u0275elementStart"](8,"div",4),s["\u0275\u0275elementStart"](9,"label"),s["\u0275\u0275text"](10,"Nombre del producto"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"input",5),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.producto.titulo=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",4),s["\u0275\u0275elementStart"](13,"label"),s["\u0275\u0275text"](14,"Sector del producto"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"nb-select",6,7),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.producto.sector=e})),s["\u0275\u0275template"](17,Qt,2,2,"nb-option",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"div",4),s["\u0275\u0275elementStart"](19,"label"),s["\u0275\u0275text"](20,"Foto"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"button",9),s["\u0275\u0275listener"]("click",(function(){return t.openFileSelector()})),s["\u0275\u0275text"](22,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"input",10),s["\u0275\u0275listener"]("change",(function(e){return t.onChangeMedia({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](24,Zt,2,1,"label",11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"div",4),s["\u0275\u0275elementStart"](26,"label"),s["\u0275\u0275text"](27,"Precio del producto"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"input",12),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.producto.precio=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](29,"div",4),s["\u0275\u0275elementStart"](30,"div",13),s["\u0275\u0275listener"]("click",(function(){return t.toggleDescuento()})),s["\u0275\u0275element"](31,"i",14),s["\u0275\u0275elementStart"](32,"label",15),s["\u0275\u0275text"](33),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](34,en,4,1,"div",16),s["\u0275\u0275elementStart"](35,"div",17),s["\u0275\u0275elementStart"](36,"label"),s["\u0275\u0275text"](37,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](38,"textarea",18),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.producto.descripcion=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](39,"div",3),s["\u0275\u0275elementStart"](40,"div",19),s["\u0275\u0275template"](41,tn,2,0,"button",20),s["\u0275\u0275template"](42,nn,2,0,"button",20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](t.edit?"Editar producto":"Crear producto"),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.producto.titulo),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.producto.sector),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",t.sectores),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngIf",t.selectedFile),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.producto.precio),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngClass",!0===t.producto.descuento?"fas fa-star highlighted":"far fa-star"),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",null!=t.producto&&t.producto.descuento?"Quitar descuento":"Con descuento"," "),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.producto.descuento),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.producto.descripcion),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",!t.edit),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.edit))},directives:[ue.o,ue.cb,ue.q,ue.n,ue.D,a.b,a.n,a.q,ue.X,a.v,i.n,ue.j,i.o,a.s,i.m,ue.S],styles:[".header-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.header-row[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:1.1rem}i[_ngcontent-%COMP%]{margin-right:10px}.short-btn[_ngcontent-%COMP%]{height:50px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.img-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:20px}.clickable[_ngcontent-%COMP%]:hover   *[_ngcontent-%COMP%]{color:#200081;cursor:pointer}.no-margin[_ngcontent-%COMP%]{margin-bottom:0}.first-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900}a[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),e})();function on(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"span",17),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"currency"),s["\u0275\u0275element"](3,"nb-icon",18),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,null==e.producto?null:e.producto.precioDescuento)," ")}}function an(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",19),s["\u0275\u0275elementStart"](1,"h6"),s["\u0275\u0275text"](2,"Lista de compradores"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](3,"ng2-smart-table",20),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("settings",e.settingsComprasProducto)("source",e.compras)}}function sn(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",21),s["\u0275\u0275text"](1,"* Este producto a\xfan no tiene ventas registradas."),s["\u0275\u0275elementEnd"]())}function ln(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",1),s["\u0275\u0275elementStart"](1,"nb-card-header",2),s["\u0275\u0275elementStart"](2,"div",3),s["\u0275\u0275elementStart"](3,"i",4),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"h5"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"button",5),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().onEdit()})),s["\u0275\u0275element"](7,"nb-icon",6),s["\u0275\u0275text"](8," Editar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"nb-card-body"),s["\u0275\u0275elementStart"](10,"div",7),s["\u0275\u0275elementStart"](11,"div",8),s["\u0275\u0275elementStart"](12,"div",9),s["\u0275\u0275element"](13,"img",10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"div",11),s["\u0275\u0275elementStart"](15,"p",12),s["\u0275\u0275text"](16,"T\xedtulo"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"label"),s["\u0275\u0275text"](18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"p",12),s["\u0275\u0275text"](20,"Precio"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"label"),s["\u0275\u0275elementStart"](22,"span",13),s["\u0275\u0275text"](23),s["\u0275\u0275pipe"](24,"currency"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](25,on,4,3,"span",14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"p",12),s["\u0275\u0275text"](27,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"label"),s["\u0275\u0275text"](29),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"p",12),s["\u0275\u0275text"](31,"Sector"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](32,"label"),s["\u0275\u0275text"](33),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](34,an,4,2,"div",15),s["\u0275\u0275template"](35,sn,2,0,"ng-template",null,16,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275reference"](36),t=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](t.producto.titulo),s["\u0275\u0275advance"](8),s["\u0275\u0275propertyInterpolate"]("src",t.producto.foto,s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](null==t.producto?null:t.producto.titulo),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngClass",!0===t.producto.descuento?"tachado":""),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind4"](24,11,null==t.producto?null:t.producto.precio,"USD","symbol","1.0-20")," "),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.producto.descuento),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](null==t.producto?null:t.producto.descripcion),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](null==t.producto?null:null==t.producto.sector?null:t.producto.sector.nombre),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.compras&&t.compras.length>0)("ngIfElse",e)}}let cn=(()=>{class e{constructor(e,t,n){this.activatedRoute=e,this.mainService=t,this.generalService=n,this.API_PRODUCT="api/producto",this.API_COMPRAS_PRODUCTO="api/compra-producto/producto",this.user={},this.loading=!1,this.producto={},this.settingsComprasProducto={actions:!1,noDataMessage:"Cargando lista de clientes...",columns:{email:{title:"Email de comprador"},calificacionApp:{title:"Ranking",filter:!1},quantity:{title:"Cantidad",filter:!1},total:{title:"Total",filter:!1,valuePrepareFunction:e=>Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}}}}ngOnInit(){const e=this.activatedRoute.snapshot.paramMap.get("id");this.user=JSON.parse(localStorage.getItem("_user")),this.fetchProduct({id:e}),this.getComprasProducto({id:e})}fetchProduct({id:e}){this.loading=!0,this.mainService.get({api:`${this.API_PRODUCT}/${e}`}).then(e=>{this.producto=e}).finally(()=>{this.loading=!1})}getComprasProducto({id:e}){this.mainService.get({api:`${this.API_COMPRAS_PRODUCTO}/${e}`}).then(e=>{const t=[];e.forEach(e=>{const n=t.findIndex(t=>t._id===e.usuario._id);n>=0?(t[n].quantity++,t[n].total=t[n].quantity*t[n].total):t.push(Object.assign(Object.assign({},e.usuario),{quantity:1,total:e.producto.precio}))}),this.compras=t})}onEdit(){this.generalService.routerNavigateTo({path:`index/mvp/productos/editar/${this.producto._id}`})}goBack(){this.generalService.goBack()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Te.a),s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](je.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-productos-ver"]],decls:1,vars:1,consts:[[3,"nbSpinner",4,"ngIf"],[3,"nbSpinner"],[1,"d-flex","justify-content-between"],[1,"d-flex","flex-row","justify-content-start","align-items-center","align-content","center"],[1,"fa","fa-arrow-left","pointer","mr-2",3,"click"],["nbButton","","status","primary","size","medium",3,"click"],["icon","edit-outline"],[1,"row","separate","pb-3"],[1,"col","m-3","fixed"],[1,"holo","d-flex","justify-content-center","align-content-center"],["alt","Foto",1,"not-big","p-1",3,"src"],[1,"col","m-3"],[1,"titulo"],[3,"ngClass"],["class","red ml-3",4,"ngIf"],["class","row m-3 flex-column",4,"ngIf","ngIfElse"],["sinVentasBlock",""],[1,"red","ml-3"],["icon","pricetags-outline"],[1,"row","m-3","flex-column"],[1,"mt-2",3,"settings","source"],[1,"mt-4","gray"]],template:function(e,t){1&e&&s["\u0275\u0275template"](0,ln,37,16,"nb-card",0),2&e&&s["\u0275\u0275property"]("ngIf",t.producto)},directives:[i.o,ue.o,ue.cb,ue.q,ue.j,ue.A,ue.n,i.m,he.b],pipes:[i.d],styles:[".titulo[_ngcontent-%COMP%]{font-weight:700;margin-bottom:4px;color:#200081}.agrupacion[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.not-big[_ngcontent-%COMP%]{max-width:300px;max-height:300px;-o-object-fit:cover;object-fit:cover}.tachado[_ngcontent-%COMP%]{text-decoration:line-through}.red[_ngcontent-%COMP%]{color:red}.gray[_ngcontent-%COMP%]{color:grey}.holo[_ngcontent-%COMP%]{border-radius:21px;background:#fff;box-shadow:12px 12px 36px #f7f7f7,-12px -12px 36px #fff;width:300px;height:300px}.fixed[_ngcontent-%COMP%]{max-width:300px}.separate[_ngcontent-%COMP%]{border-bottom:.5px solid #edf1f7}.separate[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:1rem}"]}),e})();function un(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",7),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"button",8),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275element"](3,"nb-icon",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"p"),s["\u0275\u0275text"](5," \xbfEst\xe1s seguro de eliminar la publicaci\xf3n: "),s["\u0275\u0275elementStart"](6,"span",10),s["\u0275\u0275text"](7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](8,"? "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"nb-card-footer",11),s["\u0275\u0275elementStart"](10,"button",12),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const n=t.dialogRef,i=t.$implicit;return s["\u0275\u0275nextContext"]().deletePost(n,i.id)})),s["\u0275\u0275text"](11,"Eliminar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;s["\u0275\u0275advance"](7),s["\u0275\u0275textInterpolate"](e.titulo)}}let dn=(()=>{class e{constructor(e,t,n){this.mainService=e,this.generalService=t,this.dialogService=n,this.API_DESTACADOS="api/destacado",this.destacados=[],this.settings={}}ngOnInit(){this.getDestacados(),this.setSettings()}getDestacados(){this.mainService.get({api:"api/destacado"}).then(e=>{this.destacados=e,this.setAttributes(),this.source=new he.a(this.destacados)})}deletePost(e,t){this.mainService.delete({api:`${this.API_DESTACADOS}/${t}`}).then(()=>{e.close(),this.getDestacados()})}onCustomAction({event:e,dialog:t}){switch(e.action){case"ver":this.generalService.routerNavigateTo({path:`/index/mvp/destacados/ver/${e.data._id}`});break;case"eliminar":this.dialogService.open(t,{context:{titulo:e.data.titulo,id:e.data._id}})}}onRegister(){this.generalService.routerNavigateTo({path:"index/mvp/destacados/crear"})}setAttributes(){this.destacados.forEach(e=>{e.nombreSeccion=e.seccion?e.seccion.nombre:"N/A"})}setSettings(){this.settings={noDataMessage:"Ning\xfan registro encontrado",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"ver",title:'<i class="fa fa-eye" title="Ver post destacado"></i>'},{name:"eliminar",title:'<i class="fa fa-trash" title="Eliminar post destacado"></i>'}]},columns:{titulo:{title:"T\xedtulo"},nombreSeccion:{title:"Secci\xf3n"},texto:{title:"Texto"},likes:{title:"Likes",valuePrepareFunction:e=>e.length}},mode:"external"}}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](ue.x))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-destacadas"]],decls:13,vars:2,consts:[[1,"row"],[1,"col-sm-12"],[1,"d-flex","flex-row","justify-content-between","align-content-center"],["nbButton","","status","primary","size","medium",1,"float-right","pull-right",3,"click"],["icon","plus-outline"],[3,"source","settings","custom"],["dialogDeletePost",""],[1,"dialog"],["nbButton","","ghost","","status","primary",1,"close",3,"click"],["icon","close-outline"],[1,"titulo"],[1,"footer","d-flex","justify-content-center"],["nbButton","","status","danger",3,"click"]],template:function(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"nb-card"),s["\u0275\u0275elementStart"](3,"nb-card-header",2),s["\u0275\u0275elementStart"](4,"h5"),s["\u0275\u0275text"](5,"Destacados"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"button",3),s["\u0275\u0275listener"]("click",(function(){return t.onRegister()})),s["\u0275\u0275element"](7,"nb-icon",4),s["\u0275\u0275text"](8,"Agregar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"nb-card-body"),s["\u0275\u0275elementStart"](10,"ng2-smart-table",5),s["\u0275\u0275listener"]("custom",(function(n){s["\u0275\u0275restoreView"](e);const i=s["\u0275\u0275reference"](12);return t.onCustomAction({event:n,dialog:i})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](11,un,12,1,"ng-template",null,6,s["\u0275\u0275templateRefExtractor"])}2&e&&(s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("source",t.source)("settings",t.settings))},directives:[ue.o,ue.q,ue.j,ue.A,ue.n,he.b,ue.p],styles:["h3[_ngcontent-%COMP%]{margin:0;padding:0}i[_ngcontent-%COMP%]{font-size:25px}.logo[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{margin-right:10px}.logo[_ngcontent-%COMP%]{max-height:70px;border-radius:8px;width:auto}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:18px;height:18px;margin:24px 8px 10px 12px;float:left;font-size:1rem}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i{padding-top:10px;font-size:18px;color:#08003d}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i:hover{color:#200081}.dialog[_ngcontent-%COMP%]{max-width:420px}.dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5rem 1rem 2rem;text-align:center}.dialog[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{color:#200081;font-weight:700}"]}),e})();function hn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",15),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275property"]("value",e._id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.nombre," ")}}function pn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"label",16),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",e.selectedFile.file.name,"")}}let mn=(()=>{class e{constructor(e,t,n){this.mainService=e,this.generalService=t,this.s3=n,this.API_SECCION="api/seccion",this.API_DESTACADO="api/destacado",this.secciones=[],this.destacado={},this.loading=!1,this.empresas=[],this.isSuperAdmin=!1}ngOnInit(){this.isSuperAdmin="superadministrador"===JSON.parse(localStorage.getItem("_user")).tipo,this.getSecciones()}getSecciones(){this.loading=!0,this.mainService.get({api:this.API_SECCION}).then(e=>{this.secciones=e}).finally(()=>{this.loading=!1})}goBack(){this.generalService.goBack()}openFileSelector(){document.getElementById("media").click()}onSubmit(){if(!this.selectedFile)return this.generalService.handleError({error:"Selecciona el contenido multimedia",titulo:"Error"}),!1;this.loading=!0,this.uploadFile({file:this.selectedFile.file,callback:(e,t)=>{e?(alert("No fue posible subir el archivo, por favor intente m\xe1s tarde"),this.loading=!1):this.createDestacado({media:t.Location})}})}onChangeMedia({event:e}){e.target.files.length>0&&(this.selectedFile={file:e.target.files[0],type:e.target.files[0].type.split("/")[0]})}createDestacado({media:e}){e&&this.destacado.texto&&this.destacado.titulo&&this.destacado.seccion?("image"===this.selectedFile.type?this.destacado.foto=e:this.destacado.video=e,this.mainService.post({api:this.API_DESTACADO,data:this.destacado}).then(e=>{e&&e._id?(this.generalService.handleSuccess({text:"Post destacado creado"}),this.goBack()):this.generalService.handleError({error:"Hubo un error al crear el post",titulo:"Error"})}).finally(()=>{this.loading=!1})):(this.loading=!1,this.generalService.handleError({error:"Por favor llena todos los campos",titulo:"Error"}))}uploadFile({file:e,callback:t}){return Object(kt.a)(this,void 0,void 0,(function*(){const n=`destacado/${this.s3.generateKey()}.${e.name.split(".")[1]}`;yield this.s3.uploadFile({file:e,key:n,callback:t})}))}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](Mt.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-destacado-crear"]],decls:33,vars:6,consts:[[3,"nbSpinner"],[1,"header-row"],[1,"fa","fa-arrow-left","pointer",3,"click"],[1,"row"],[1,"col-sm-5","info"],["nbInput","","fullWidth","",3,"ngModel","ngModelChange"],["fullwidth","","name","seccion","placeholder","Selecciona...","fieldsize","large","required","",1,"input-full-width","size-large","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["seccion","ngModel"],[3,"value",4,"ngFor","ngForOf"],["nbButton","",3,"click"],["hidden","","type","file","id","media",3,"change"],["class","label",4,"ngIf"],[1,"col-sm-10","info"],[1,"col"],["nbButton","","status","primary",3,"click"],[3,"value"],[1,"label"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"h5"),s["\u0275\u0275text"](5,"Crear destacado"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"nb-card-body"),s["\u0275\u0275elementStart"](7,"div",3),s["\u0275\u0275elementStart"](8,"div",4),s["\u0275\u0275elementStart"](9,"label"),s["\u0275\u0275text"](10,"T\xedtulo del destacado"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"input",5),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.destacado.titulo=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",4),s["\u0275\u0275elementStart"](13,"label"),s["\u0275\u0275text"](14,"Seccion del destacado"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"nb-select",6,7),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.destacado.seccion=e})),s["\u0275\u0275template"](17,hn,2,2,"nb-option",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"div",4),s["\u0275\u0275elementStart"](19,"label"),s["\u0275\u0275text"](20,"Contenido multimedia"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"button",9),s["\u0275\u0275listener"]("click",(function(){return t.openFileSelector()})),s["\u0275\u0275text"](22,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"input",10),s["\u0275\u0275listener"]("change",(function(e){return t.onChangeMedia({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](24,pn,2,1,"label",11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"div",12),s["\u0275\u0275elementStart"](26,"label"),s["\u0275\u0275text"](27,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"textarea",5),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.destacado.texto=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](29,"div",3),s["\u0275\u0275elementStart"](30,"div",13),s["\u0275\u0275elementStart"](31,"button",14),s["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),s["\u0275\u0275text"](32,"Crear"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("ngModel",t.destacado.titulo),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.destacado.seccion),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",t.secciones),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngIf",t.selectedFile),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.destacado.texto))},directives:[ue.o,ue.cb,ue.q,ue.n,ue.D,a.b,a.n,a.q,ue.X,a.v,i.n,ue.j,i.o,ue.S],styles:[".header-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.header-row[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:1.1rem}i[_ngcontent-%COMP%]{margin-right:10px}.short-btn[_ngcontent-%COMP%]{height:50px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.img-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:20px}.first-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900}a[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),e})();function gn(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",8),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"button",9),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275element"](3,"nb-icon",10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"p",11),s["\u0275\u0275text"](5," \xbfEst\xe1s seguro de eliminar la secci\xf3n "),s["\u0275\u0275elementStart"](6,"span",12),s["\u0275\u0275text"](7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](8,"? "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"p"),s["\u0275\u0275text"](10,"Todas las publicaciones destacadas relacionadas tambi\xe9n ser\xe1n eliminadas."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"nb-card-footer",13),s["\u0275\u0275elementStart"](12,"button",14),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const n=t.dialogRef,i=t.$implicit;return s["\u0275\u0275nextContext"]().deleteSection(n,i.id)})),s["\u0275\u0275text"](13,"Eliminar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;s["\u0275\u0275advance"](7),s["\u0275\u0275textInterpolate"](e.nombre)}}let fn=(()=>{class e{constructor(e,t,n){this.mainService=e,this.generalService=t,this.dialogService=n,this.API_SECCION="api/seccion",this.secciones=[],this.settings={}}ngOnInit(){this.getSecciones(),this.setSettings()}getSecciones(){this.mainService.get({api:this.API_SECCION}).then(e=>{e.pop(),this.secciones=e,this.setAttributes(),this.source=new he.a(this.secciones)})}onCustomAction({event:e,deleteDialog:t}){switch(e.action){case"editar":this.generalService.routerNavigateTo({path:`/index/mvp/destacados/seccion/editar/${e.data._id}`});break;case"eliminar":this.dialogService.open(t,{context:{nombre:e.data.nombre,id:e.data._id}})}}deleteSection(e,t){this.mainService.delete({api:`${this.API_SECCION}/${t}`}).then(t=>{e.close(),this.getSecciones()})}onRegister(){this.generalService.routerNavigateTo({path:"index/mvp/destacados/seccion/crear"})}setAttributes(){this.secciones.forEach(e=>{e.nombreSeccion=e.seccion?e.seccion.nombre:"N/A"})}setSettings(){this.settings={noDataMessage:"Ning\xfan registro encontrado",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"editar",title:'<i class="fa fa-edit" title="Editar secci\xf3n destacada"></i>'},{name:"eliminar",title:'<i class="fa fa-trash" title="Eliminar secci\xf3n destacada"></i>'}]},columns:{nombre:{title:"T\xedtulo"},descripcion:{title:"Descripci\xf3n"},icono:{title:"\xcdcono",type:"html",valuePrepareFunction:e=>`<img class='table-thumbnail-img' src='${e}'/>`}},mode:"external"}}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](ue.x))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-secciones"]],decls:13,vars:2,consts:[[1,"row"],[1,"col-sm-12"],[1,"d-flex","flex-row","justify-content-between","align-content","center"],["nbButton","","status","primary","size","medium",1,"float-right","pull-right",3,"click"],["icon","plus-outline"],[1,"py-4"],[3,"source","settings","custom"],["dialogDeleteSection",""],[1,"dialog"],["nbButton","","ghost","","status","primary",1,"close",3,"click"],["icon","close-outline"],[1,"message"],[1,"titulo"],[1,"footer","d-flex","justify-content-center"],["nbButton","","status","danger",3,"click"]],template:function(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"nb-card"),s["\u0275\u0275elementStart"](3,"nb-card-header",2),s["\u0275\u0275elementStart"](4,"h5"),s["\u0275\u0275text"](5,"Secciones"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"button",3),s["\u0275\u0275listener"]("click",(function(){return t.onRegister()})),s["\u0275\u0275element"](7,"nb-icon",4),s["\u0275\u0275text"](8,"Agregar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"nb-card-body",5),s["\u0275\u0275elementStart"](10,"ng2-smart-table",6),s["\u0275\u0275listener"]("custom",(function(n){s["\u0275\u0275restoreView"](e);const i=s["\u0275\u0275reference"](12);return t.onCustomAction({event:n,deleteDialog:i})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](11,gn,14,1,"ng-template",null,7,s["\u0275\u0275templateRefExtractor"])}2&e&&(s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("source",t.source)("settings",t.settings))},directives:[ue.o,ue.q,ue.j,ue.A,ue.n,he.b,ue.p],styles:["[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:18px;height:18px;margin:24px 8px 10px 12px;float:left;font-size:1rem}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i{padding-top:10px;font-size:18px;color:#08003d}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i:hover{color:#200081}.dialog[_ngcontent-%COMP%]{max-width:420px}.dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.dialog[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:4rem}.dialog[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{color:#200081;font-weight:700}"]}),e})();function bn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"label",12),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",e.selectedFile.file.name,"")}}let vn=(()=>{class e{constructor(e,t,n){this.mainService=e,this.generalService=t,this.s3=n,this.API_SECCION="api/seccion",this.seccion={},this.loading=!1,this.isSuperAdmin=!1}ngOnInit(){this.isSuperAdmin="superadministrador"===JSON.parse(localStorage.getItem("_user")).tipo}goBack(){this.generalService.goBack()}openFileSelector(){document.getElementById("media").click()}onSubmit(){if(!this.selectedFile)return this.generalService.handleError({error:"Selecciona un \xedcono",titulo:"Error"}),!1;this.loading=!0,this.uploadFile({file:this.selectedFile.file,callback:(e,t)=>{e?(alert("No fue posible subir el archivo, por favor intente m\xe1s tarde"),this.loading=!1):this.createSeccion({media:t.Location})}})}onChangeMedia({event:e}){e.target.files.length>0&&(this.selectedFile={file:e.target.files[0],type:e.target.files[0].type.split("/")[0]})}createSeccion({media:e}){e&&this.seccion.descripcion&&this.seccion.nombre?("image"===this.selectedFile.type?this.seccion.icono=e:this.seccion.video=e,this.mainService.post({api:this.API_SECCION,data:this.seccion}).then(e=>{e&&e._id?(this.generalService.handleSuccess({text:"Secci\xf3n creada"}),this.goBack()):this.generalService.handleError({error:"Hubo un error al crear la secci\xf3n",titulo:"Error"})}).finally(()=>{this.loading=!1})):(this.loading=!1,this.generalService.handleError({error:"Por favor llena todos los campos",titulo:"Error"}))}uploadFile({file:e,callback:t}){return Object(kt.a)(this,void 0,void 0,(function*(){const n=`seccion/${this.s3.generateKey()}.${e.name.split(".")[1]}`;yield this.s3.uploadFile({file:e,key:n,callback:t})}))}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](Mt.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-seccion-crear"]],decls:27,vars:4,consts:[[3,"nbSpinner"],[1,"header-row"],[1,"fa","fa-arrow-left","pointer",3,"click"],[1,"row"],[1,"col-sm-5","info"],["nbInput","","fullWidth","",3,"ngModel","ngModelChange"],["nbButton","",3,"click"],["hidden","","type","file","id","media",3,"change"],["class","label",4,"ngIf"],[1,"col-sm-10","info"],[1,"col"],["nbButton","","status","primary",3,"click"],[1,"label"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"span"),s["\u0275\u0275text"](5,"Crear secci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"nb-card-body"),s["\u0275\u0275elementStart"](7,"div",3),s["\u0275\u0275elementStart"](8,"div",4),s["\u0275\u0275elementStart"](9,"label"),s["\u0275\u0275text"](10,"Nombre"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"input",5),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.seccion.nombre=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",4),s["\u0275\u0275elementStart"](13,"label"),s["\u0275\u0275text"](14,"\xcdcono"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"button",6),s["\u0275\u0275listener"]("click",(function(){return t.openFileSelector()})),s["\u0275\u0275text"](16,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"input",7),s["\u0275\u0275listener"]("change",(function(e){return t.onChangeMedia({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](18,bn,2,1,"label",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",9),s["\u0275\u0275elementStart"](20,"label"),s["\u0275\u0275text"](21,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"textarea",5),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.seccion.descripcion=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"div",3),s["\u0275\u0275elementStart"](24,"div",10),s["\u0275\u0275elementStart"](25,"button",11),s["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),s["\u0275\u0275text"](26,"Crear"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("ngModel",t.seccion.nombre),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngIf",t.selectedFile),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.seccion.descripcion))},directives:[ue.o,ue.cb,ue.q,ue.n,ue.D,a.b,a.n,a.q,ue.j,i.o],styles:[".header-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.header-row[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:1.1rem}i[_ngcontent-%COMP%]{margin-right:10px}.short-btn[_ngcontent-%COMP%]{height:50px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.img-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:20px}.first-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900}a[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),e})();function xn(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",5),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"button",6),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275element"](3,"nb-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275elementStart"](5,"p"),s["\u0275\u0275text"](6," \xbfEst\xe1s seguro de eliminar el sector "),s["\u0275\u0275elementStart"](7,"span",9),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](9,"? "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"p"),s["\u0275\u0275text"](11," Las publicaciones asociadas a este sector dejar\xe1n de estar disponibles para los usuarios. "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"nb-card-footer",10),s["\u0275\u0275elementStart"](13,"button",11),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const n=t.dialogRef,i=t.$implicit;return s["\u0275\u0275nextContext"]().onDeleteSector(n,i.id)})),s["\u0275\u0275text"](14," Eliminar sector "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;s["\u0275\u0275advance"](8),s["\u0275\u0275textInterpolate"](e.text)}}let yn=(()=>{class e{constructor(e,t,n){this.mainService=e,this.generalService=t,this.dialogService=n,this.API_SECTOR="api/sector",this.API_SECTOR_USERS="api/sector/users",this.sectores=[],this.settings={}}ngOnInit(){this.getSectores(),this.setSettings()}onDeleteSector(e,t){this.mainService.delete({api:`${this.API_SECTOR}/${t}`}).then(t=>{this.getSectores(),this.closeDialog(e)})}closeDialog(e){e.close()}getSectores(){this.mainService.get({api:this.API_SECTOR_USERS}).then(e=>{this.sectores=e,this.setAttributes(),this.source=new he.a(this.sectores)})}onCustomAction({event:e},t){switch(e.action){case"editar-sector":this.generalService.routerNavigateTo({path:`index/mvp/sector/editar/${e.data._id}`});break;case"eliminar-sector":this.dialogRef=this.dialogService.open(t,{context:{text:e.data.nombre,id:e.data._id}})}}onRegister(){this.generalService.routerNavigateTo({path:"index/mvp/sector/crear"})}setAttributes(){this.sectores=this.sectores.map(e=>({total:e.users.length,nombre:e.nombre,icono:e.icono,descripcion:e.descripcion,_id:e._id}))}setSettings(){this.settings={noDataMessage:"Ning\xfan registro encontrado",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"editar-sector",title:'<i title="Editar sector" class="fas fa-pen"></i>'},{name:"eliminar-sector",title:'<i title="Eliminar sector" class="fas fa-trash"></i>'}]},columns:{nombre:{title:"Nombre"},descripcion:{title:"Descripci\xf3n",valuePrepareFunction:e=>e[0]},total:{title:"Total usuarios",filter:!1},icono:{title:"\xcdcono",filter:!1,type:"html",valuePrepareFunction:e=>`<img class='table-thumbnail-img' src='${e}'/>`}},mode:"external"}}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](ue.x))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-sectores"]],decls:11,vars:2,consts:[[1,"d-flex","justify-content-between","align-items-center"],["nbButton","","status","primary","size","medium",1,"float-right","pull-right",3,"click"],["icon","plus-outline"],[3,"source","settings","custom"],["deleteSectorDialog",""],[1,"dialog"],["nbButton","","ghost","","status","primary",1,"close",3,"click"],["icon","close-outline"],[1,"text-container","mx-auto"],[1,"username"],[1,"footer"],["nbButton","","status","danger",3,"click"]],template:function(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header",0),s["\u0275\u0275elementStart"](2,"h5"),s["\u0275\u0275text"](3,"Sectores"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"button",1),s["\u0275\u0275listener"]("click",(function(){return t.onRegister()})),s["\u0275\u0275element"](5,"nb-icon",2),s["\u0275\u0275text"](6,"Agregar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"nb-card-body"),s["\u0275\u0275elementStart"](8,"ng2-smart-table",3),s["\u0275\u0275listener"]("custom",(function(n){s["\u0275\u0275restoreView"](e);const i=s["\u0275\u0275reference"](10);return t.onCustomAction({event:n},i)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](9,xn,15,1,"ng-template",null,4,s["\u0275\u0275templateRefExtractor"])}2&e&&(s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("source",t.source)("settings",t.settings))},directives:[ue.o,ue.q,ue.j,ue.A,ue.n,he.b,ue.p],styles:["[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:18px;height:18px;margin:8px 8px 4px 12px;float:left;font-size:1rem}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i{padding-top:32px;font-size:18px;color:#08003d}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i:hover{color:#200081}.dialog[_ngcontent-%COMP%]{max-width:420px}.dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin:.2rem;right:0;position:absolute}.dialog[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]{margin-top:3.2rem;text-align:center;max-width:80%}.dialog[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{text-align:center}.username[_ngcontent-%COMP%]{color:#200081;font-weight:bolder;text-transform:capitalize}"]}),e})();function Sn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"label",14),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",e.selectedFile.file.name,"")}}let En=(()=>{class e{constructor(e,t,n){this.mainService=e,this.generalService=t,this.s3=n,this.API_SECTOR="api/sector",this.sector={},this.loading=!1,this.isSuperAdmin=!1}ngOnInit(){this.isSuperAdmin="superadministrador"===JSON.parse(localStorage.getItem("_user")).tipo}goBack(){this.generalService.goBack()}openFileSelector(){document.getElementById("media").click()}onSubmit(){this.loading=!0,this.selectedFile?this.uploadFile({file:this.selectedFile.file,callback:(e,t)=>{e?(alert("No fue posible subir el archivo, por favor intente m\xe1s tarde"),this.loading=!1):this.createSector({media:t.Location})}}):this.createSector({media:""})}onChangeMedia({event:e}){e.target.files.length>0&&(this.selectedFile={file:e.target.files[0],type:e.target.files[0].type.split("/")[0]})}createSector({media:e}){this.sector.descripcion&&this.sector.nombre?(this.selectedFile&&("image"===this.selectedFile.type?this.sector.icono=e:this.sector.video=e),this.mainService.post({api:this.API_SECTOR,data:this.sector}).then(e=>{e&&e._id?(this.generalService.handleSuccess({text:"Sector creado exitosamente."}),this.goBack()):this.generalService.handleError({error:"Hubo un error al crear el sector",titulo:"Error"})}).finally(()=>{this.loading=!1})):(this.loading=!1,this.generalService.handleError({error:"Por favor llena todos los campos",titulo:"Error"}))}uploadFile({file:e,callback:t}){return Object(kt.a)(this,void 0,void 0,(function*(){const n=`sector/${this.s3.generateKey()}.${e.name.split(".")[1]}`;yield this.s3.uploadFile({file:e,key:n,callback:t})}))}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](Mt.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-sector-crear"]],decls:28,vars:4,consts:[[3,"nbSpinner"],[1,"header-row"],[1,"fa","fa-arrow-left","pointer",3,"click"],[1,"row","pb-4"],[1,"col-sm-6","info"],["nbInput","","fullWidth","",3,"ngModel","ngModelChange"],[1,"full-width"],["nbButton","",3,"click"],["hidden","","type","file","id","media",3,"change"],["class","label",4,"ngIf"],[1,"col-sm-12","info"],[1,"row"],[1,"col","d-flex","justify-content-center","my-4"],["nbButton","","status","primary",3,"click"],[1,"label"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"span"),s["\u0275\u0275text"](5," Crear sector"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"nb-card-body"),s["\u0275\u0275elementStart"](7,"div",3),s["\u0275\u0275elementStart"](8,"div",4),s["\u0275\u0275elementStart"](9,"label"),s["\u0275\u0275text"](10,"Nombre"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"input",5),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.sector.nombre=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",4),s["\u0275\u0275elementStart"](13,"label",6),s["\u0275\u0275text"](14,"\xcdcono"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"button",7),s["\u0275\u0275listener"]("click",(function(){return t.openFileSelector()})),s["\u0275\u0275text"](16,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"input",8),s["\u0275\u0275listener"]("change",(function(e){return t.onChangeMedia({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](18,Sn,2,1,"label",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",3),s["\u0275\u0275elementStart"](20,"div",10),s["\u0275\u0275elementStart"](21,"label"),s["\u0275\u0275text"](22,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"textarea",5),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.sector.descripcion=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](24,"div",11),s["\u0275\u0275elementStart"](25,"div",12),s["\u0275\u0275elementStart"](26,"button",13),s["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),s["\u0275\u0275text"](27,"Crear"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("ngModel",t.sector.nombre),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngIf",t.selectedFile),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.sector.descripcion))},directives:[ue.o,ue.cb,ue.q,ue.n,ue.D,a.b,a.n,a.q,ue.j,i.o],styles:["button[_ngcontent-%COMP%]{min-width:200px}.full-width[_ngcontent-%COMP%]{width:100%}.label[_ngcontent-%COMP%]{padding-left:20px}"]}),e})();function wn(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"h1",22),s["\u0275\u0275text"](1,"Registro"),s["\u0275\u0275elementEnd"]())}function Cn(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"h1",22),s["\u0275\u0275text"](1,"Editar"),s["\u0275\u0275elementEnd"]())}function _n(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",23),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275property"]("value",e._id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.nombre," ")}}function Pn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",6),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",e.selectedFile.name,"")}}function On(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",24),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().onSubmit()})),s["\u0275\u0275text"](1,"Registrar"),s["\u0275\u0275elementEnd"]()}}function kn(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",25),s["\u0275\u0275elementStart"](1,"button",26),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().onSubmit()})),s["\u0275\u0275text"](2,"Guardar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"button",27),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().goBack()})),s["\u0275\u0275text"](4,"Regresar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}let Mn=(()=>{class e{constructor(e,t,n,i,r){this.authService=e,this.mainService=t,this.generalService=n,this.s3=i,this.activatedRoute=r,this.empresa={},this.sectores=[],this.loading=!1,this.API_SECTOR="api/sector",this.API_EMPRESA="api/empresa",this.edit=!1}ngOnInit(){const e=this.activatedRoute.snapshot.paramMap.get("id");e&&(this.edit=!0,this.fetchEmpresa({id:e})),this.getSectores()}getSectores(){this.mainService.get({api:this.API_SECTOR}).then(e=>{this.sectores=e})}fetchEmpresa({id:e}){this.loading=!0,this.mainService.get({api:`${this.API_EMPRESA}/${e}`}).then(e=>{this.empresa=e,this.empresa.sectores=this.empresa.sectores.map(e=>e._id)}).finally(()=>{this.loading=!1})}onSubmit(){this.selectedFile?this.uploadFile({file:this.selectedFile,callback:(e,t)=>{e?alert("No fue posible subir el archivo, por favor intente m\xe1s tarde"):this.register({logo:t.Location})}}):this.register({logo:this.empresa.logo})}register({logo:e}){this.empresa.nombre&&this.empresa.sectores&&this.empresa.descripcion?this.edit?(this.empresa.logo=e||"",this.mainService.put({api:`${this.API_EMPRESA}/${this.empresa._id}`,data:this.empresa}).then(e=>{this.generalService.handleSuccess({text:"Empresa editada"})})):(this.empresa.logo=e||"",this.mainService.post({api:this.API_EMPRESA,data:this.empresa}).then(e=>{this.generalService.handleSuccess({text:"Empresa creada"})})):this.generalService.handleError({error:"Por favor llena todos los campos",titulo:"Error"})}openFileSelector(){document.getElementById("logo-selector").click()}onChangeMedia({event:e}){e.target.files.length>0&&(this.selectedFile=e.target.files[0])}uploadFile({file:e,callback:t}){return Object(kt.a)(this,void 0,void 0,(function*(){const n=`empresa/${this.empresa.nombre.replace(" ","-")||"no-name"}/logo-${this.s3.generateKey()}`;yield this.s3.uploadFile({file:e,key:n,callback:t})}))}goBack(){this.generalService.goBack()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](lt.a),s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](Mt.a),s["\u0275\u0275directiveInject"](Te.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-empresas-create"]],decls:43,vars:9,consts:[["windowMode",""],["id","sub-container",1,"p-2"],[1,"text-center"],["class","title","id","title",4,"ngIf"],[1,"row"],[1,"col","form-control-group","form-input"],[1,"label"],["nbinput","","fullwidth","","name","nombreEmpresa","type","text","placeholder","Nombre","fieldsize","large","required","",1,"select","input-full-width","size-large","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["nombreEmpresa","ngModel"],[1,"col","form-control-group","form-input","select-container"],["multiple","","fullwidth","","name","sector","placeholder","Selecciona...","fieldsize","large","required","",1,"input-full-width","size-large","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["sector","ngModel"],[3,"value",4,"ngFor","ngForOf"],["nbInput","","fullWidth","","name","descripcion","type","text","placeholder","Escribe...","fieldsize","large","required","",1,"textarea","input-full-width","size-xlarge","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["descripcion","ngModel"],[1,"col"],["nbButton","",3,"click"],["hidden","","id","logo-selector","name","logo","accept","image/x-png,image/jpeg","type","file",3,"change"],["class","label",4,"ngIf"],[1,"col-12"],["status","primary","fullWidth","","nbButton","",3,"click",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],["id","title",1,"title"],[3,"value"],["status","primary","fullWidth","","nbButton","",3,"click"],[1,"d-flex","justify-content-center"],["status","success","nbButton","",1,"m-3",3,"click"],["status","primary","nbButton","",1,"m-3",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-layout",0),s["\u0275\u0275elementStart"](1,"nb-layout-column"),s["\u0275\u0275elementStart"](2,"nb-card"),s["\u0275\u0275elementStart"](3,"nb-card-body"),s["\u0275\u0275elementStart"](4,"div",1),s["\u0275\u0275elementStart"](5,"div",2),s["\u0275\u0275template"](6,wn,2,0,"h1",3),s["\u0275\u0275template"](7,Cn,2,0,"h1",3),s["\u0275\u0275elementStart"](8,"label"),s["\u0275\u0275text"](9,"Ingresa los datos de la empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"div",4),s["\u0275\u0275elementStart"](11,"div",5),s["\u0275\u0275elementStart"](12,"label",6),s["\u0275\u0275text"](13,"Nombre de la empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"input",7,8),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.empresa.nombre=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",9),s["\u0275\u0275elementStart"](17,"label",6),s["\u0275\u0275text"](18,"Sectores de la empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"nb-select",10,11),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.empresa.sectores=e})),s["\u0275\u0275template"](21,_n,2,2,"nb-option",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"div",4),s["\u0275\u0275elementStart"](23,"div",5),s["\u0275\u0275elementStart"](24,"label",6),s["\u0275\u0275text"](25,"Descripcion"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"textarea",13,14),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.empresa.descripcion=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](28,"br"),s["\u0275\u0275elementStart"](29,"div",4),s["\u0275\u0275elementStart"](30,"div",15),s["\u0275\u0275elementStart"](31,"label",6),s["\u0275\u0275text"](32,"Subir logo"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](33,"br"),s["\u0275\u0275elementStart"](34,"button",16),s["\u0275\u0275listener"]("click",(function(){return t.openFileSelector()})),s["\u0275\u0275text"](35,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](36,"input",17),s["\u0275\u0275listener"]("change",(function(e){return t.onChangeMedia({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](37,Pn,2,1,"p",18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](38,"br"),s["\u0275\u0275elementStart"](39,"div",4),s["\u0275\u0275elementStart"](40,"div",19),s["\u0275\u0275template"](41,On,2,0,"button",20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](42,kn,5,0,"div",21),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",!t.edit),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.edit),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngModel",t.empresa.nombre),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.empresa.sectores),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",t.sectores),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.empresa.descripcion),s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("ngIf",t.selectedFile),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",!t.edit),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.edit))},directives:[ue.G,ue.F,ue.o,ue.n,i.o,a.b,a.v,a.n,a.q,ue.X,i.n,ue.D,ue.j,ue.S],styles:[".main-container[_ngcontent-%COMP%]{min-height:90vh}#back-btn[_ngcontent-%COMP%]{cursor:pointer;font-size:34px}.form-input[_ngcontent-%COMP%]{margin-top:1rem}.select-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:40vh}.textarea[_ngcontent-%COMP%]{height:15vh}.select[_ngcontent-%COMP%]{height:42px!important;width:100%}.button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1rem}.dialog[_ngcontent-%COMP%]{max-width:420px}.dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin:.4rem;right:0;position:absolute}.dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;padding:4rem 1rem 1rem}.dialog[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{text-align:center}.dialog[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#200081;font-weight:bolder;text-transform:capitalize}"]}),e})();function An(e,t){if(1&e&&s["\u0275\u0275element"](0,"img",18),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275property"]("src",e.sector.icono,s["\u0275\u0275sanitizeUrl"])}}function In(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"label",19),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",e.selectedFile.file.name,"")}}function Tn(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"form",4),s["\u0275\u0275listener"]("ngSubmit",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().onSubmit()})),s["\u0275\u0275elementStart"](1,"div",5),s["\u0275\u0275elementStart"](2,"div",6),s["\u0275\u0275elementStart"](3,"label",7),s["\u0275\u0275text"](4,"Nombre"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](5,"input",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",6),s["\u0275\u0275elementStart"](7,"label",9),s["\u0275\u0275text"](8,"\xcdcono"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](9,An,1,1,"ng-template",null,10,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementStart"](11,"button",11),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().openFileSelector()})),s["\u0275\u0275text"](12,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"input",12),s["\u0275\u0275listener"]("change",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().onChangeMedia({event:t})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](14,In,2,1,"label",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",5),s["\u0275\u0275elementStart"](16,"div",14),s["\u0275\u0275elementStart"](17,"label"),s["\u0275\u0275text"](18,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](19,"textarea",15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"div",5),s["\u0275\u0275elementStart"](21,"div",16),s["\u0275\u0275elementStart"](22,"button",17),s["\u0275\u0275text"](23," Guardar cambios "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275reference"](10),t=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("formGroup",t.sectorForm),s["\u0275\u0275advance"](14),s["\u0275\u0275property"]("ngIf",t.selectedFile)("ngIfElse",e),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("disabled",t.sectorForm.invalid)}}let jn=(()=>{class e{constructor(e,t,n,i,r){this.fb=e,this.s3=t,this.generalService=n,this.mainService=i,this.activatedRoute=r,this.API_SECTOR="api/sector",this.loading=!0,this.iconChanged=!1,this.sectorId="",this.sectorForm=this.fb.group({nombre:["",a.x.required],icono:[null],descripcion:["",a.x.required]})}ngOnInit(){this.sectorId=this.activatedRoute.snapshot.paramMap.get("id"),this.populateFormSectorById(this.sectorId)}populateFormSectorById(e){this.mainService.get({api:`${this.API_SECTOR}/${e}`}).then(e=>{this.sector=e,this.sectorForm.patchValue({nombre:e.nombre,descripcion:e.descripcion[0]}),this.loading=!1})}onChangeMedia({event:e}){e.target.files.length>0&&(this.selectedFile={file:e.target.files[0],type:e.target.files[0].type.split("/")[0]},this.iconChanged=!0)}openFileSelector(){document.getElementById("media").click()}onSubmit(){this.loading=!0;let e=this.sectorForm.value;const t=(t,n)=>{t?(alert("No fue posible subir el archivo, por favor intenta  m\xe1s tarde"),this.loading=!1):(e.icono=n.Location,this.updateSector(e))};if(this.iconChanged){const e=`sector/${this.s3.generateKey()}.${this.selectedFile.file.name.split(".")[1]}`;this.s3.uploadFile({file:this.selectedFile.file,key:e,callback:t})}else delete e.icono,this.updateSector(e)}updateSector(e){this.mainService.put({api:`${this.API_SECTOR}/${this.sectorId}`,data:e,hide404:!0}).then(()=>{this.generalService.handleSuccess({text:"Sector editado exitosamente."}),this.goBack()})}goBack(){this.generalService.goBack()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](a.c),s["\u0275\u0275directiveInject"](Mt.a),s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](Te.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-editar-sector"]],decls:8,vars:2,consts:[[3,"nbSpinner"],[1,"d-flex","flex-row","justify-content-start","align-items-center","align-content","center"],[1,"fa","fa-arrow-left","pointer",3,"click"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-6","info"],["for","sector-nombre",1,"full-width"],["type","text","nbInput","","id","sector-nombre","value","","formControlName","nombre","required",""],["for","media",1,"full-width"],["currentIconBlock",""],["nbButton","","type","button",3,"click"],["hidden","","type","file","accept","image/*","id","media",3,"change"],["class","label",4,"ngIf","ngIfElse"],[1,"col-sm-12","info"],["nbInput","","fullWidth","","value","","formControlName","descripcion"],[1,"col","d-flex","justify-content-center","my-4"],["nbButton","","status","primary","type","submit",3,"disabled"],["alt","icono",1,"icono","p-2",3,"src"],[1,"label"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"h5"),s["\u0275\u0275text"](5,"Editar sector"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"nb-card-body"),s["\u0275\u0275template"](7,Tn,24,4,"form",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngIf",t.sector))},directives:[ue.o,ue.cb,ue.q,ue.n,i.o,a.z,a.o,a.g,ue.D,a.b,a.n,a.f,a.v,ue.j],styles:["button[_ngcontent-%COMP%]{min-width:200px}.full-width[_ngcontent-%COMP%]{width:100%}.label[_ngcontent-%COMP%]{padding-left:20px}.icono[_ngcontent-%COMP%]{width:50px}#sector-nombre[_ngcontent-%COMP%]{width:100%}i[_ngcontent-%COMP%]{font-size:1.1rem;margin-right:10px}"]}),e})();function Ln(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"span",20),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",e.selectedFile.file.name,"")}}function Dn(e,t){if(1&e&&s["\u0275\u0275element"](0,"img",21),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275property"]("src",e.section.icono,s["\u0275\u0275sanitizeUrl"])}}function Fn(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"form",4),s["\u0275\u0275listener"]("ngSubmit",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().onSubmit()})),s["\u0275\u0275elementStart"](1,"div",5),s["\u0275\u0275elementStart"](2,"div",6),s["\u0275\u0275elementStart"](3,"label",7),s["\u0275\u0275text"](4,"Nombre: "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](5,"input",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",6),s["\u0275\u0275elementStart"](7,"label",9),s["\u0275\u0275text"](8,"Icono:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",10),s["\u0275\u0275elementStart"](10,"button",11),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().openFileSelector()})),s["\u0275\u0275text"](11,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"input",12),s["\u0275\u0275listener"]("change",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().onChangeMedia({event:t})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](13,Ln,2,1,"span",13),s["\u0275\u0275template"](14,Dn,1,1,"ng-template",null,14,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",5),s["\u0275\u0275elementStart"](17,"div",6),s["\u0275\u0275elementStart"](18,"label",15),s["\u0275\u0275text"](19,"Descripci\xf3n:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](20,"textarea",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",17),s["\u0275\u0275elementStart"](22,"div",18),s["\u0275\u0275elementStart"](23,"button",19),s["\u0275\u0275text"](24,"Guardar cambios"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275reference"](15),t=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("formGroup",t.editSectionForm),s["\u0275\u0275advance"](13),s["\u0275\u0275property"]("ngIf",t.selectedFile)("ngIfElse",e),s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("disabled",t.editSectionForm.invalid)}}let Rn=(()=>{class e{constructor(e,t,n,i,r,o){this.fb=e,this.cd=t,this.s3=n,this.generalService=i,this.mainService=r,this.activatedRoute=o,this.API_SECCIONES_DESTACADAS="api/seccion",this.iconChanged=!1,this.loading=!1,this.editSectionForm=this.fb.group({icono:[null],nombre:["",a.x.required],descripcion:["",a.x.required]})}ngOnInit(){this.sectionId=this.activatedRoute.snapshot.paramMap.get("id"),this.populateSectionFormById(this.sectionId)}populateSectionFormById(e){this.mainService.get({api:`${this.API_SECCIONES_DESTACADAS}/${e}`}).then(e=>{this.section=e,this.editSectionForm.patchValue({nombre:e.nombre,descripcion:e.descripcion})})}onChangeMedia({event:e}){e.target.files.length>0&&(this.selectedFile={file:e.target.files[0],type:e.target.files[0].type.split("/")[0]},this.iconChanged=!0)}openFileSelector(){document.getElementById("media").click()}onSubmit(){this.loading=!0;let e=this.editSectionForm.value;const t=(t,n)=>{t?(alert("No fue posible subir el archivo, por favor intenta  m\xe1s tarde"),this.loading=!1):(e.icono=n.Location,this.updateSection(e))};if(this.iconChanged){const e=`sector/${this.s3.generateKey()}.${this.selectedFile.file.name.split(".")[1]}`;this.s3.uploadFile({file:this.selectedFile.file,key:e,callback:t})}else delete e.icono,this.updateSection(e)}updateSection(e){this.mainService.put({api:`${this.API_SECCIONES_DESTACADAS}/${this.sectionId}`,data:e,hide404:!0}).then(()=>{this.generalService.handleSuccess({text:"Secci\xf3n editada exitosamente."}),this.goBack()})}goBack(){this.generalService.goBack()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](a.c),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef),s["\u0275\u0275directiveInject"](Mt.a),s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](Te.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-seccion-editar"]],decls:8,vars:2,consts:[[3,"nbSpinner"],[1,"d-flex","flex-row","justify-content-start","align-items-center","align-content","center"],[1,"fa","fa-arrow-left","pointer",3,"click"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row","my-3"],[1,"col"],["for","nombre",1,"fullwidth"],["type","text","fullWidth","","nbInput","","id","seccion-nombre","value","","formControlName","nombre","required",""],["for","media",1,"media-label"],[1,"container"],["nbButton","","type","button",1,"my-1",3,"click"],["hidden","","type","file","accept","image/*","id","media",3,"change"],["class","label",4,"ngIf","ngIfElse"],["currentIconBlock",""],["for","descripcion",1,"fullwidth"],["nbInput","","fullWidth","","value","","id","descripcion","formControlName","descripcion"],[1,"row"],[1,"col","d-flex","justify-content-center","my-3"],["nbButton","","status","primary","type","submit",3,"disabled"],[1,"label"],["alt","icono",1,"icono","p-2",3,"src"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"h5"),s["\u0275\u0275text"](5,"Editar secci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"nb-card-body"),s["\u0275\u0275template"](7,Fn,25,4,"form",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngIf",t.section))},directives:[ue.o,ue.cb,ue.q,ue.n,i.o,a.z,a.o,a.g,ue.D,a.b,a.n,a.f,a.v,ue.j],styles:["i[_ngcontent-%COMP%]{font-size:1.1rem;margin-right:10px}.icono[_ngcontent-%COMP%]{height:50px}.media-label[_ngcontent-%COMP%]{width:100;display:inline-block;margin:0}.container[_ngcontent-%COMP%]{width:100%;margin-top:0}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:0;margin-left:-16px}"]}),e})();function Bn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",21),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275property"]("value",e._id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.nombre," ")}}function Nn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",e.selectedFile.file.name,"")}}function Vn(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card-body"),s["\u0275\u0275elementStart"](1,"form",4),s["\u0275\u0275listener"]("ngSubmit",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().onSubmit()})),s["\u0275\u0275elementStart"](2,"div",5),s["\u0275\u0275elementStart"](3,"div",6),s["\u0275\u0275elementStart"](4,"label",7),s["\u0275\u0275text"](5,"T\xedtulo del destacado:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](6,"input",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"div",6),s["\u0275\u0275elementStart"](8,"label",9),s["\u0275\u0275text"](9,"Secci\xf3n de la publicaci\xf3n:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"nb-select",10),s["\u0275\u0275listener"]("selectedChange",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().post.seccion._id=t})),s["\u0275\u0275template"](11,Bn,2,2,"nb-option",11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",12),s["\u0275\u0275elementStart"](13,"div",6),s["\u0275\u0275elementStart"](14,"label",13),s["\u0275\u0275text"](15,"Media de la publicaci\xf3n:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"button",14),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().openFileSelector()})),s["\u0275\u0275text"](17,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"input",15),s["\u0275\u0275listener"]("change",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().onChangeMedia({event:t})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](19,Nn,2,1,"span",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"div",12),s["\u0275\u0275elementStart"](21,"div",6),s["\u0275\u0275elementStart"](22,"label",16),s["\u0275\u0275text"](23,"Descripci\xf3n:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](24,"textarea",17),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"div",18),s["\u0275\u0275elementStart"](26,"div",19),s["\u0275\u0275elementStart"](27,"button",20),s["\u0275\u0275text"](28,"Guardar cambios"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("formGroup",e.editPostForm),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("selected",e.post.seccion._id),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",e.highlightedSections),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("ngIf",e.selectedFile),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("disabled",e.editPostForm.invalid)}}let zn=(()=>{class e{constructor(e,t,n,i,r,o){this.fb=e,this.cd=t,this.s3=n,this.generalService=i,this.mainService=r,this.activatedRoute=o,this.API_DESTACADO="api/destacado",this.API_SECCIONES="api/seccion",this.loading=!0,this.mediaChanged=!1,this.editPostForm=this.fb.group({titulo:["",a.x.required],seccion:["",a.x.required],texto:["",a.x.required],video:[null],foto:[null]})}ngOnInit(){const e=this.activatedRoute.snapshot.paramMap.get("id");this.postId=e,this.getHighlightedSections()}onSubmit(){this.loading=!0;let e=this.editPostForm.value;const t=this.editPostForm.value.seccion;e.seccion=this.highlightedSections.find(e=>e._id===t);const n=(t,n)=>{t?(alert("No fue posible subir el archivo, por favor intenta  m\xe1s tarde"),this.loading=!1):(this.post.video?delete e.video:delete e.foto,"image"===this.selectedFile.type?e.foto=n.Location:e.video=n.Location,this.updateHighlightedPost(e))};if(this.mediaChanged){const e=`destacado/${this.s3.generateKey()}.${this.selectedFile.file.name.split(".")[1]}`;this.s3.uploadFile({file:this.selectedFile.file,key:e,callback:n})}else delete e.video,delete e.foto,this.updateHighlightedPost(e)}getHighlightedSections(){this.mainService.get({api:this.API_SECCIONES}).then(e=>{this.getHighlightedPost(this.postId),this.highlightedSections=e})}getHighlightedPost(e){this.mainService.get({api:`${this.API_DESTACADO}/${e}`}).then(e=>{this.post=e,this.editPostForm.patchValue({titulo:e.titulo,seccion:e.seccion._id,texto:e.texto})}),this.loading=!1}updateHighlightedPost(e){this.mainService.put({api:`${this.API_DESTACADO}/${this.postId}`,data:e,hide404:!0}).then(()=>{this.generalService.handleSuccess({text:"Publicaci\xf3n destacada editada exitosamente."}),this.goBack()})}openFileSelector(){document.getElementById("media").click()}onChangeMedia({event:e}){e.target.files.length>0&&(this.selectedFile={file:e.target.files[0],type:e.target.files[0].type.split("/")[0]},this.mediaChanged=!0)}goBack(){this.generalService.goBack()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](a.c),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef),s["\u0275\u0275directiveInject"](Mt.a),s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](Te.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-destacado-editar"]],decls:7,vars:2,consts:[[3,"nbSpinner"],[1,"d-flex","flex-row","justify-content-start","align-items-center","align-content","center"],[1,"fa","fa-arrow-left","pointer",3,"click"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col"],["for","title"],["nbInput","","fullWidth","","id","title","value","","formControlName","titulo","required",""],["for","section"],["fullWidth","","placeholder","Select Showcase","id","section","formControlName","seccion",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"row","my-3"],["for","media",1,"media-label"],["nbButton","","type","button",1,"px-4",3,"click"],["hidden","","type","file","id","media",3,"change"],["for","texto"],["nbInput","","fullWidth","","formControlName","texto","id","texto","rows","8"],[1,"row"],[1,"col","d-flex","justify-content-center","my-3"],["nbButton","","status","primary","type","submit",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"h5"),s["\u0275\u0275text"](5,"Editar publicaci\xf3n destacada"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](6,Vn,29,5,"nb-card-body",3),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",t.post))},directives:[ue.o,ue.cb,ue.q,i.o,ue.n,a.z,a.o,a.g,ue.D,a.b,a.n,a.f,a.v,ue.X,i.n,ue.j,ue.S],styles:["i[_ngcontent-%COMP%]{font-size:1.1rem;margin-right:10px}.media-label[_ngcontent-%COMP%]{width:100%}"]}),e})();function $n(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",5),s["\u0275\u0275elementStart"](1,"div",6),s["\u0275\u0275element"](2,"ngx-kpi-card",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"div",6),s["\u0275\u0275element"](4,"ngx-kpi-card",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",e.destacado.likes.length),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",e.destacado.comentarios)}}function Gn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",23),s["\u0275\u0275element"](1,"img",24),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("src",e.destacado.foto,s["\u0275\u0275sanitizeUrl"])("alt",e.destacado.titulo)}}function Un(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",25),s["\u0275\u0275elementStart"](1,"vg-player"),s["\u0275\u0275element"](2,"vg-overlay-play"),s["\u0275\u0275element"](3,"vg-buffering"),s["\u0275\u0275elementStart"](4,"vg-scrub-bar"),s["\u0275\u0275element"](5,"vg-scrub-bar-current-time"),s["\u0275\u0275element"](6,"vg-scrub-bar-buffering-time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"vg-controls"),s["\u0275\u0275element"](8,"vg-play-pause"),s["\u0275\u0275element"](9,"vg-playback-button"),s["\u0275\u0275element"](10,"vg-time-display",26),s["\u0275\u0275element"](11,"vg-scrub-bar",27),s["\u0275\u0275element"](12,"vg-time-display",28),s["\u0275\u0275element"](13,"vg-time-display",29),s["\u0275\u0275element"](14,"vg-track-selector"),s["\u0275\u0275element"](15,"vg-mute"),s["\u0275\u0275element"](16,"vg-volume"),s["\u0275\u0275element"](17,"vg-fullscreen"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"video",30,31),s["\u0275\u0275element"](20,"source",32),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275reference"](19),t=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](18),s["\u0275\u0275property"]("vgMedia",e),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("src",t.destacado.video,s["\u0275\u0275sanitizeUrl"])}}function Hn(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",9),s["\u0275\u0275elementStart"](1,"nb-card-body",10),s["\u0275\u0275elementStart"](2,"div",11),s["\u0275\u0275elementStart"](3,"div",12),s["\u0275\u0275element"](4,"img",13),s["\u0275\u0275elementStart"](5,"h5"),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"button",14),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().editPost()})),s["\u0275\u0275element"](8,"nb-icon",15),s["\u0275\u0275text"](9," Editar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"div",16),s["\u0275\u0275elementStart"](11,"div",17),s["\u0275\u0275elementStart"](12,"p",18),s["\u0275\u0275elementStart"](13,"strong"),s["\u0275\u0275text"](14,"T\xedtulo:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"p"),s["\u0275\u0275text"](16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"p",18),s["\u0275\u0275elementStart"](18,"strong"),s["\u0275\u0275text"](19,"Descripci\xf3n:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"p"),s["\u0275\u0275text"](21),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"p",18),s["\u0275\u0275elementStart"](23,"strong"),s["\u0275\u0275text"](24,"Fecha de publicaci\xf3n:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"p"),s["\u0275\u0275text"](26),s["\u0275\u0275pipe"](27,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"p",18),s["\u0275\u0275elementStart"](29,"strong"),s["\u0275\u0275text"](30,"Secci\xf3n:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](31,"p"),s["\u0275\u0275text"](32),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](33,"div",17),s["\u0275\u0275elementStart"](34,"p",18),s["\u0275\u0275elementStart"](35,"strong"),s["\u0275\u0275text"](36,"Media de la publicaci\xf3n:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](37,Gn,2,2,"div",19),s["\u0275\u0275template"](38,Un,21,2,"div",20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](39,"div",21),s["\u0275\u0275elementStart"](40,"button",22),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const t=s["\u0275\u0275nextContext"](),n=s["\u0275\u0275reference"](8);return t.onDeleteDialog(n)})),s["\u0275\u0275text"](41,"Eliminar publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("nbSpinner",e.loading),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("src",e.destacado.seccion.icono,s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](e.destacado.seccion.nombre),s["\u0275\u0275advance"](10),s["\u0275\u0275textInterpolate"](e.destacado.titulo),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](e.destacado.texto),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](27,9,e.destacado.createdAt)),s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate"](e.destacado.seccion.nombre),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngIf",e.destacado.foto),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.destacado.video)}}function Xn(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",33),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"button",34),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275element"](3,"nb-icon",35),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"p"),s["\u0275\u0275text"](5,"\xbfEst\xe1s seguro de eliminar esta publicaci\xf3n?"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"nb-card-footer",36),s["\u0275\u0275elementStart"](7,"button",37),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const n=t.dialogRef;return s["\u0275\u0275nextContext"]().deletePost(n)})),s["\u0275\u0275text"](8,"Eliminar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}let Yn=(()=>{class e{constructor(e,t,n,i){this.mainService=e,this.activatedRoute=t,this.dialogService=n,this.generalService=i,this.API_DESTACADOS="api/destacado",this.loading=!0}ngOnInit(){this.postId=this.activatedRoute.snapshot.paramMap.get("id"),this.getPost({postId:this.postId})}getPost({postId:e}){this.mainService.get({api:`${this.API_DESTACADOS}/${e}`}).then(e=>{this.destacado=e,this.loading=!1}).catch(e=>console.log(e))}goBack(){this.generalService.goBack()}onDeleteDialog(e){this.dialogService.open(e)}editPost(){this.generalService.routerNavigateTo({path:`index/mvp/destacados/editar/${this.postId}`})}deletePost(e){this.loading=!1,this.mainService.delete({api:`${this.API_DESTACADOS}/${this.postId}`}).then(t=>{e.close(),this.goBack()})}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](Te.a),s["\u0275\u0275directiveInject"](ue.x),s["\u0275\u0275directiveInject"](je.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-destacado-ver"]],decls:9,vars:2,consts:[[1,"d-flex","justify-content-start","align-content-center","align-items-center","mb-4"],[1,"fa","fa-arrow-left","pointer",3,"click"],["class","row mb-3",4,"ngIf"],[3,"nbSpinner",4,"ngIf"],["dialogDeletePost",""],[1,"row","mb-3"],[1,"col-3"],["description","Likes",3,"value"],["description","Comentarios",3,"value"],[3,"nbSpinner"],[1,"p-4"],[1,"row","d-flex","justify-content-between","align-content-center","align-items-center","px-4","mb-3"],[1,"d-flex","flex-row","justify-content-start","align-content-center","align-items-center"],["alt","destacado.seccion.nombre",1,"logo",3,"src"],["nbButton","","status","primary","size","medium",3,"click"],["icon","edit-outline"],[1,"row","p-2"],[1,"col"],[1,"subtitle"],["class","img-wrapper my-2",4,"ngIf"],["class","my-2",4,"ngIf"],[1,"row","px-4"],["nbButton","","ghost","","status","danger",3,"click"],[1,"img-wrapper","my-2"],[3,"src","alt"],[1,"my-2"],["vgProperty","current","vgFormat","mm:ss"],[2,"pointer-events","none"],["vgProperty","left","vgFormat","mm:ss"],["vgProperty","total","vgFormat","mm:ss"],["id","singleVideo","preload","auto","crossorigin","",3,"vgMedia"],["media",""],["type","video/mp4",3,"src"],[1,"dialog"],["nbButton","","ghost","","status","primary",1,"close",3,"click"],["icon","close-outline"],[1,"footer","d-flex","justify-content-center"],["nbButton","","status","danger",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"section"),s["\u0275\u0275elementStart"](1,"div",0),s["\u0275\u0275elementStart"](2,"i",1),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"h3"),s["\u0275\u0275text"](4,"Publicaci\xf3n destacada"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](5,$n,5,2,"div",2),s["\u0275\u0275template"](6,Hn,42,11,"nb-card",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](7,Xn,9,0,"ng-template",null,4,s["\u0275\u0275templateRefExtractor"])),2&e&&(s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngIf",t.destacado),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.destacado))},directives:[i.o,tt,ue.o,ue.cb,ue.n,ue.j,ue.A,R,ae,le,Q,re,ie,Y,ee,Z,J,q,te,W,ne,F,ue.p],pipes:[i.f],styles:["i[_ngcontent-%COMP%]{font-size:25px;margin-right:10px}h3[_ngcontent-%COMP%]{margin:0;padding:0}.img-wrapper[_ngcontent-%COMP%]{width:100%}.img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:620px}.logo[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:8px;-o-object-fit:cover;object-fit:cover;margin-right:8px}button[_ngcontent-%COMP%]{height:40px}a[_ngcontent-%COMP%], p[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-size:1rem}.subtitle[_ngcontent-%COMP%]{margin:0;padding:0}.dialog[_ngcontent-%COMP%]{max-width:420px}.dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5rem 1rem 2rem}"]}),e})();function Wn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",18),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275property"]("value",e._id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",e.nombre," ")}}function qn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",3),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",e.selectedFile.name,"")}}let Kn=(()=>{class e{constructor(e,t,n,i,r){this.authService=e,this.mainService=t,this.generalService=n,this.s3=i,this.activatedRoute=r,this.API_SECTOR="api/sector",this.API_EMPRESA="api/empresa",this.empresa={},this.sectores=[],this.loading=!1}ngOnInit(){const e=this.activatedRoute.snapshot.paramMap.get("id");this.fetchEmpresa({id:e}),this.getSectores()}getSectores(){this.mainService.get({api:this.API_SECTOR}).then(e=>{this.sectores=e})}fetchEmpresa({id:e}){this.loading=!0,this.mainService.get({api:`${this.API_EMPRESA}/${e}`}).then(e=>{this.empresa=e,this.empresa.sectores=this.empresa.sectores.map(e=>e._id)}).finally(()=>{this.loading=!1})}onSubmit(){this.selectedFile?this.uploadFile({file:this.selectedFile,callback:(e,t)=>{e?alert("No fue posible subir el archivo, por favor intente m\xe1s tarde"):this.register({logo:t.Location})}}):this.register({logo:this.empresa.logo})}register({logo:e}){this.loading=!1,this.empresa.nombre&&this.empresa.sectores&&this.empresa.descripcion?(this.empresa.logo=e||"",this.mainService.put({api:`${this.API_EMPRESA}/${this.empresa._id}`,data:this.empresa}).then(e=>{this.goBack(),this.generalService.handleSuccess({text:"Empresa editada"})})):this.generalService.handleError({error:"Por favor llena todos los campos",titulo:"Error"})}openFileSelector(){document.getElementById("logo-selector").click()}onChangeMedia({event:e}){e.target.files.length>0&&(this.selectedFile=e.target.files[0])}uploadFile({file:e,callback:t}){return Object(kt.a)(this,void 0,void 0,(function*(){const n=`empresa/${this.empresa.nombre.replace(" ","-")||"no-name"}/logo-${this.s3.generateKey()}`;yield this.s3.uploadFile({file:e,key:n,callback:t})}))}goBack(){this.generalService.goBack()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](lt.a),s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](Mt.a),s["\u0275\u0275directiveInject"](Te.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-empresa-edit"]],decls:38,vars:5,consts:[[1,"fa","fa-arrow-left","pointer",3,"click"],[1,"row","py-1"],[1,"col"],[1,"label"],["nbinput","","fullwidth","","name","nombreEmpresa","type","text","placeholder","Nombre de la empresa","fieldsize","large","required","",1,"nombreAltura","select","input-full-width","size-large","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["nombreEmpresa","ngModel"],["multiple","","fullwidth","","name","sector","placeholder","Selecciona...","fieldsize","large","required","",1,"input-full-width","size-large","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["sector","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"row"],[1,"col","py-1"],["nbButton","",3,"click"],["hidden","","id","logo-selector","name","logo","accept","image/x-png,image/jpeg","type","file",3,"change"],["class","label",4,"ngIf"],["nbInput","","fullWidth","","name","descripcion","type","text","placeholder","Escribe...","fieldsize","large","required","",1,"textarea","input-full-width","size-xlarge","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["descripcion","ngModel"],[1,"col","d-flex","justify-content-center","my-2"],["status","primary","nbButton","",1,"m-3",3,"click"],[3,"value"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"h4"),s["\u0275\u0275elementStart"](3,"i",0),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](4," Editar empresa "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"nb-card-body"),s["\u0275\u0275elementStart"](6,"div",1),s["\u0275\u0275elementStart"](7,"div",2),s["\u0275\u0275elementStart"](8,"label",3),s["\u0275\u0275text"](9,"Nombre de la empresa:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"input",4,5),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.empresa.nombre=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",2),s["\u0275\u0275elementStart"](13,"label",3),s["\u0275\u0275text"](14,"Sectores de la empresa:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](15,"br"),s["\u0275\u0275elementStart"](16,"nb-select",6,7),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.empresa.sectores=e})),s["\u0275\u0275template"](18,Wn,2,2,"nb-option",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",9),s["\u0275\u0275elementStart"](20,"div",10),s["\u0275\u0275elementStart"](21,"label",3),s["\u0275\u0275text"](22,"Subir logo:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](23,"br"),s["\u0275\u0275elementStart"](24,"button",11),s["\u0275\u0275listener"]("click",(function(){return t.openFileSelector()})),s["\u0275\u0275text"](25,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"input",12),s["\u0275\u0275listener"]("change",(function(e){return t.onChangeMedia({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](27,qn,2,1,"p",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"div",9),s["\u0275\u0275elementStart"](29,"div",10),s["\u0275\u0275elementStart"](30,"label",3),s["\u0275\u0275text"](31,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](32,"textarea",14,15),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.empresa.descripcion=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](34,"div",9),s["\u0275\u0275elementStart"](35,"div",16),s["\u0275\u0275elementStart"](36,"button",17),s["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),s["\u0275\u0275text"](37,"Guardar cambios"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("ngModel",t.empresa.nombre),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.empresa.sectores),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",t.sectores),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("ngIf",t.selectedFile),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.empresa.descripcion))},directives:[ue.o,ue.q,ue.n,a.b,a.v,a.n,a.q,ue.X,i.n,ue.j,i.o,ue.D,ue.S],styles:["nb-select[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important}.nombreAltura[_ngcontent-%COMP%]{height:40px}"]}),e})();function Jn(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"button",4),s["\u0275\u0275element"](1,"nb-icon",5),s["\u0275\u0275text"](2," Realizar pago "),s["\u0275\u0275elementEnd"]())}function Qn(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",6),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"div",7),s["\u0275\u0275element"](3,"nb-icon",8),s["\u0275\u0275elementStart"](4,"h6"),s["\u0275\u0275text"](5,"No hay pagos de campa\xf1as registrados"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"p"),s["\u0275\u0275text"](7,"Aqu\xed pronto podr\xe1s ver las campa\xf1as activas"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function Zn(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",6),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"ng2-smart-table",9),s["\u0275\u0275listener"]("custom",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().onCustomAction(t)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("settings",e.settings)("source",e.source)}}let ei=(()=>{class e{constructor(e,t){this.mainService=e,this.router=t,this.isSuperAdmin=!1,this.datos=[],this.generalData=[],this.settings={noDataMessage:"Ning\xfan registro encontrado",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"ver",title:'<i class="fa fa-search" title="Ver publicaci\xf3n"></i>'}]},columns:{publicacionTitulo:{title:"Publicaci\xf3n"},inversion:{title:"Inversi\xf3n"}}}}ngOnInit(){if(this.isSuperAdmin="superadministrador"===JSON.parse(localStorage.getItem("_user")).tipo,1==this.isSuperAdmin)this.fetchAllPagos();else{let e=JSON.parse(localStorage.getItem("_user")).empresa._id;this.fetchPagos(e)}}fetchPagos(e){this.mainService.get({api:`api/pagos/empresa/${e}`}).then(e=>{e.forEach((e,t)=>{null!=e&&(e.publicacionTitulo=e.publicacion.titulo,e.inversion=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(e.inversion),this.datos.push(e))}),this.source=new he.a(this.datos)})}fetchAllPagos(){this.mainService.get({api:"api/pagos"}).then(e=>{e.forEach((e,t)=>{null!=e&&(e.publicacionTitulo=e.publicacion.titulo,e.inversion=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(e.inversion),this.datos.push(e))}),this.source=new he.a(this.datos)})}onCustomAction(e){switch(e.action){case"ver":localStorage.setItem("pubID",e.data.publicacion._id),this.router.navigate([`/index/pagos/detalle/${e.data._id}`])}}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](Te.c))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-pagos"]],decls:7,vars:3,consts:[[1,"contenedor"],[1,"Boton-pagos"],["nbButton","","status","primary","size","medium","class","float-right pull-right","routerLink","nueva",4,"ngIf"],["class","tabset",4,"ngIf"],["nbButton","","status","primary","size","medium","routerLink","nueva",1,"float-right","pull-right"],["icon","credit-card-outline"],[1,"tabset"],[1,"noData"],["icon","star-outline"],[3,"settings","source","custom"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"h3"),s["\u0275\u0275text"](3,"Historial de pagos"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](4,Jn,3,0,"button",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](5,Qn,8,0,"nb-card",3),s["\u0275\u0275template"](6,Zn,3,2,"nb-card",3),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",!t.isSuperAdmin),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",0==t.datos.length),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.datos.length>0))},directives:[i.o,ue.j,Te.d,ue.A,ue.o,ue.n,he.b],styles:[".noData[_ngcontent-%COMP%]{align-items:center;justify-content:center;padding:50px 0}.contenedor[_ngcontent-%COMP%], .noData[_ngcontent-%COMP%]{display:flex;flex-direction:column}.Boton-pagos[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:18px;height:18px;margin:8px 8px 10px 12px;float:left;font-size:1rem}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i{padding-top:10px;font-size:18px;color:#08003d}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i:hover{color:#200081}"]}),e})();function ti(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",18),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;s["\u0275\u0275propertyInterpolate"]("value",null==e?null:e._id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",null==e?null:e.titulo," ")}}function ni(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",19),s["\u0275\u0275text"](1,"* Este campo es obligatorio"),s["\u0275\u0275elementEnd"]())}function ii(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",19),s["\u0275\u0275text"](1,"* Este campo es obligatorio"),s["\u0275\u0275elementEnd"]())}function ri(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",19),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("* La inversion maxima es ",e.inversion,"")}}const oi=function(e,t){return{errorSpan:e,correcto:t}},ai=[{path:"",component:Kt,children:[{path:"",loadChildren:()=>n.e(2).then(n.bind(null,"dgmN")).then(e=>e.PagesModule)},{path:"home",loadChildren:()=>n.e(2).then(n.bind(null,"dgmN")).then(e=>e.PagesModule)},{path:"usuarios",component:Ht},{path:"empresas",component:at},{path:"empresas/create",component:Mn},{path:"empresas/editar/:id",component:Kn},{path:"empresa/:id",component:et},{path:"pagos",component:ei},{path:"pagos/nueva",component:(()=>{class e{constructor(e,t,n){this.mainService=e,this.generalService=t,this.router=n,this.API_EMPRESAS="api/empresa",this.API_PUBLICACION="api/publicacion",this.API_POSTS_BY_EMPRESA="api/publicacion/empresa",this.empresa={},this.publicaciones=[],this.inversion=0,this.superAlto=0,this.superAltoInversion=0,this.alto=0,this.altoInversion=0,this.medio=0,this.medioInversion=0,this.bajo=0,this.bajoInversion=0,this.principiante=0,this.principianteInversion=0,this.inversionPorcentaje=0,this.inversionMax=!1}ngOnInit(){this.id=JSON.parse(localStorage.getItem("_user")).empresa._id,this.fetchEmpresaAndPosts(this.id)}fetchEmpresaAndPosts(e){this.mainService.get({api:`${this.API_EMPRESAS}/${e}`}).then(t=>{this.empresa=t,this.mainService.get({api:`${this.API_POSTS_BY_EMPRESA}/${e}`}).then(e=>{this.publicaciones=e,console.log(this.publicaciones)})}).finally(()=>{})}calculos(){null==this.inversion&&(this.inversion=1e4),this.inversionMax=!1,this.inversion>=1e16&&(this.inversion=1e16,this.inversionMax=!0),null==this.superAlto&&(this.superAlto=0),null==this.alto&&(this.alto=0),null==this.medio&&(this.medio=0),null==this.bajo&&(this.bajo=0),null==this.principiante&&(this.principiante=0),this.superAltoInversion=this.inversion*(this.superAlto/100),this.altoInversion=this.inversion*(this.alto/100),this.medioInversion=this.inversion*(this.medio/100),this.bajoInversion=this.inversion*(this.bajo/100),this.principianteInversion=this.inversion*(this.principiante/100),this.inversionPorcentaje=this.superAlto+this.alto+this.medio+this.bajo+this.principiante}realizarPago(){let e={publicacion:this.publicacion,empresa:this.id,inversion:this.inversion,porcentajes:[{rango:"Super Alto",porcentaje:this.superAlto,valor:this.superAltoInversion},{rango:"Alto",porcentaje:this.alto,valor:this.altoInversion},{rango:"Medio",porcentaje:this.medio,valor:this.medioInversion},{rango:"Bajo",porcentaje:this.bajo,valor:this.bajoInversion},{rango:"Principiante",porcentaje:this.principiante,valor:this.principianteInversion}]},t=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);new WidgetCheckout({currency:"COP",amountInCents:100*this.inversion,reference:t,publicKey:"pub_test_eiLqWS9TMoXuiWjUibjD1KB09DUEi2pd"}).open(t=>{this.finalOrder(t.transaction,e)})}finalOrder(e,t){"APPROVED"==e.status?this.mainService.post({api:"api/pagos",data:t}).then(e=>Object(kt.a)(this,void 0,void 0,(function*(){let t=yield e.inversion;this.mainService.put({api:`api/publicacion/inversion/${this.publicacion}`,data:{inversion:t}}).then(e=>{console.log(e),this.router.navigate(["/index/pagos"])})}))):"DECLINED"==e.status&&this.orderDeclined()}orderDeclined(){}orderApproved(){}goBack(){this.generalService.goBack()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](je.a),s["\u0275\u0275directiveInject"](Te.c))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-realizar-pago"]],decls:81,vars:35,consts:[[1,"tabset"],[1,"contenedor"],[1,"titulo"],[1,"fa","fa-arrow-left","pointer",3,"click"],[1,"select-publicacion"],["for",""],["placeholder","Selecciona una publicaci\xf3n",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","errorSpan",4,"ngIf"],["nbPrefix","","icon","trending-up-outline","pack","eva"],["type","number","nbInput","","placeholder","Ingresa el valor a invertir","min","10000","step","10000","max","10000000000000000",3,"ngModel","ngModelChange","change"],[1,"distribucion"],["type","number","nbInput","","name","","id","","min","0",3,"ngModel","ngModelChange","change"],["nbPrefix","","icon","percent-outline","pack","eva"],[1,"botonPagos"],[3,"ngClass"],["nbButton","","status","primary","size","medium",1,"float-right","pull-right",3,"disabled","click"],["icon","arrow-forward-outline"],[3,"value"],[1,"errorSpan"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"div",2),s["\u0275\u0275elementStart"](4,"i",3),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"span"),s["\u0275\u0275text"](6,"Nueva campa\xf1a"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"div",4),s["\u0275\u0275elementStart"](8,"div"),s["\u0275\u0275elementStart"](9,"label",5),s["\u0275\u0275text"](10,"Publicaci\xf3n:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"nb-select",6),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.publicacion=e})),s["\u0275\u0275template"](12,ti,2,2,"nb-option",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](13,ni,2,0,"p",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"div"),s["\u0275\u0275elementStart"](15,"label",5),s["\u0275\u0275text"](16,"Valor a invertir en la campa\xf1a:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"nb-form-field"),s["\u0275\u0275element"](18,"nb-icon",9),s["\u0275\u0275elementStart"](19,"input",10),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.inversion=e}))("change",(function(){return t.calculos()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"span"),s["\u0275\u0275text"](21),s["\u0275\u0275pipe"](22,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](23,ii,2,0,"p",8),s["\u0275\u0275template"](24,ri,2,1,"p",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"h5"),s["\u0275\u0275text"](26,"Distribuci\xf3n por rango de usuarios"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](27,"div",11),s["\u0275\u0275elementStart"](28,"div"),s["\u0275\u0275elementStart"](29,"label",5),s["\u0275\u0275text"](30,"S\xfaper alto"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](31,"nb-form-field"),s["\u0275\u0275elementStart"](32,"input",12),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.superAlto=e}))("change",(function(){return t.calculos()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](33,"nb-icon",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](34,"span"),s["\u0275\u0275text"](35),s["\u0275\u0275pipe"](36,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](37,"div"),s["\u0275\u0275elementStart"](38,"label",5),s["\u0275\u0275text"](39,"Alto"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](40,"nb-form-field"),s["\u0275\u0275elementStart"](41,"input",12),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.alto=e}))("change",(function(){return t.calculos()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](42,"nb-icon",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](43,"span"),s["\u0275\u0275text"](44),s["\u0275\u0275pipe"](45,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](46,"div"),s["\u0275\u0275elementStart"](47,"label",5),s["\u0275\u0275text"](48,"Medio"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](49,"nb-form-field"),s["\u0275\u0275elementStart"](50,"input",12),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.medio=e}))("change",(function(){return t.calculos()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](51,"nb-icon",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](52,"span"),s["\u0275\u0275text"](53),s["\u0275\u0275pipe"](54,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](55,"div"),s["\u0275\u0275elementStart"](56,"label",5),s["\u0275\u0275text"](57,"Bajo"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](58,"nb-form-field"),s["\u0275\u0275elementStart"](59,"input",12),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.bajo=e}))("change",(function(){return t.calculos()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](60,"nb-icon",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](61,"span"),s["\u0275\u0275text"](62),s["\u0275\u0275pipe"](63,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](64,"div"),s["\u0275\u0275elementStart"](65,"label",5),s["\u0275\u0275text"](66,"Principiante"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](67,"nb-form-field"),s["\u0275\u0275elementStart"](68,"input",12),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.principiante=e}))("change",(function(){return t.calculos()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](69,"nb-icon",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](70,"span"),s["\u0275\u0275text"](71),s["\u0275\u0275pipe"](72,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](73,"div",14),s["\u0275\u0275elementStart"](74,"span"),s["\u0275\u0275text"](75,"Para continuar, la distribuci\xf3n de porcentajes debe sumar 100%"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](76,"span",15),s["\u0275\u0275text"](77),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](78,"button",16),s["\u0275\u0275listener"]("click",(function(){return t.realizarPago()})),s["\u0275\u0275text"](79," Ir a pagar "),s["\u0275\u0275element"](80,"nb-icon",17),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("ngModel",t.publicacion),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",t.publicaciones),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==t.publicacion),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.inversion),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](22,20,t.inversion),""),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",0==t.inversion),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.inversionMax),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("ngModel",t.superAlto),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](36,22,t.superAltoInversion),""),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.alto),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](45,24,t.altoInversion),""),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.medio),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](54,26,t.medioInversion),""),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.bajo),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](63,28,t.bajoInversion),""),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.principiante),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](72,30,t.principianteInversion),""),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction2"](32,oi,100!=t.inversionPorcentaje,100==t.inversionPorcentaje)),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" Porcentaje actual: ",t.inversionPorcentaje," % "),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("disabled",100!=t.inversionPorcentaje||null==t.publicacion||0==t.inversion))},directives:[ue.o,ue.n,ue.X,a.n,a.q,i.n,i.o,ue.y,ue.A,ue.T,a.s,ue.D,a.b,i.m,ue.j,ue.S],pipes:[i.g],styles:[".select-publicacion[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;-moz-column-gap:50px;column-gap:50px}.select-publicacion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:100%}.select-publicacion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{flex-grow:1}.select-publicacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.distribucion[_ngcontent-%COMP%]{display:flex;-moz-column-gap:10px;column-gap:10px;row-gap:20px;flex-wrap:wrap}.distribucion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.distribucion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:85%}.distribucion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#200081;font-weight:600}.botonPagos[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;row-gap:10px;margin-top:30px}.errorSpan[_ngcontent-%COMP%]{color:red}.correcto[_ngcontent-%COMP%], .errorSpan[_ngcontent-%COMP%]{font-weight:600}.titulo[_ngcontent-%COMP%]{display:flex;align-items:center;-moz-column-gap:12px;column-gap:12px;margin-bottom:20px}.titulo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .titulo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:600}"]}),e})()},{path:"pagos/detalle/:id",component:(()=>{class e{constructor(e,t,n){this.mainService=e,this.route=t,this.router=n,this.API_EMPRESAS="api/empresa",this.API_PUBLICACION="api/publicacion",this.API_POSTS_BY_EMPRESA="api/publicacion/empresa",this.empresa={},this.publicaciones=[],this.inversion=0,this.superAlto=0,this.superAltoInversion=0,this.alto=0,this.altoInversion=0,this.medio=0,this.medioInversion=0,this.bajo=0,this.bajoInversion=0,this.principiante=0,this.principianteInversion=0,this.inversionPorcentaje=0,this.pubId=localStorage.getItem("pubID")}ngOnInit(){return Object(kt.a)(this,void 0,void 0,(function*(){this.route.params.subscribe(e=>Object(kt.a)(this,void 0,void 0,(function*(){this.id=e.id}))),yield this.fetchPagos(this.id),console.log(this.pubId)}))}fetchPagos(e){return Object(kt.a)(this,void 0,void 0,(function*(){yield this.mainService.get({api:`api/pagos/${e}`}).then(e=>Object(kt.a)(this,void 0,void 0,(function*(){this.data=yield e,this.data.porcentajes.forEach(e=>{"Super Alto"==e.rango?(this.superAlto=e.porcentaje,this.superAltoInversion=e.valor):"Alto"==e.rango?(this.alto=e.porcentaje,this.altoInversion=e.valor):"Medio"==e.rango?(this.medio=e.porcentaje,this.medioInversion=e.valor):"Bajo"==e.rango?(this.bajo=e.porcentaje,this.bajoInversion=e.valor):"Principiante"==e.rango&&(this.principiante=e.porcentaje,this.principianteInversion=e.valor)})})))}))}realizarPago(){}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](Le.a),s["\u0275\u0275directiveInject"](Te.a),s["\u0275\u0275directiveInject"](Te.c))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-detalle-pago"]],decls:59,vars:24,consts:[[1,"tabset"],[1,"contenedor"],[3,"pubId"],[1,"select-publicacion"],["for",""],[1,"distribucion"],["type","number","nbInput","","name","","id","","disabled","",3,"ngModel","ngModelChange"],["nbPrefix","","icon","percent-outline","pack","eva"],["type","number","nbInput","","disabled","","name","","id","",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275element"](3,"ngx-publicacion-detail",2),s["\u0275\u0275elementStart"](4,"div",3),s["\u0275\u0275elementStart"](5,"div"),s["\u0275\u0275elementStart"](6,"h4",4),s["\u0275\u0275text"](7,"Valor a invertido en la campa\xf1a:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"span"),s["\u0275\u0275text"](9),s["\u0275\u0275pipe"](10,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"h5"),s["\u0275\u0275text"](12,"Distribuci\xf3n por rango de usuarios"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",5),s["\u0275\u0275elementStart"](14,"div"),s["\u0275\u0275elementStart"](15,"label",4),s["\u0275\u0275text"](16,"S\xfaper alto"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"nb-form-field"),s["\u0275\u0275elementStart"](18,"input",6),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.superAlto=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](19,"nb-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"span"),s["\u0275\u0275text"](21),s["\u0275\u0275pipe"](22,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"div"),s["\u0275\u0275elementStart"](24,"label",4),s["\u0275\u0275text"](25,"Alto"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"nb-form-field"),s["\u0275\u0275elementStart"](27,"input",8),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.alto=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](28,"nb-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](29,"span"),s["\u0275\u0275text"](30),s["\u0275\u0275pipe"](31,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](32,"div"),s["\u0275\u0275elementStart"](33,"label",4),s["\u0275\u0275text"](34,"Medio"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"nb-form-field"),s["\u0275\u0275elementStart"](36,"input",8),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.medio=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](37,"nb-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](38,"span"),s["\u0275\u0275text"](39),s["\u0275\u0275pipe"](40,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](41,"div"),s["\u0275\u0275elementStart"](42,"label",4),s["\u0275\u0275text"](43,"Bajo"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](44,"nb-form-field"),s["\u0275\u0275elementStart"](45,"input",8),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.bajo=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](46,"nb-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](47,"span"),s["\u0275\u0275text"](48),s["\u0275\u0275pipe"](49,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](50,"div"),s["\u0275\u0275elementStart"](51,"label",4),s["\u0275\u0275text"](52,"Principiante"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](53,"nb-form-field"),s["\u0275\u0275elementStart"](54,"input",8),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.principiante=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](55,"nb-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](56,"span"),s["\u0275\u0275text"](57),s["\u0275\u0275pipe"](58,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("pubId",t.pubId),s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](10,12,null==t.data?null:t.data.inversion),""),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("ngModel",t.superAlto),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](22,14,t.superAltoInversion),""),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.alto),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](31,16,t.altoInversion),""),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.medio),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](40,18,t.medioInversion),""),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.bajo),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](49,20,t.bajoInversion),""),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.principiante),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](58,22,t.principianteInversion),""))},directives:[ue.o,ue.n,Ot,ue.y,a.s,ue.D,a.b,a.n,a.q,ue.A,ue.T],pipes:[i.g],styles:[".contenedor[_ngcontent-%COMP%]{row-gap:40px;display:flex;flex-direction:column}.select-publicacion[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}.select-publicacion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.select-publicacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.select-publicacion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px;font-weight:600;color:#202499}.distribucion[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;-moz-column-gap:10px;column-gap:10px}.distribucion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.distribucion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:85%}.distribucion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#200081;font-weight:600}.botonPagos[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;row-gap:10px;margin-top:30px}.errorSpan[_ngcontent-%COMP%]{color:red}.correcto[_ngcontent-%COMP%], .errorSpan[_ngcontent-%COMP%]{font-weight:600}"]}),e})()},{path:"consumer/:user",component:Ye},{path:"notificaciones",component:st},{path:"pagos",component:ei},{path:"mvp",children:[{path:"publicaciones",component:Vt},{path:"productos",children:[{path:"",component:Jt},{path:"crear",component:rn},{path:"editar/:id",component:rn},{path:":id",component:cn}]},{path:"destacados",children:[{path:"",component:dn},{path:"crear",component:mn},{path:"editar/:id",component:zn},{path:"ver/:id",component:Yn},{path:"seccion",component:fn},{path:"seccion/crear",component:vn},{path:"seccion/editar/:id",component:Rn}]},{path:"sector",children:[{path:"",component:yn},{path:"crear",component:En},{path:"editar/:id",component:jn}]}]},{path:"publicaciones",children:[{path:"crear",component:Lt},{path:"editar/:id",component:Lt},{path:"empresa/:empresa",component:Rt},{path:":id",component:Ot},{path:"",component:Nt}]},{path:"dashboard",children:[{path:"profile",children:[{path:"detail",component:yt}]}]}]}];let si=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[Te.g.forChild(ai)],Te.g]}),e})();n.d(t,"PublicModule",(function(){return li}));let li=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[],imports:[[r.c,o.b,i.c,si,ue.L,ue.Q,ue.sb,ue.f,ue.pb,ue.W,ue.ab,ue.u,ue.h,ue.k,ue.Y,ue.C,de.a,ke,a.u,a.h,Ie,ue.z,C,_,P,Ae.a,ue.mb.forRoot(),ue.w.forChild(),ue.v.forRoot(),ue.L,ue.ab,ue.f,ue.V,ue.r,ue.E,ue.pb,ue.ob,ue.k,ue.Y,ue.U,ue.kb,ue.s,ue.l,he.c,ue.fb,ue.db,ue.m,ue.O,ue.c,ue.i,ue.g,ue.qb,ue.z,ue.sb,pe.ChartModule,r.c,o.b,N,oe,se,ce,Me.c]]}),e})()},UmEg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in t)t.hasOwnProperty(n)&&"string"==typeof e[n=t[n]]&&(e[n]=parseInt(e[n],10));return"string"==typeof e.displayValue&&(e.displayValue="false"!=e.displayValue),e}},VyaE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("wkMt");t.default=function(e,t,n){var r=e.split("").map((function(e,n){return i.BINARIES[t[n]]})).map((function(t,n){return t?t[e[n]]:""}));if(n){var o=e.length-1;r=r.map((function(e,t){return t<o?e+n:e}))}return r.join("")}},WD9T:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("wkMt"),o=a(n("VyaE"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var e,t=r.EAN5_STRUCTURE[(e=this.data,e.split("").map((function(e){return+e})).reduce((function(e,t,n){return n%2?e+9*t:e+3*t}),0)%10)];return{data:"1011"+(0,o.default)(this.data,t,"01"),text:this.text}}}]),t}(a(n("52Lf")).default);t.default=s},YsXA:function(e,t,n){"use strict";var i=h(n("/4Rl")),r=h(n("/XyT")),o=h(n("orCN")),a=h(n("efHi")),s=h(n("sdgK")),l=h(n("UmEg")),c=h(n("vYpS")),u=n("3KJX"),d=h(n("yjKC"));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(){},m=function(e,t,n){var i=new p;if(void 0===e)throw Error("No element to render on was provided.");return i._renderProperties=(0,s.default)(e),i._encodings=[],i._options=d.default,i._errorHandler=new c.default(i),void 0!==t&&((n=n||{}).format||(n.format=v()),i.options(n)[n.format](t,n).render()),i};for(var g in m.getModule=function(e){return i.default[e]},i.default)i.default.hasOwnProperty(g)&&f(i.default,g);function f(e,t){p.prototype[t]=p.prototype[t.toUpperCase()]=p.prototype[t.toLowerCase()]=function(n,i){var o=this;return o._errorHandler.wrapBarcodeCall((function(){i.text=void 0===i.text?void 0:""+i.text;var a=(0,r.default)(o._options,i);a=(0,l.default)(a);var s=b(n,e[t],a);return o._encodings.push(s),o}))}}function b(e,t,n){var i=new t(e=""+e,n);if(!i.valid())throw new u.InvalidInputException(i.constructor.name,e);var a=i.encode();a=(0,o.default)(a);for(var s=0;s<a.length;s++)a[s].options=(0,r.default)(n,a[s].options);return a}function v(){return i.default.CODE128?"CODE128":Object.keys(i.default)[0]}function x(e,t,n){t=(0,o.default)(t);for(var i=0;i<t.length;i++)t[i].options=(0,r.default)(n,t[i].options),(0,a.default)(t[i].options);(0,a.default)(n),new(0,e.renderer)(e.element,t,n).render(),e.afterRender&&e.afterRender()}p.prototype.options=function(e){return this._options=(0,r.default)(this._options,e),this},p.prototype.blank=function(e){var t=new Array(e+1).join("0");return this._encodings.push({data:t}),this},p.prototype.init=function(){var e;if(this._renderProperties)for(var t in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var n=(0,r.default)(this._options,(e=this._renderProperties[t]).options);"auto"==n.format&&(n.format=v()),this._errorHandler.wrapBarcodeCall((function(){var t=b(n.value,i.default[n.format.toUpperCase()],n);x(e,t,n)}))}},p.prototype.render=function(){if(!this._renderProperties)throw new u.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)x(this._renderProperties[e],this._encodings,this._options);else x(this._renderProperties,this._encodings,this._options);return this},p.prototype._defaults=d.default,"undefined"!=typeof window&&(window.JsBarcode=m),"undefined"!=typeof jQuery&&(jQuery.fn.JsBarcode=function(e,t){var n=[];return jQuery(this).each((function(){n.push(this)})),m(n,e,t)}),e.exports=m},blPF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mod10=function(e){for(var t=0,n=0;n<e.length;n++){var i=parseInt(e[n]);t+=(n+e.length)%2==0?i:2*i%10+Math.floor(2*i/10)}return(10-t%10)%10},t.mod11=function(e){for(var t=0,n=[2,3,4,5,6,7],i=0;i<e.length;i++){var r=parseInt(e[e.length-1-i]);t+=n[i%n.length]*r}return(11-t%11)%11}},byS7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("SyMb")),r=o(n("u12M"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(e,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),/^[\x00-\x7F\xC8-\xD3]+$/.test(e))var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,r.default)(e),n));else i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a(i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=s},cLAh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=(i=n("SyMb"))&&i.__esModule?i:{default:i},a=n("8I5R"),s=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a.B_START_CHAR+e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"valid",value:function(){return new RegExp("^"+a.B_CHARS+"+$").test(this.data)}}]),t}(o.default);t.default=s},cho7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=(i=n("/XyT"))&&i.__esModule?i:{default:i},a=n("q1t9"),s=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t,this.encodings=n,this.options=i}return r(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var e=0;e<this.encodings.length;e++){var t=(0,o.default)(this.options,this.encodings[e].options);this.drawCanvasBarcode(t,this.encodings[e]),this.drawCanvasText(t,this.encodings[e]),this.moveCanvasDrawing(this.encodings[e])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var e=this.canvas.getContext("2d");e.save(),(0,a.calculateEncodingAttributes)(this.encodings,this.options,e);var t=(0,a.getTotalWidthOfEncodings)(this.encodings),n=(0,a.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=t+this.options.marginLeft+this.options.marginRight,this.canvas.height=n,e.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(e.fillStyle=this.options.background,e.fillRect(0,0,this.canvas.width,this.canvas.height)),e.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(e,t){var n,i=this.canvas.getContext("2d"),r=t.data;n="top"==e.textPosition?e.marginTop+e.fontSize+e.textMargin:e.marginTop,i.fillStyle=e.lineColor;for(var o=0;o<r.length;o++){var a=o*e.width+t.barcodePadding;"1"===r[o]?i.fillRect(a,n,e.width,e.height):r[o]&&i.fillRect(a,n,e.width,e.height*r[o])}}},{key:"drawCanvasText",value:function(e,t){var n,i,r=this.canvas.getContext("2d");e.displayValue&&(i="top"==e.textPosition?e.marginTop+e.fontSize-e.textMargin:e.height+e.textMargin+e.marginTop+e.fontSize,r.font=e.fontOptions+" "+e.fontSize+"px "+e.font,"left"==e.textAlign||t.barcodePadding>0?(n=0,r.textAlign="left"):"right"==e.textAlign?(n=t.width-1,r.textAlign="right"):(n=t.width/2,r.textAlign="center"),r.fillText(t.text,n,i))}},{key:"moveCanvasDrawing",value:function(e){this.canvas.getContext("2d").translate(e.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),e}();t.default=s},dSvQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n("cho7")),r=a(n("vl4V")),o=a(n("TO02"));function a(e){return e&&e.__esModule?e:{default:e}}t.default={CanvasRenderer:i.default,SVGRenderer:r.default,ObjectRenderer:o.default}},efHi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}},fLmL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pharmacode=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.number=parseInt(e,10),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"encode",value:function(){for(var e=this.number,t="";!isNaN(e)&&0!=e;)e%2==0?(t="11100"+t,e=(e-2)/2):(t="100"+t,e=(e-1)/2);return{data:t=t.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(((i=n("52Lf"))&&i.__esModule?i:{default:i}).default);t.pharmacode=o},"gF+w":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=(i=n("Ek++"))&&i.__esModule?i:{default:i},o=n("blPF"),a=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e+=(0,o.mod11)(e),e+=(0,o.mod10)(e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default);t.default=a},iGFM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=(i=n("Ek++"))&&i.__esModule?i:{default:i},o=n("blPF"),a=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e+=(0,o.mod10)(e),e+=(0,o.mod10)(e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default);t.default=a},iaK4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n("wkMt"),s=(i=n("vf6K"))&&i.__esModule?i:{default:i},l=function(e){return(10-e.substr(0,12).split("").map((function(e){return+e})).reduce((function(e,t,n){return n%2?e+3*t:e+t}),0)%10)%10},c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{12}$/)&&(e+=l(e));var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.lastChar=n.lastChar,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===l(this.data)}},{key:"leftText",value:function(){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var e=this.data.substr(1,6),n=a.EAN13_STRUCTURE[this.data[0]];return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,e,n)}},{key:"rightText",value:function(){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var e=this.data.substr(7,6);return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,e,"RRRRRR")}},{key:"encodeGuarded",value:function(){var e=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(e.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(e.push({data:"00"}),e.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),e}}]),t}(s.default);t.default=c},jlE0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MSI1110=t.MSI1010=t.MSI11=t.MSI10=t.MSI=void 0;var i=l(n("Ek++")),r=l(n("RyeT")),o=l(n("RGHy")),a=l(n("iGFM")),s=l(n("gF+w"));function l(e){return e&&e.__esModule?e:{default:e}}t.MSI=i.default,t.MSI10=r.default,t.MSI11=o.default,t.MSI1010=a.default,t.MSI1110=s.default},"n/pZ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITF14=t.ITF=void 0;var i=o(n("PHz1")),r=o(n("B9+t"));function o(e){return e&&e.__esModule?e:{default:e}}t.ITF=i.default,t.ITF14=r.default},orCN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];return function e(n){if(Array.isArray(n))for(var i=0;i<n.length;i++)e(n[i]);else n.text=n.text||"",n.data=n.data||"",t.push(n)}(e),t}},pdJe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("wkMt"),o=a(n("VyaE"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var e=r.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,o.default)(this.data,e,"01"),text:this.text}}}]),t}(a(n("52Lf")).default);t.default=s},q1t9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalWidthOfEncodings=t.calculateEncodingAttributes=t.getBarcodePadding=t.getEncodingHeight=t.getMaximumHeightOfEncodings=void 0;var i,r=(i=n("/XyT"))&&i.__esModule?i:{default:i};function o(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function a(e,t,n){if(n.displayValue&&t<e){if("center"==n.textAlign)return Math.floor((e-t)/2);if("left"==n.textAlign)return 0;if("right"==n.textAlign)return Math.floor(e-t)}return 0}function s(e,t,n){var i;if(n)i=n;else{if("undefined"==typeof document)return 0;i=document.createElement("canvas").getContext("2d")}return i.font=t.fontOptions+" "+t.fontSize+"px "+t.font,i.measureText(e).width}t.getMaximumHeightOfEncodings=function(e){for(var t=0,n=0;n<e.length;n++)e[n].height>t&&(t=e[n].height);return t},t.getEncodingHeight=o,t.getBarcodePadding=a,t.calculateEncodingAttributes=function(e,t,n){for(var i=0;i<e.length;i++){var l,c=e[i],u=(0,r.default)(t,c.options);l=u.displayValue?s(c.text,u,n):0;var d=c.data.length*u.width;c.width=Math.ceil(Math.max(l,d)),c.height=o(c,u),c.barcodePadding=a(l,d,u)}},t.getTotalWidthOfEncodings=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].width;return t}},qrNs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("UmEg")),r=o(n("yjKC"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t={};for(var n in r.default)r.default.hasOwnProperty(n)&&(e.hasAttribute("jsbarcode-"+n.toLowerCase())&&(t[n]=e.getAttribute("jsbarcode-"+n.toLowerCase())),e.hasAttribute("data-"+n.toLowerCase())&&(t[n]=e.getAttribute("data-"+n.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),(0,i.default)(t)}},sdgK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=s(n("qrNs")),o=s(n("dSvQ")),a=n("3KJX");function s(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t){if("string"==typeof t)return function(t){var n=document.querySelectorAll(t);if(0!==n.length){for(var i=[],r=0;r<n.length;r++)i.push(e(n[r]));return i}}(t);if(Array.isArray(t)){for(var n=[],s=0;s<t.length;s++)n.push(e(t[s]));return n}if("undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLImageElement)return l=t,{element:c=document.createElement("canvas"),options:(0,r.default)(l),renderer:o.default.CanvasRenderer,afterRender:function(){l.setAttribute("src",c.toDataURL())}};if(t&&t.nodeName&&"svg"===t.nodeName.toLowerCase()||"undefined"!=typeof SVGElement&&t instanceof SVGElement)return{element:t,options:(0,r.default)(t),renderer:o.default.SVGRenderer};if("undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement)return{element:t,options:(0,r.default)(t),renderer:o.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:o.default.CanvasRenderer};if(t&&"object"===(void 0===t?"undefined":i(t))&&!t.nodeName)return{element:t,renderer:o.default.ObjectRenderer};throw new a.InvalidElementException;var l,c}},u12M:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("8I5R"),r=function(e){return e.match(new RegExp("^"+i.A_CHARS+"*"))[0].length},o=function(e){return e.match(new RegExp("^"+i.B_CHARS+"*"))[0].length},a=function(e){return e.match(new RegExp("^"+i.C_CHARS+"*"))[0]};function s(e,t){var n=t?i.A_CHARS:i.B_CHARS,r=e.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+String.fromCharCode(204)+l(e.substring(r[1].length));var o=e.match(new RegExp("^"+n+"+"))[0];return o.length===e.length?e:o+String.fromCharCode(t?205:206)+s(e.substring(o.length),!t)}function l(e){var t=a(e),n=t.length;if(n===e.length)return e;e=e.substring(n);var i=r(e)>=o(e);return t+String.fromCharCode(i?206:205)+s(e,i)}t.default=function(e){var t=void 0;if(a(e).length>=2)t=i.C_START_CHAR+l(e);else{var n=r(e)>o(e);t=(n?i.A_START_CHAR:i.B_START_CHAR)+s(e,n)}return t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,(function(e,t){return String.fromCharCode(203)+t}))}},vYpS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t}return i(e,[{key:"handleCatch",value:function(e){if("InvalidInputException"!==e.name)throw e;if(this.api._options.valid===this.api._defaults.valid)throw e.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(e){try{var t=e.apply(void 0,arguments);return this.api._options.valid(!0),t}catch(n){return this.handleCatch(n),this.api}}}]),e}();t.default=r},vf6K:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("wkMt"),o=a(n("VyaE"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.fontSize=!n.flat&&n.fontSize>10*n.width?10*n.width:n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(e,t){return this.text.substr(e,t)}},{key:"leftEncode",value:function(e,t){return(0,o.default)(e,t)}},{key:"rightText",value:function(e,t){return this.text.substr(e,t)}},{key:"rightEncode",value:function(e,t){return(0,o.default)(e,t)}},{key:"encodeGuarded",value:function(){var e={fontSize:this.fontSize},t={height:this.guardHeight};return[{data:r.SIDE_BIN,options:t},{data:this.leftEncode(),text:this.leftText(),options:e},{data:r.MIDDLE_BIN,options:t},{data:this.rightEncode(),text:this.rightText(),options:e},{data:r.SIDE_BIN,options:t}]}},{key:"encodeFlat",value:function(){return{data:[r.SIDE_BIN,this.leftEncode(),r.MIDDLE_BIN,this.rightEncode(),r.SIDE_BIN].join(""),text:this.text}}}]),t}(a(n("52Lf")).default);t.default=s},vl4V:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=(i=n("/XyT"))&&i.__esModule?i:{default:i},a=n("q1t9"),s="http://www.w3.org/2000/svg",l=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.svg=t,this.encodings=n,this.options=i,this.document=i.xmlDocument||document}return r(e,[{key:"render",value:function(){var e=this.options.marginLeft;this.prepareSVG();for(var t=0;t<this.encodings.length;t++){var n=this.encodings[t],i=(0,o.default)(this.options,n.options),r=this.createGroup(e,i.marginTop,this.svg);this.setGroupOptions(r,i),this.drawSvgBarcode(r,i,n),this.drawSVGText(r,i,n),e+=n.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,a.calculateEncodingAttributes)(this.encodings,this.options);var e=(0,a.getTotalWidthOfEncodings)(this.encodings),t=(0,a.getMaximumHeightOfEncodings)(this.encodings),n=e+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(n,t),this.options.background&&this.drawRect(0,0,n,t,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(e,t,n){var i,r=n.data;i="top"==t.textPosition?t.fontSize+t.textMargin:0;for(var o=0,a=0,s=0;s<r.length;s++)a=s*t.width+n.barcodePadding,"1"===r[s]?o++:o>0&&(this.drawRect(a-t.width*o,i,t.width*o,t.height,e),o=0);o>0&&this.drawRect(a-t.width*(o-1),i,t.width*o,t.height,e)}},{key:"drawSVGText",value:function(e,t,n){var i,r,o=this.document.createElementNS(s,"text");t.displayValue&&(o.setAttribute("style","font:"+t.fontOptions+" "+t.fontSize+"px "+t.font),r="top"==t.textPosition?t.fontSize-t.textMargin:t.height+t.textMargin+t.fontSize,"left"==t.textAlign||n.barcodePadding>0?(i=0,o.setAttribute("text-anchor","start")):"right"==t.textAlign?(i=n.width-1,o.setAttribute("text-anchor","end")):(i=n.width/2,o.setAttribute("text-anchor","middle")),o.setAttribute("x",i),o.setAttribute("y",r),o.appendChild(this.document.createTextNode(n.text)),e.appendChild(o))}},{key:"setSvgAttributes",value:function(e,t){var n=this.svg;n.setAttribute("width",e+"px"),n.setAttribute("height",t+"px"),n.setAttribute("x","0px"),n.setAttribute("y","0px"),n.setAttribute("viewBox","0 0 "+e+" "+t),n.setAttribute("xmlns",s),n.setAttribute("version","1.1"),n.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(e,t,n){var i=this.document.createElementNS(s,"g");return i.setAttribute("transform","translate("+e+", "+t+")"),n.appendChild(i),i}},{key:"setGroupOptions",value:function(e,t){e.setAttribute("style","fill:"+t.lineColor+";")}},{key:"drawRect",value:function(e,t,n,i,r){var o=this.document.createElementNS(s,"rect");return o.setAttribute("x",e),o.setAttribute("y",t),o.setAttribute("width",n),o.setAttribute("height",i),r.appendChild(o),o}}]),e}();t.default=l},"vph/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("VyaE")),o=s(n("52Lf")),a=n("6LKm");function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],u=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(i.isValid=!1,-1!==e.search(/^[0-9]{6}$/))i.middleDigits=e,i.upcA=h(e,"0"),i.text=n.text||""+i.upcA[0]+e+i.upcA[i.upcA.length-1],i.isValid=!0;else{if(-1===e.search(/^[01][0-9]{7}$/))return l(i);if(i.middleDigits=e.substring(1,e.length-1),i.upcA=h(i.middleDigits,e[0]),i.upcA[i.upcA.length-1]!==e[e.length-1])return l(i);i.isValid=!0}return i.displayValue=n.displayValue,i.fontSize=n.fontSize>10*n.width?10*n.width:n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=this.encodeMiddleDigits(),{data:e+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101",options:{height:this.guardHeight}}),e.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),e.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),e}},{key:"encodeMiddleDigits",value:function(){var e=this.upcA[0],t=u[parseInt(this.upcA[this.upcA.length-1])][parseInt(e)];return(0,r.default)(this.middleDigits,t)}}]),t}(o.default);function h(e,t){for(var n=parseInt(e[e.length-1]),i=c[n],r="",o=0,s=0;s<i.length;s++){var l=i[s];r+="X"===l?e[o++]:l}return(r=""+t+r)+(0,a.checksum)(r)}t.default=d},wXsw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codabar=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),0===e.search(/^[0-9\-\$\:\.\+\/]+$/)&&(e="A"+e+"A");var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.toUpperCase(),n));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var e=[],t=this.getEncodings(),n=0;n<this.data.length;n++)e.push(t[this.data.charAt(n)]),n!==this.data.length-1&&e.push("0");return{text:this.text,data:e.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"101100110011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(((i=n("52Lf"))&&i.__esModule?i:{default:i}).default);t.codabar=o},wkMt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIDE_BIN="101",t.MIDDLE_BIN="01010",t.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},t.EAN2_STRUCTURE=["LL","LG","GL","GG"],t.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],t.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},yjKC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},zQsl:function(e,t,n){"use strict";var i=n("mrSG"),r=n("fXoL"),o=n("ofXK"),a=n("R0Ic"),s=n("+rOU"),l=n("xgIS"),c=n("Kj3r");function u(){}var d=function(e){return null==e?u:function(){return this.querySelector(e)}};function h(){return[]}var p=function(e){return null==e?h:function(){return this.querySelectorAll(e)}},m=function(e){return function(){return this.matches(e)}},g=function(e){return new Array(e.length)};function f(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function b(e,t,n,i,r,o){for(var a,s=0,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],i[s]=a):n[s]=new f(e,o[s]);for(;s<l;++s)(a=t[s])&&(r[s]=a)}function v(e,t,n,i,r,o,a){var s,l,c,u={},d=t.length,h=o.length,p=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(p[s]=c="$"+a.call(l,l.__data__,s,t),c in u?r[s]=l:u[c]=l);for(s=0;s<h;++s)(l=u[c="$"+a.call(e,o[s],s,o)])?(i[s]=l,l.__data__=o[s],u[c]=null):n[s]=new f(e,o[s]);for(s=0;s<d;++s)(l=t[s])&&u[p[s]]===l&&(r[s]=l)}function x(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}f.prototype={constructor:f,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var y="http://www.w3.org/1999/xhtml",S={svg:"http://www.w3.org/2000/svg",xhtml:y,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},E=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),S.hasOwnProperty(t)?{space:S[t],local:e}:e};function w(e){return function(){this.removeAttribute(e)}}function C(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _(e,t){return function(){this.setAttribute(e,t)}}function P(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function O(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function k(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var M=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function A(e){return function(){this.style.removeProperty(e)}}function I(e,t,n){return function(){this.style.setProperty(e,t,n)}}function T(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function j(e,t){return e.style.getPropertyValue(t)||M(e).getComputedStyle(e,null).getPropertyValue(t)}function L(e){return function(){delete this[e]}}function D(e,t){return function(){this[e]=t}}function F(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function R(e){return e.trim().split(/^|\s+/)}function B(e){return e.classList||new N(e)}function N(e){this._node=e,this._names=R(e.getAttribute("class")||"")}function V(e,t){for(var n=B(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function z(e,t){for(var n=B(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function $(e){return function(){V(this,e)}}function G(e){return function(){z(this,e)}}function U(e,t){return function(){(t.apply(this,arguments)?V:z)(this,e)}}function H(){this.textContent=""}function X(e){return function(){this.textContent=e}}function Y(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function W(){this.innerHTML=""}function q(e){return function(){this.innerHTML=e}}function K(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function J(){this.nextSibling&&this.parentNode.appendChild(this)}function Q(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Z(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===y&&t.documentElement.namespaceURI===y?t.createElement(e):t.createElementNS(n,e)}}function ee(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}N.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var te=function(e){var t=E(e);return(t.local?ee:Z)(t)};function ne(){return null}function ie(){var e=this.parentNode;e&&e.removeChild(this)}function re(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function oe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}var ae={},se=null;function le(e,t,n){return e=ce(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function ce(e,t,n){return function(i){var r=se;se=i;try{e.call(this,this.__data__,t,n)}finally{se=r}}}function ue(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function de(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,o=t.length;i<o;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?t.length=r:delete this.__on}}}function he(e,t,n){var i=ae.hasOwnProperty(e.type)?le:ce;return function(r,o,a){var s,l=this.__on,c=i(t,o,a);if(l)for(var u=0,d=l.length;u<d;++u)if((s=l[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=t);this.addEventListener(e.type,c,n),s={type:e.type,name:e.name,value:t,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function pe(e,t,n){var i=M(e),r=i.CustomEvent;"function"==typeof r?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function me(e,t){return function(){return pe(this,e,t)}}function ge(e,t){return function(){return pe(this,e,t.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ae={mouseenter:"mouseover",mouseleave:"mouseout"}));var fe=[null];function be(e,t){this._groups=e,this._parents=t}function ve(){return new be([[document.documentElement]],fe)}be.prototype=ve.prototype={constructor:be,select:function(e){"function"!=typeof e&&(e=d(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=t[r],l=s.length,c=i[r]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=e.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new be(i,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=p(e));for(var t=this._groups,n=t.length,i=[],r=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(i.push(e.call(a,a.__data__,c,s)),r.push(a));return new be(i,r)},filter:function(e){"function"!=typeof e&&(e=m(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a=t[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new be(i,this._parents)},data:function(e,t){if(!e)return m=new Array(this.size()),u=-1,this.each((function(e){m[++u]=e})),m;var n,i=t?v:b,r=this._parents,o=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var d=r[u],h=o[u],p=h.length,m=e.call(d,d&&d.__data__,u,r),g=m.length,f=l[u]=new Array(g),x=s[u]=new Array(g);i(d,h,f,x,c[u]=new Array(p),m,t);for(var y,S,E=0,w=0;E<g;++E)if(y=f[E]){for(E>=w&&(w=E+1);!(S=x[w])&&++w<g;);y._next=S||null}}return(s=new be(s,r))._enter=l,s._exit=c,s},enter:function(){return new be(this._enter||this._groups.map(g),this._parents)},exit:function(){return new be(this._exit||this._groups.map(g),this._parents)},join:function(e,t,n){var i=this.enter(),r=this,o=this.exit();return i="function"==typeof e?e(i):i.append(e+""),null!=t&&(r=t(r)),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(e){for(var t=this._groups,n=e._groups,i=t.length,r=Math.min(i,n.length),o=new Array(i),a=0;a<r;++a)for(var s,l=t[a],c=n[a],u=l.length,d=o[a]=new Array(u),h=0;h<u;++h)(s=l[h]||c[h])&&(d[h]=s);for(;a<i;++a)o[a]=t[a];return new be(o,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=x);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a,s=n[o],l=s.length,c=r[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new be(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r,o=t[n],a=0,s=o.length;a<s;++a)(r=o[a])&&e.call(r,r.__data__,a,o);return this},attr:function(e,t){var n=E(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?C:w:"function"==typeof t?n.local?k:O:n.local?P:_)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?A:"function"==typeof t?T:I)(e,t,null==n?"":n)):j(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?L:"function"==typeof t?F:D)(e,t)):this.node()[e]},classed:function(e,t){var n=R(e+"");if(arguments.length<2){for(var i=B(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?U:t?$:G)(n,t))},text:function(e){return arguments.length?this.each(null==e?H:("function"==typeof e?Y:X)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?W:("function"==typeof e?K:q)(e)):this.node().innerHTML},raise:function(){return this.each(J)},lower:function(){return this.each(Q)},append:function(e){var t="function"==typeof e?e:te(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:te(e),i=null==t?ne:"function"==typeof t?t:d(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(ie)},clone:function(e){return this.select(e?oe:re)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,r,o=ue(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?he:de,null==n&&(n=!1),i=0;i<a;++i)this.each(s(o[i],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(i=0,l=s[c];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?ge:me)(e,t))}};var xe=ve,ye=function(e){return"string"==typeof e?new be([[document.querySelector(e)]],[document.documentElement]):new be([[e]],fe)},Se={value:function(){}};function Ee(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw new Error("illegal type: "+e);i[e]=[]}return new we(i)}function we(e){this._=e}function Ce(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function _e(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function Pe(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=Se,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}we.prototype=Ee.prototype={constructor:we,on:function(e,t){var n,i=this._,r=Ce(e+"",i),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=r[o]).type)i[n]=Pe(i[n],e.name,t);else if(null==t)for(n in i)i[n]=Pe(i[n],e.name,null);return this}for(;++o<a;)if((n=(e=r[o]).type)&&(n=_e(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new we(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(i=this._[e]).length;o<n;++o)i[o].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};var Oe=Ee,ke=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Me(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Ae(){}var Ie="\\s*([+-]?\\d+)\\s*",Te="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",je="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Le=/^#([0-9a-f]{3,8})$/,De=new RegExp("^rgb\\("+[Ie,Ie,Ie]+"\\)$"),Fe=new RegExp("^rgb\\("+[je,je,je]+"\\)$"),Re=new RegExp("^rgba\\("+[Ie,Ie,Ie,Te]+"\\)$"),Be=new RegExp("^rgba\\("+[je,je,je,Te]+"\\)$"),Ne=new RegExp("^hsl\\("+[Te,je,je]+"\\)$"),Ve=new RegExp("^hsla\\("+[Te,je,je,Te]+"\\)$"),ze={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $e(){return this.rgb().formatHex()}function Ge(){return this.rgb().formatRgb()}function Ue(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Le.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?He(t):3===n?new qe(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Xe(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Xe(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=De.exec(e))?new qe(t[1],t[2],t[3],1):(t=Fe.exec(e))?new qe(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Re.exec(e))?Xe(t[1],t[2],t[3],t[4]):(t=Be.exec(e))?Xe(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ne.exec(e))?Ze(t[1],t[2]/100,t[3]/100,1):(t=Ve.exec(e))?Ze(t[1],t[2]/100,t[3]/100,t[4]):ze.hasOwnProperty(e)?He(ze[e]):"transparent"===e?new qe(NaN,NaN,NaN,0):null}function He(e){return new qe(e>>16&255,e>>8&255,255&e,1)}function Xe(e,t,n,i){return i<=0&&(e=t=n=NaN),new qe(e,t,n,i)}function Ye(e){return e instanceof Ae||(e=Ue(e)),e?new qe((e=e.rgb()).r,e.g,e.b,e.opacity):new qe}function We(e,t,n,i){return 1===arguments.length?Ye(e):new qe(e,t,n,null==i?1:i)}function qe(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function Ke(){return"#"+Qe(this.r)+Qe(this.g)+Qe(this.b)}function Je(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Qe(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Ze(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tt(e,t,n,i)}function et(e){if(e instanceof tt)return new tt(e.h,e.s,e.l,e.opacity);if(e instanceof Ae||(e=Ue(e)),!e)return new tt;if(e instanceof tt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=t===o?(n-i)/s+6*(n<i):n===o?(i-t)/s+2:(t-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new tt(a,s,l,e.opacity)}function tt(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function nt(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function it(e,t,n,i,r){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*i+a*r)/6}ke(Ae,Ue,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:$e,formatHex:$e,formatHsl:function(){return et(this).formatHsl()},formatRgb:Ge,toString:Ge}),ke(qe,We,Me(Ae,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ke,formatHex:Ke,formatRgb:Je,toString:Je})),ke(tt,(function(e,t,n,i){return 1===arguments.length?et(e):new tt(e,t,n,null==i?1:i)}),Me(Ae,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new tt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new tt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new qe(nt(e>=240?e-240:e+120,r,i),nt(e,r,i),nt(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var rt=function(e){return function(){return e}};function ot(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):rt(isNaN(e)?t:e)}var at=function e(t){var n=function(e){return 1==(e=+e)?ot:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):rt(isNaN(t)?n:t)}}(t);function i(e,t){var i=n((e=We(e)).r,(t=We(t)).r),r=n(e.g,t.g),o=n(e.b,t.b),a=ot(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=r(t),e.b=o(t),e.opacity=a(t),e+""}}return i.gamma=e,i}(1);function st(e){return function(t){var n,i,r=t.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=We(t[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=e(o),a=e(a),s=e(s),i.opacity=1,function(e){return i.r=o(e),i.g=a(e),i.b=s(e),i+""}}}st((function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],o=e[i+1];return it((n-i/t)*t,i>0?e[i-1]:2*r-o,r,o,i<t-1?e[i+2]:2*o-r)}})),st((function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t);return it((n-i/t)*t,e[(i+t-1)%t],e[i%t],e[(i+1)%t],e[(i+2)%t])}}));var lt=function(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(o){for(n=0;n<i;++n)r[n]=e[n]*(1-o)+t[n]*o;return r}};function ct(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=vt(e[n],t[n]);for(;n<i;++n)a[n]=t[n];return function(e){for(n=0;n<r;++n)a[n]=o[n](e);return a}}var ut,dt,ht=function(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}},pt=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},mt=function(e,t){var n,i={},r={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?i[n]=vt(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}},gt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ft=new RegExp(gt.source,"g"),bt=function(e,t){var n,i,r,o=gt.lastIndex=ft.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=gt.exec(e))&&(i=ft.exec(t));)(r=i.index)>o&&(r=t.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:pt(n,i)})),o=ft.lastIndex;return o<t.length&&(r=t.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,i=0;i<t;++i)s[(n=l[i]).i]=n.x(e);return s.join("")})},vt=function(e,t){var n,i,r=typeof t;return null==t||"boolean"===r?rt(t):("number"===r?pt:"string"===r?(n=Ue(t))?(t=n,at):bt:t instanceof Ue?at:t instanceof Date?ht:(i=t,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(t)?ct:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?mt:pt:lt))(e,t)},xt=0,yt=0,St=0,Et=0,wt=0,Ct=0,_t="object"==typeof performance&&performance.now?performance:Date,Pt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ot(){return wt||(Pt(kt),wt=_t.now()+Ct)}function kt(){wt=0}function Mt(){this._call=this._time=this._next=null}function At(e,t,n){var i=new Mt;return i.restart(e,t,n),i}function It(){wt=(Et=_t.now())+Ct,xt=yt=0;try{!function(){Ot(),++xt;for(var e,t=ut;t;)(e=wt-t._time)>=0&&t._call.call(null,e),t=t._next;--xt}()}finally{xt=0,function(){for(var e,t,n=ut,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ut=t);dt=e,jt(i)}(),wt=0}}function Tt(){var e=_t.now(),t=e-Et;t>1e3&&(Ct-=t,Et=e)}function jt(e){xt||(yt&&(yt=clearTimeout(yt)),e-wt>24?(e<1/0&&(yt=setTimeout(It,e-_t.now()-Ct)),St&&(St=clearInterval(St))):(St||(Et=_t.now(),St=setInterval(Tt,1e3)),xt=1,Pt(It)))}Mt.prototype=At.prototype={constructor:Mt,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Ot():+n)+(null==t?0:+t),this._next||dt===this||(dt?dt._next=this:ut=this,dt=this),this._call=e,this._time=n,jt()},stop:function(){this._call&&(this._call=null,this._time=1/0,jt())}};var Lt=function(e,t,n){var i=new Mt;return i.restart((function(n){i.stop(),e(n+t)}),t=null==t?0:+t,n),i},Dt=Oe("start","end","cancel","interrupt"),Ft=[],Rt=function(e,t,n,i,r,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var i,r=e.__transition;function o(l){var c,u,d,h;if(1!==n.state)return s();for(c in r)if((h=r[c]).name===n.name){if(3===h.state)return Lt(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(Lt((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=h);i.length=u+1}}function a(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=i.length;++o<a;)i[o].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var i in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=At((function(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}),0,n.time)}(e,n,{name:t,index:i,group:r,on:Dt,tween:Ft,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Bt(e,t){var n=Vt(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Nt(e,t){var n=Vt(e,t);if(n.state>3)throw new Error("too late; already running");return n}function Vt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var zt,$t,Gt,Ut,Ht=180/Math.PI,Xt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Yt=function(e,t,n,i,r,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),e*i<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*Ht,skewX:Math.atan(l)*Ht,scaleX:a,scaleY:s}};function Wt(e,t,n,i){function r(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],l=[];return o=e(o),a=e(a),function(e,i,r,o,a,s){if(e!==r||i!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:pt(e,r)},{i:l-2,x:pt(i,o)})}else(r||o)&&a.push("translate("+r+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:pt(e,t)})):t&&n.push(r(n)+"rotate("+t+i)}(o.rotate,a.rotate,s,l),function(e,t,n,o){e!==t?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:pt(e,t)}):t&&n.push(r(n)+"skewX("+t+i)}(o.skewX,a.skewX,s,l),function(e,t,n,i,o,a){if(e!==n||t!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:pt(e,n)},{i:s-2,x:pt(t,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(e){for(var t,n=-1,i=l.length;++n<i;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var qt=Wt((function(e){return"none"===e?Xt:(zt||(zt=document.createElement("DIV"),$t=document.documentElement,Gt=document.defaultView),zt.style.transform=e,e=Gt.getComputedStyle($t.appendChild(zt),null).getPropertyValue("transform"),$t.removeChild(zt),e=e.slice(7,-1).split(","),Yt(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),Kt=Wt((function(e){return null==e?Xt:(Ut||(Ut=document.createElementNS("http://www.w3.org/2000/svg","g")),Ut.setAttribute("transform",e),(e=Ut.transform.baseVal.consolidate())?Yt((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Xt)}),", ",")",")");function Jt(e,t){var n,i;return function(){var r=Nt(this,e),o=r.tween;if(o!==n)for(var a=0,s=(i=n=o).length;a<s;++a)if(i[a].name===t){(i=i.slice()).splice(a,1);break}r.tween=i}}function Qt(e,t,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Nt(this,e),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=s;break}l===c&&r.push(s)}o.tween=r}}function Zt(e,t,n){var i=e._id;return e.each((function(){var e=Nt(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Vt(e,i).value[t]}}var en=function(e,t){var n;return("number"==typeof t?pt:t instanceof Ue?at:(n=Ue(t))?(t=n,at):bt)(e,t)};function tn(e){return function(){this.removeAttribute(e)}}function nn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rn(e,t,n){var i,r,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===i?r:r=t(i=a,n)}}function on(e,t,n){var i,r,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===i?r:r=t(i=a,n)}}function an(e,t,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=t(i=a,l));this.removeAttribute(e)}}function sn(e,t,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=t(i=a,l));this.removeAttributeNS(e.space,e.local)}}function ln(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function cn(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function un(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&cn(e,r)),n}return r._value=t,r}function dn(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&ln(e,r)),n}return r._value=t,r}function hn(e,t){return function(){Bt(this,e).delay=+t.apply(this,arguments)}}function pn(e,t){return t=+t,function(){Bt(this,e).delay=t}}function mn(e,t){return function(){Nt(this,e).duration=+t.apply(this,arguments)}}function gn(e,t){return t=+t,function(){Nt(this,e).duration=t}}function fn(e,t){if("function"!=typeof t)throw new Error;return function(){Nt(this,e).ease=t}}function bn(e,t,n){var i,r,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?Bt:Nt;return function(){var a=o(this,e),s=a.on;s!==i&&(r=(i=s).copy()).on(t,n),a.on=r}}var vn=xe.prototype.constructor;function xn(e){return function(){this.style.removeProperty(e)}}function yn(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function Sn(e,t,n){var i,r;function o(){var o=t.apply(this,arguments);return o!==r&&(i=(r=o)&&yn(e,o,n)),i}return o._value=t,o}function En(e){return function(t){this.textContent=e.call(this,t)}}function wn(e){var t,n;function i(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&En(i)),t}return i._value=e,i}var Cn=0;function _n(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Pn(){return++Cn}var On=xe.prototype;_n.prototype=(function(e){return xe().transition(e)}).prototype={constructor:_n,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=d(e));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,l,c=i[a],u=c.length,h=o[a]=new Array(u),p=0;p<u;++p)(s=c[p])&&(l=e.call(s,s.__data__,p,c))&&("__data__"in s&&(l.__data__=s.__data__),h[p]=l,Rt(h[p],t,n,p,h,Vt(s,n)));return new _n(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=p(e));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var l,c=i[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,m=e.call(l,l.__data__,d,c),g=Vt(l,n),f=0,b=m.length;f<b;++f)(h=m[f])&&Rt(h,t,n,f,m,g);o.push(m),a.push(l)}return new _n(o,a,t,n)},filter:function(e){"function"!=typeof e&&(e=m(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var o,a=t[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new _n(i,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=Math.min(i,n.length),o=new Array(i),a=0;a<r;++a)for(var s,l=t[a],c=n[a],u=l.length,d=o[a]=new Array(u),h=0;h<u;++h)(s=l[h]||c[h])&&(d[h]=s);for(;a<i;++a)o[a]=t[a];return new _n(o,this._parents,this._name,this._id)},selection:function(){return new vn(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Pn(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=Vt(a,t);Rt(a,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new _n(i,this._parents,e,n)},call:On.call,nodes:On.nodes,node:On.node,size:On.size,empty:On.empty,each:On.each,on:function(e,t){var n=this._id;return arguments.length<2?Vt(this.node(),n).on.on(e):this.each(bn(n,e,t))},attr:function(e,t){var n=E(e),i="transform"===n?Kt:en;return this.attrTween(e,"function"==typeof t?(n.local?sn:an)(n,i,Zt(this,"attr."+e,t)):null==t?(n.local?nn:tn)(n):(n.local?on:rn)(n,i,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var i=E(e);return this.tween(n,(i.local?un:dn)(i,t))},style:function(e,t,n){var i="transform"==(e+="")?qt:en;return null==t?this.styleTween(e,function(e,t){var n,i,r;return function(){var o=j(this,e),a=(this.style.removeProperty(e),j(this,e));return o===a?null:o===n&&a===i?r:r=t(n=o,i=a)}}(e,i)).on("end.style."+e,xn(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var i,r,o;return function(){var a=j(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=j(this,e)),a===l?null:a===i&&l===r?o:(r=l,o=t(i=a,s))}}(e,i,Zt(this,"style."+e,t))).each(function(e,t){var n,i,r,o,a="style."+t,s="end."+a;return function(){var l=Nt(this,e),c=l.on,u=null==l.value[a]?o||(o=xn(t)):void 0;c===n&&r===u||(i=(n=c).copy()).on(s,r=u),l.on=i}}(this._id,e)):this.styleTween(e,function(e,t,n){var i,r,o=n+"";return function(){var a=j(this,e);return a===o?null:a===i?r:r=t(i=a,n)}}(e,i,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,Sn(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Zt(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,wn(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i,r=Vt(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((null==t?Jt:Qt)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?hn:pn)(t,e)):Vt(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?mn:gn)(t,e)):Vt(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(fn(t,e)):Vt(this.node(),t).ease},end:function(){var e,t,n=this,i=n._id,r=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--r&&o()}};n.each((function(){var n=Nt(this,i),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}))}))}};var kn={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Mn(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return kn.time=Ot(),kn;return n}function An(e){return{type:e}}xe.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,i,r,o=e.__transition,a=!0;if(o){for(r in t=null==t?null:t+"",o)(n=o[r]).name===t?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete e.__transition}}(this,e)}))},xe.prototype.transition=function(e){var t,n;e instanceof _n?(t=e._id,e=e._name):(t=Pn(),(n=kn).time=Ot(),e=null==e?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,c=0;c<l;++c)(a=s[c])&&Rt(a,e,t,c,s,n||Mn(a,t));return new _n(i,this._parents,e,t)},["w","e"].map(An),["n","s"].map(An),["n","w","e","s","nw","ne","sw","se"].map(An);var In=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},Tn=function(e){let t=e,n=e;function i(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){const o=i+r>>>1;n(e[o],t)<0?i=o+1:r=o}return i}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>In(e(t),n)}(e)),{left:i,center:function(e,n,r,o){null==r&&(r=0),null==o&&(o=e.length);const a=i(e,n,r,o-1);return a>r&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){const o=i+r>>>1;n(e[o],t)>0?r=o:i=o+1}return i}}},jn=Math.sqrt(50),Ln=Math.sqrt(10),Dn=Math.sqrt(2);function Fn(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=jn?10:o>=Ln?5:o>=Dn?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=jn?10:o>=Ln?5:o>=Dn?2:1)}var Rn=new Date,Bn=new Date;function Nn(e,t,n,i){function r(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return r.floor=function(t){return e(t=new Date(+t)),t},r.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},r.round=function(e){var t=r(e),n=r.ceil(e);return e-t<n-e?t:n},r.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},r.range=function(n,i,o){var a,s=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<i);return s},r.filter=function(n){return Nn((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,i){if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););}))},n&&(r.count=function(t,i){return Rn.setTime(+t),Bn.setTime(+i),e(Rn),e(Bn),Math.floor(n(Rn,Bn))},r.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(i?function(t){return i(t)%e==0}:function(t){return r.count(0,t)%e==0}):r:null}),r}function Vn(e){return Nn((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}Nn((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})).every=function(e){return isFinite(e=Math.floor(e))&&e>0?Nn((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null},Nn((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),Vn(0),Vn(1),Vn(2),Vn(3),Vn(4),Vn(5),Vn(6),Nn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5,e=>e.getDate()-1),Nn((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()})),Nn((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getMinutes()})),Nn((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()}));var zn=Nn((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));zn.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Nn((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):zn:null};var $n=new Date,Gn=new Date;function Un(e,t,n,i){function r(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return r.floor=function(t){return e(t=new Date(+t)),t},r.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},r.round=function(e){var t=r(e),n=r.ceil(e);return e-t<n-e?t:n},r.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},r.range=function(n,i,o){var a,s=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<i);return s},r.filter=function(n){return Un((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,i){if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););}))},n&&(r.count=function(t,i){return $n.setTime(+t),Gn.setTime(+i),e($n),e(Gn),Math.floor(n($n,Gn))},r.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(i?function(t){return i(t)%e==0}:function(t){return r.count(0,t)%e==0}):r:null}),r}function Hn(e){return Un((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/6048e5}))}var Xn=Hn(0),Yn=Hn(1),Wn=(Hn(2),Hn(3),Hn(4)),qn=(Hn(5),Hn(6),Un((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1})));function Kn(e){return Un((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}var Jn=Kn(0),Qn=Kn(1),Zn=(Kn(2),Kn(3),Kn(4)),ei=(Kn(5),Kn(6),Un((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),(function(e){return e.getDate()-1}))),ti=Un((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));ti.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Un((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var ni=ti,ii=Un((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));ii.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Un((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var ri=ii;var oi={"-":"",_:" ",0:"0"},ai=/[\\^$*+?|[\]().{}]/g;function si(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(t)+r:r)}function li(e){return e.replace(ai,"\\$&")}function ci(e){return new RegExp("^(?:"+e.map(li).join("|")+")","i")}function ui(e){for(var t={},n=-1,i=e.length;++n<i;)t[e[n].toLowerCase()]=n;return t}function di(e,t){return si(e.getDate(),t,2)}function hi(e,t){return si(e.getHours(),t,2)}function pi(e,t){return si(e.getHours()%12||12,t,2)}function mi(e,t){return si(1+ei.count(ni(e),e),t,3)}function gi(e,t){return si(e.getMilliseconds(),t,3)}function fi(e,t){return gi(e,t)+"000"}function bi(e,t){return si(e.getMonth()+1,t,2)}function vi(e,t){return si(e.getMinutes(),t,2)}function xi(e,t){return si(e.getSeconds(),t,2)}function yi(e){var t=e.getDay();return 0===t?7:t}function Si(e,t){return si(Jn.count(ni(e)-1,e),t,2)}function Ei(e){var t=e.getDay();return t>=4||0===t?Zn(e):Zn.ceil(e)}function wi(e,t){return e=Ei(e),si(Zn.count(ni(e),e)+(4===ni(e).getDay()),t,2)}function Ci(e){return e.getDay()}function _i(e,t){return si(Qn.count(ni(e)-1,e),t,2)}function Pi(e,t){return si(e.getFullYear()%100,t,2)}function Oi(e,t){return si((e=Ei(e)).getFullYear()%100,t,2)}function ki(e,t){return si(e.getFullYear()%1e4,t,4)}function Mi(e,t){var n=e.getDay();return si((e=n>=4||0===n?Zn(e):Zn.ceil(e)).getFullYear()%1e4,t,4)}function Ai(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+si(t/60|0,"0",2)+si(t%60,"0",2)}function Ii(e,t){return si(e.getUTCDate(),t,2)}function Ti(e,t){return si(e.getUTCHours(),t,2)}function ji(e,t){return si(e.getUTCHours()%12||12,t,2)}function Li(e,t){return si(1+qn.count(ri(e),e),t,3)}function Di(e,t){return si(e.getUTCMilliseconds(),t,3)}function Fi(e,t){return Di(e,t)+"000"}function Ri(e,t){return si(e.getUTCMonth()+1,t,2)}function Bi(e,t){return si(e.getUTCMinutes(),t,2)}function Ni(e,t){return si(e.getUTCSeconds(),t,2)}function Vi(e){var t=e.getUTCDay();return 0===t?7:t}function zi(e,t){return si(Xn.count(ri(e)-1,e),t,2)}function $i(e){var t=e.getUTCDay();return t>=4||0===t?Wn(e):Wn.ceil(e)}function Gi(e,t){return e=$i(e),si(Wn.count(ri(e),e)+(4===ri(e).getUTCDay()),t,2)}function Ui(e){return e.getUTCDay()}function Hi(e,t){return si(Yn.count(ri(e)-1,e),t,2)}function Xi(e,t){return si(e.getUTCFullYear()%100,t,2)}function Yi(e,t){return si((e=$i(e)).getUTCFullYear()%100,t,2)}function Wi(e,t){return si(e.getUTCFullYear()%1e4,t,4)}function qi(e,t){var n=e.getUTCDay();return si((e=n>=4||0===n?Wn(e):Wn.ceil(e)).getUTCFullYear()%1e4,t,4)}function Ki(){return"+0000"}function Ji(){return"%"}function Qi(e){return+e}function Zi(e){return Math.floor(+e/1e3)}!function(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=(ci(r),ui(r),ci(o),ui(o),ci(a),ui(a),ci(s),ui(s),ci(l),ui(l),{a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:di,e:di,f:fi,g:Oi,G:Mi,H:hi,I:pi,j:mi,L:gi,m:bi,M:vi,p:function(e){return r[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Qi,s:Zi,S:xi,u:yi,U:Si,V:wi,w:Ci,W:_i,x:null,X:null,y:Pi,Y:ki,Z:Ai,"%":Ji}),u={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Ii,e:Ii,f:Fi,g:Yi,G:qi,H:Ti,I:ji,j:Li,L:Di,m:Ri,M:Bi,p:function(e){return r[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Qi,s:Zi,S:Ni,u:Vi,U:zi,V:Gi,w:Ui,W:Hi,x:null,X:null,y:Xi,Y:Wi,Z:Ki,"%":Ji};function d(e,t){return function(n){var i,r,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(r=oi[i=e.charAt(++s)])?i=e.charAt(++s):r="e"===i?" ":"0",(o=t[i])&&(i=o(n,r)),a.push(i),l=s+1);return a.push(e.slice(l,s)),a.join("")}}c.x=d(n,c),c.X=d(i,c),c.c=d(t,c),u.x=d(n,u),u.X=d(i,u),u.c=d(t,u)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var er=function(e){return null===e?NaN:+e};const tr=Tn(In).right;Tn(er);var nr=tr,ir=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}};function rr(e){return+e}var or=[0,1];function ar(e){return e}function sr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function lr(e,t,n){var i=e[0],r=e[1],o=t[0],a=t[1];return r<i?(i=sr(r,i),o=n(a,o)):(i=sr(i,r),o=n(o,a)),function(e){return o(i(e))}}function cr(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),o=new Array(i),a=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<i;)r[a]=sr(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=nr(e,t,1,i)-1;return o[n](r[n](t))}}function ur(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dr(){return function(){var e,t,n,i,r,o,a=or,s=or,l=vt,c=ar;function u(){var e,t,n,l=Math.min(a.length,s.length);return c!==ar&&((e=a[0])>(t=a[l-1])&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),i=l>2?cr:lr,r=o=null,d}function d(t){return isNaN(t=+t)?n:(r||(r=i(a.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=i(s,a.map(e),pt)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,rr),u()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=ir,u()},d.clamp=function(e){return arguments.length?(c=!!e||ar,u()):c!==ar},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,i){return e=n,t=i,u()}}()(ar,ar)}function hr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var pr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mr(e){if(!(t=pr.exec(e)))throw new Error("invalid format: "+e);var t;return new gr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function gr(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function fr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}mr.prototype=gr.prototype,gr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var br,vr,xr,yr,Sr=function(e){return(e=fr(Math.abs(e)))?e[1]:NaN},Er=function(e,t){var n=fr(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},wr={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Er(100*e,t)},r:Er,s:function(e,t){var n=fr(e,t);if(!n)return e+"";var i=n[0],r=n[1],o=r-(br=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+fr(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},Cr=function(e){return e},_r=Array.prototype.map,Pr=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Or(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var i,r,o,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((i=t<e)&&(r=e,e=t,t=r),0===(a=Fn(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(e+s)*a;else for(a=-a,e=Math.ceil(e*a),t=Math.floor(t*a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(e+s)/a;return i&&o.reverse(),o}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return function(e,t,n,i){var r,o=function(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=jn?r*=10:o>=Ln?r*=5:o>=Dn&&(r*=2),t<e?-r:r}(e,t,n);switch((i=mr(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Sr(t)/3)))-Sr(Math.abs(e)))}(o,a))||(i.precision=r),yr(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Sr(t)-Sr(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(e){return Math.max(0,-Sr(Math.abs(e)))}(o))||(i.precision=r-2*("%"===i.type))}return xr(i)}(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,r,o=t(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(r=l,l=c,c=r,r=a,a=s,s=r);u-- >0;){if((r=Fn(l,c,n))===i)return o[a]=l,o[s]=c,t(o);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return e},e}function kr(){var e=dr();return e.copy=function(){return ur(e,kr())},hr.apply(e,arguments),Or(e)}vr=function(e){var t,n,i=void 0===e.grouping||void 0===e.thousands?Cr:(t=_r.call(e.grouping,Number),n=e.thousands+"",function(e,i){for(var r=e.length,o=[],a=0,s=t[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),o.push(e.substring(r-=s,r+s)),!((l+=s+1)>i));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),r=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Cr:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(_r.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"-":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=mr(e)).fill,n=e.align,d=e.sign,h=e.symbol,p=e.zero,m=e.width,g=e.comma,f=e.precision,b=e.trim,v=e.type;"n"===v?(g=!0,v="g"):wr[v]||(void 0===f&&(f=12),b=!0,v="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var x="$"===h?r:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",y="$"===h?o:/[%p]/.test(v)?l:"",S=wr[v],E=/[defgprs%]/.test(v);function w(e){var r,o,l,h=x,w=y;if("c"===v)w=S(e)+w,e="";else{var C=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:S(Math.abs(e),f),b&&(e=function(e){e:for(var t,n=e.length,i=1,r=-1;i<n;++i)switch(e[i]){case".":r=t=i;break;case"0":0===r&&(r=i),t=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),C&&0==+e&&"+"!==d&&(C=!1),h=(C?"("===d?d:c:"-"===d||"("===d?"":d)+h,w=("s"===v?Pr[8+br/3]:"")+w+(C&&"("===d?")":""),E)for(r=-1,o=e.length;++r<o;)if(48>(l=e.charCodeAt(r))||l>57){w=(46===l?a+e.slice(r+1):e.slice(r))+w,e=e.slice(0,r);break}}g&&!p&&(e=i(e,1/0));var _=h.length+e.length+w.length,P=_<m?new Array(m-_+1).join(t):"";switch(g&&p&&(e=i(P+e,P.length?m-w.length:1/0),P=""),n){case"<":e=h+e+w+P;break;case"=":e=h+P+e+w;break;case"^":e=P.slice(0,_=P.length>>1)+h+e+w+P.slice(_);break;default:e=P+h+e+w}return s(e)}return f=void 0===f?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),w.toString=function(){return e+""},w}return{format:d,formatPrefix:function(e,t){var n=d(((e=mr(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(Sr(t)/3))),r=Math.pow(10,-i),o=Pr[8+i/3];return function(e){return n(r*e)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),xr=vr.format,yr=vr.formatPrefix;var Mr=function(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(r);++i<r;)o[i]=e+i*n;return o};const Ar=Symbol("implicit");function Ir(){var e=new Map,t=[],n=[],i=Ar;function r(r){var o=r+"",a=e.get(o);if(!a){if(i!==Ar)return i;e.set(o,a=t.push(r))}return n[(a-1)%n.length]}return r.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;for(const i of n){const n=i+"";e.has(n)||e.set(n,t.push(i))}return r},r.range=function(e){return arguments.length?(n=Array.from(e),r):n.slice()},r.unknown=function(e){return arguments.length?(i=e,r):i},r.copy=function(){return Ir(t,n).unknown(i)},hr.apply(r,arguments),r}function Tr(){var e,t,n=Ir().unknown(void 0),i=n.domain,r=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function d(){var n=i().length,d=a<o,h=d?a:o,p=d?o:a;e=(p-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(p-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var m=Mr(n).map((function(t){return h+e*t}));return r(d?m.reverse():m)}return delete n.unknown,n.domain=function(e){return arguments.length?(i(e),d()):i()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return Tr(i(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},hr.apply(d(),arguments)}function jr(e,t,n=er){if(i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,o=Math.floor(r),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(r-o)}}function Lr(e){this._context=e}Lr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Dr=Math.PI,Fr=2*Dr,Rr=Fr-1e-6;function Br(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Nr(){return new Br}Br.prototype=Nr.prototype={constructor:Br,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(e,t,n,i,r){var o=this._x1,a=this._y1,s=(n=+n)-(e=+e),l=(i=+i)-(t=+t),c=o-e,u=a-t,d=c*c+u*u;if((r=+r)<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>1e-6)if(Math.abs(u*s-l*c)>1e-6&&r){var h=n-o,p=i-a,m=s*s+l*l,g=h*h+p*p,f=Math.sqrt(m),b=Math.sqrt(d),v=r*Math.tan((Dr-Math.acos((m+d-g)/(2*f*b)))/2),x=v/b,y=v/f;Math.abs(x-1)>1e-6&&(this._+="L"+(e+x*c)+","+(t+x*u)),this._+="A"+r+","+r+",0,0,"+ +(u*h>c*p)+","+(this._x1=e+y*s)+","+(this._y1=t+y*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,i,r,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(i),s=n*Math.sin(i),l=e+a,c=t+s,u=1^o,d=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+l+","+c),n&&(d<0&&(d=d%Fr+Fr),d>Rr?this._+="A"+n+","+n+",0,1,"+u+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):d>1e-6&&(this._+="A"+n+","+n+",0,"+ +(d>=Dr)+","+u+","+(this._x1=e+n*Math.cos(r))+","+(this._y1=t+n*Math.sin(r))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Vr=Nr,zr=function(e){return function(){return e}},$r=function(){};function Gr(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Ur(e,t){this._context=e,this._k=(1-t)/6}function Hr(e,t){this._context=e,this._k=(1-t)/6}function Xr(e){this._curve=e}Ur.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Gr(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Gr(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return new Ur(e,t)}return n.tension=function(t){return e(+t)},n}(0),Hr.prototype={areaStart:$r,areaEnd:$r,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Gr(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return new Hr(e,t)}return n.tension=function(t){return e(+t)},n}(0),Xr.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var Yr=Math.abs,Wr=Math.atan2,qr=Math.cos,Kr=Math.max,Jr=Math.min,Qr=Math.sin,Zr=Math.sqrt,eo=Math.PI,to=eo/2,no=2*eo;function io(e){return e>1?0:e<-1?eo:Math.acos(e)}function ro(e){return e>=1?to:e<=-1?-to:Math.asin(e)}function oo(e){return e.innerRadius}function ao(e){return e.outerRadius}function so(e){return e.startAngle}function lo(e){return e.endAngle}function co(e){return e&&e.padAngle}function uo(e,t,n,i,r,o,a,s){var l=n-e,c=i-t,u=a-r,d=s-o,h=d*l-u*c;if(!(h*h<1e-12))return[e+(h=(u*(t-o)-d*(e-r))/h)*l,t+h*c]}function ho(e,t,n,i,r,o,a){var s=e-n,l=t-i,c=(a?o:-o)/Zr(s*s+l*l),u=c*l,d=-c*s,h=e+u,p=t+d,m=n+u,g=i+d,f=(h+m)/2,b=(p+g)/2,v=m-h,x=g-p,y=v*v+x*x,S=r-o,E=h*g-m*p,w=(x<0?-1:1)*Zr(Kr(0,S*S*y-E*E)),C=(E*x-v*w)/y,_=(-E*v-x*w)/y,P=(E*x+v*w)/y,O=(-E*v+x*w)/y,k=C-f,M=_-b,A=P-f,I=O-b;return k*k+M*M>A*A+I*I&&(C=P,_=O),{cx:C,cy:_,x01:-u,y01:-d,x11:C*(r/S-1),y11:_*(r/S-1)}}var po=function(){var e=oo,t=ao,n=zr(0),i=null,r=so,o=lo,a=co,s=null;function l(){var l,c,u=+e.apply(this,arguments),d=+t.apply(this,arguments),h=r.apply(this,arguments)-to,p=o.apply(this,arguments)-to,m=Yr(p-h),g=p>h;if(s||(s=l=Vr()),d<u&&(c=d,d=u,u=c),d>1e-12)if(m>no-1e-12)s.moveTo(d*qr(h),d*Qr(h)),s.arc(0,0,d,h,p,!g),u>1e-12&&(s.moveTo(u*qr(p),u*Qr(p)),s.arc(0,0,u,p,h,g));else{var f,b,v=h,x=p,y=h,S=p,E=m,w=m,C=a.apply(this,arguments)/2,_=C>1e-12&&(i?+i.apply(this,arguments):Zr(u*u+d*d)),P=Jr(Yr(d-u)/2,+n.apply(this,arguments)),O=P,k=P;if(_>1e-12){var M=ro(_/u*Qr(C)),A=ro(_/d*Qr(C));(E-=2*M)>1e-12?(y+=M*=g?1:-1,S-=M):(E=0,y=S=(h+p)/2),(w-=2*A)>1e-12?(v+=A*=g?1:-1,x-=A):(w=0,v=x=(h+p)/2)}var I=d*qr(v),T=d*Qr(v),j=u*qr(S),L=u*Qr(S);if(P>1e-12){var D,F=d*qr(x),R=d*Qr(x),B=u*qr(y),N=u*Qr(y);if(m<eo&&(D=uo(I,T,B,N,F,R,j,L))){var V=I-D[0],z=T-D[1],$=F-D[0],G=R-D[1],U=1/Qr(io((V*$+z*G)/(Zr(V*V+z*z)*Zr($*$+G*G)))/2),H=Zr(D[0]*D[0]+D[1]*D[1]);O=Jr(P,(u-H)/(U-1)),k=Jr(P,(d-H)/(U+1))}}w>1e-12?k>1e-12?(f=ho(B,N,I,T,d,k,g),b=ho(F,R,j,L,d,k,g),s.moveTo(f.cx+f.x01,f.cy+f.y01),k<P?s.arc(f.cx,f.cy,k,Wr(f.y01,f.x01),Wr(b.y01,b.x01),!g):(s.arc(f.cx,f.cy,k,Wr(f.y01,f.x01),Wr(f.y11,f.x11),!g),s.arc(0,0,d,Wr(f.cy+f.y11,f.cx+f.x11),Wr(b.cy+b.y11,b.cx+b.x11),!g),s.arc(b.cx,b.cy,k,Wr(b.y11,b.x11),Wr(b.y01,b.x01),!g))):(s.moveTo(I,T),s.arc(0,0,d,v,x,!g)):s.moveTo(I,T),u>1e-12&&E>1e-12?O>1e-12?(f=ho(j,L,F,R,u,-O,g),b=ho(I,T,B,N,u,-O,g),s.lineTo(f.cx+f.x01,f.cy+f.y01),O<P?s.arc(f.cx,f.cy,O,Wr(f.y01,f.x01),Wr(b.y01,b.x01),!g):(s.arc(f.cx,f.cy,O,Wr(f.y01,f.x01),Wr(f.y11,f.x11),!g),s.arc(0,0,u,Wr(f.cy+f.y11,f.cx+f.x11),Wr(b.cy+b.y11,b.cx+b.x11),g),s.arc(b.cx,b.cy,O,Wr(b.y11,b.x11),Wr(b.y01,b.x01),!g))):s.arc(0,0,u,S,y,g):s.lineTo(j,L)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-eo/2;return[qr(i)*n,Qr(i)*n]},l.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:zr(+t),l):e},l.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:zr(+e),l):t},l.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:zr(+e),l):n},l.padRadius=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:zr(+e),l):i},l.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:zr(+e),l):r},l.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:zr(+e),l):o},l.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:zr(+e),l):a},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l},mo=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},go=function(e){return e},fo=function(e,t,n,i,r){for(var o,a=e.children,s=-1,l=a.length,c=e.value&&(i-t)/e.value;++s<l;)(o=a[s]).y0=n,o.y1=r,o.x0=t,o.x1=t+=o.value*c},bo=function(e,t,n,i,r){for(var o,a=e.children,s=-1,l=a.length,c=e.value&&(r-n)/e.value;++s<l;)(o=a[s]).x0=t,o.x1=i,o.y0=n,o.y1=n+=o.value*c};function vo(e){var t=0,n=e.children,i=n&&n.length;if(i)for(;--i>=0;)t+=n[i].value;else t=1;e.value=t}function xo(e,t){var n,i,r,o,a,s=new wo(e),l=+e.value&&(s.value=e.value),c=[s];for(null==t&&(t=yo);n=c.pop();)if(l&&(n.value=+n.data.value),(r=t(n.data))&&(a=r.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(i=n.children[o]=new wo(r[o])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(Eo)}function yo(e){return e.children}function So(e){e.data=e.data.data}function Eo(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function wo(e){this.data=e,this.depth=this.height=0,this.parent=null}!function e(t){function n(e,n,i,r,o){!function(e,t,n,i,r,o){for(var a,s,l,c,u,d,h,p,m,g,f,b=[],v=t.children,x=0,y=0,S=v.length,E=t.value;x<S;){l=r-n,c=o-i;do{u=v[y++].value}while(!u&&y<S);for(d=h=u,f=u*u*(g=Math.max(c/l,l/c)/(E*e)),m=Math.max(h/f,f/d);y<S;++y){if(u+=s=v[y].value,s<d&&(d=s),s>h&&(h=s),f=u*u*g,(p=Math.max(h/f,f/d))>m){u-=s;break}m=p}b.push(a={value:u,dice:l<c,children:v.slice(x,y)}),a.dice?fo(a,n,i,r,E?i+=c*u/E:o):bo(a,n,i,E?n+=l*u/E:r,o),E-=u,x=y}}(t,e,n,i,r,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}((1+Math.sqrt(5))/2),wo.prototype=xo.prototype={constructor:wo,count:function(){return this.eachAfter(vo)},each:function(e){var t,n,i,r,o=this,a=[o];do{for(t=a.reverse(),a=[];o=t.pop();)if(e(o),n=o.children)for(i=0,r=n.length;i<r;++i)a.push(n[i])}while(a.length);return this},eachAfter:function(e){for(var t,n,i,r=this,o=[r],a=[];r=o.pop();)if(a.push(r),t=r.children)for(n=0,i=t.length;n<i;++n)o.push(t[n]);for(;r=a.pop();)e(r);return this},eachBefore:function(e){for(var t,n,i=this,r=[i];i=r.pop();)if(e(i),t=i.children)for(n=t.length-1;n>=0;--n)r.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,i=t.children,r=i&&i.length;--r>=0;)n+=i[r].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),r=null;for(e=n.pop(),t=i.pop();e===t;)r=e,e=n.pop(),t=i.pop();return r}(t,e),i=[t];t!==n;)i.push(t=t.parent);for(var r=i.length;e!==n;)i.splice(r,0,e),e=e.parent;return i},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return xo(this).eachBefore(So)}};var Co=n("jhN1");n.d(t,"a",(function(){return xs})),n.d(t,"b",(function(){return ys})),n.d(t,"c",(function(){return Bs})),n.d(t,"d",(function(){return Is}));const _o=["caretElm"];function Po(e,t){}const Oo=function(e){return{model:e}};function ko(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275template"](1,Po,0,0,"ng-template",5),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngTemplateOutlet",e.template)("ngTemplateOutletContext",r["\u0275\u0275pureFunction1"](2,Oo,e.context))}}function Mo(e,t){if(1&e&&r["\u0275\u0275element"](0,"span",6),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("innerHTML",e.title,r["\u0275\u0275sanitizeHtml"])}}function Ao(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275namespaceHTML"](),r["\u0275\u0275element"](0,"ngx-charts-scale-legend",4)),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("horizontal",e.legendOptions&&"below"===e.legendOptions.position)("valueRange",e.legendOptions.domain)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)}}function Io(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275namespaceHTML"](),r["\u0275\u0275elementStart"](0,"ngx-charts-legend",5),r["\u0275\u0275listener"]("labelClick",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().legendLabelClick.emit(t)}))("labelActivate",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().legendLabelActivate.emit(t)}))("labelDeactivate",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().legendLabelDeactivate.emit(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("horizontal",e.legendOptions&&"below"===e.legendOptions.position)("data",e.legendOptions.domain)("title",e.legendOptions.title)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)("activeEntries",e.activeEntries)}}const To=["*"],jo=["ngx-charts-axis-label",""],Lo=["ticksel"],Do=["ngx-charts-x-axis-ticks",""];function Fo(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",3),r["\u0275\u0275elementStart"](1,"title"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"text",4),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275attribute"]("transform",n.tickTransform(e)),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](n.tickFormat(e)),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("font-size","12px"),r["\u0275\u0275attribute"]("text-anchor",n.textAnchor)("transform",n.textTransform),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",n.tickTrim(n.tickFormat(e))," ")}}function Ro(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275element"](1,"line",6),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275attribute"]("transform",e.gridLineTransform()),r["\u0275\u0275advance"](1),r["\u0275\u0275attribute"]("y1",0-e.gridLineHeight)}}function Bo(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275template"](1,Ro,2,2,"g",5),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275attribute"]("transform",n.tickTransform(e)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.showGridLines)}}const No=["ngx-charts-x-axis",""];function Vo(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",2),r["\u0275\u0275listener"]("dimensionsChanged",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().emitTicksHeight(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("trimTicks",e.trimTicks)("rotateTicks",e.rotateTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickStroke",e.tickStroke)("scale",e.xScale)("orient",e.xOrient)("showGridLines",e.showGridLines)("gridLineHeight",e.dims.height)("width",e.dims.width)("tickValues",e.ticks)}}function zo(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"g",3)),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("label",e.labelText)("offset",e.labelOffset)("orient","bottom")("height",e.dims.height)("width",e.dims.width)}}const $o=["ngx-charts-y-axis-ticks",""];function Go(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",4),r["\u0275\u0275elementStart"](1,"title"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"text",5),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275attribute"]("transform",n.transform(e)),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](n.tickFormat(e)),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("font-size","12px"),r["\u0275\u0275attribute"]("dy",n.dy)("x",n.x1)("y",n.y1)("text-anchor",n.textAnchor),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",n.tickTrim(n.tickFormat(e))," ")}}function Uo(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"path",6)),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275attribute"]("d",e.referenceAreaPath)("transform",e.gridLineTransform())}}function Ho(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"line",9)),2&e){const e=r["\u0275\u0275nextContext"](3);r["\u0275\u0275attribute"]("x2",e.gridLineWidth)}}function Xo(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"line",9)),2&e){const e=r["\u0275\u0275nextContext"](3);r["\u0275\u0275attribute"]("x2",0-e.gridLineWidth)}}function Yo(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275template"](1,Ho,1,1,"line",8),r["\u0275\u0275template"](2,Xo,1,1,"line",8),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275attribute"]("transform",e.gridLineTransform()),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf","left"===e.orient),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf","right"===e.orient)}}function Wo(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275template"](1,Yo,3,3,"g",7),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275attribute"]("transform",n.transform(e)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.showGridLines)}}function qo(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275elementStart"](1,"title"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"text",11),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"](2).$implicit,t=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](t.tickTrim(t.tickFormat(e.value))),r["\u0275\u0275advance"](1),r["\u0275\u0275attribute"]("dy",t.dy)("y",-6)("x",t.gridLineWidth)("text-anchor",t.textAnchor),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function Ko(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275element"](1,"line",10),r["\u0275\u0275template"](2,qo,5,6,"g",7),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]().$implicit,t=r["\u0275\u0275nextContext"]();r["\u0275\u0275attribute"]("transform",t.transform(e.value)),r["\u0275\u0275advance"](1),r["\u0275\u0275attribute"]("x2",t.gridLineWidth)("transform",t.gridLineTransform()),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.showRefLabels)}}function Jo(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275template"](1,Ko,3,4,"g",7),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.showRefLines)}}const Qo=["ngx-charts-y-axis",""];function Zo(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",2),r["\u0275\u0275listener"]("dimensionsChanged",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().emitTicksWidth(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("trimTicks",e.trimTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickValues",e.ticks)("tickStroke",e.tickStroke)("scale",e.yScale)("orient",e.yOrient)("showGridLines",e.showGridLines)("gridLineWidth",e.dims.width)("referenceLines",e.referenceLines)("showRefLines",e.showRefLines)("showRefLabels",e.showRefLabels)("height",e.dims.height)}}function ea(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"g",3)),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("label",e.labelText)("offset",e.labelOffset)("orient",e.yOrient)("height",e.dims.height)("width",e.dims.width)}}const ta=["ngx-charts-svg-linear-gradient",""];function na(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"stop")),2&e){const e=t.$implicit;r["\u0275\u0275styleProp"]("stop-color",e.color)("stop-opacity",e.opacity),r["\u0275\u0275attribute"]("offset",e.offset+"%")}}const ia=["ngx-charts-svg-radial-gradient",""];function ra(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"stop")),2&e){const e=t.$implicit;r["\u0275\u0275styleProp"]("stop-color",e.color)("stop-opacity",e.opacity),r["\u0275\u0275attribute"]("offset",e.offset+"%")}}function oa(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"header",4),r["\u0275\u0275elementStart"](1,"span",5),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](e.title)}}function aa(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"li",6),r["\u0275\u0275elementStart"](1,"ngx-charts-legend-entry",7),r["\u0275\u0275listener"]("select",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().labelClick.emit(t)}))("activate",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().activate(t)}))("deactivate",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().deactivate(t)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("label",e.label)("formattedLabel",e.formattedLabel)("color",e.color)("isActive",n.isActive(e))}}const sa=["tooltipTemplate"],la=function(e,t){return[e,t]},ca=["ngx-charts-bar",""];function ua(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"defs"),r["\u0275\u0275element"](1,"g",2),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("orientation",e.orientation)("name",e.gradientId)("stops",e.gradientStops)}}function da(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",5),r["\u0275\u0275listener"]("dimensionsChanged",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().updateXAxisHeight(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("xScale",e.xScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)}}function ha(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",6),r["\u0275\u0275listener"]("dimensionsChanged",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().updateYAxisWidth(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("yScale",e.yScale)("dims",e.dims)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)}}function pa(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275elementStart"](1,"g",7),r["\u0275\u0275listener"]("select",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"]().onClick(n,i)}))("activate",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"]().onActivate(n,i)}))("deactivate",(function(n){r["\u0275\u0275restoreView"](e);const i=t.$implicit;return r["\u0275\u0275nextContext"]().onDeactivate(n,i)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("@animationState","active"),r["\u0275\u0275attribute"]("transform",n.groupTransform(e)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("xScale",n.xScale)("yScale",n.yScale)("activeEntries",n.activeEntries)("colors",n.colors)("series",e.series)("dims",n.dims)("gradient",n.gradient)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)("seriesName",e.name)("animations",n.animations)("noBarWhenZero",n.noBarWhenZero)}}function ma(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",5),r["\u0275\u0275listener"]("dimensionsChanged",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().updateXAxisHeight(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("xScale",e.xScale)("dims",e.dims)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)("xAxisOffset",e.dataLabelMaxHeight.negative)}}function ga(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",6),r["\u0275\u0275listener"]("dimensionsChanged",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().updateYAxisWidth(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("yScale",e.yScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)}}const fa=["ngx-charts-series-vertical",""];function ba(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",2),r["\u0275\u0275listener"]("select",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onClick(t)}))("activate",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().activate.emit(t)}))("deactivate",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().deactivate.emit(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("@animationState","active")("@.disabled",!n.animations)("width",e.width)("height",e.height)("x",e.x)("y",e.y)("fill",e.color)("stops",e.gradientStops)("data",e.data)("orientation","vertical")("roundEdges",e.roundEdges)("gradient",n.gradient)("ariaLabel",e.ariaLabel)("isActive",n.isActive(e.data))("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.tooltipPlacement)("tooltipType",n.tooltipType)("tooltipTitle",n.tooltipTemplate?void 0:e.tooltipText)("tooltipTemplate",n.tooltipTemplate)("tooltipContext",e.data)("noBarWhenZero",n.noBarWhenZero)("animations",n.animations)}}function va(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",4),r["\u0275\u0275listener"]("dimensionsChanged",(function(n){r["\u0275\u0275restoreView"](e);const i=t.index;return r["\u0275\u0275nextContext"](2).dataLabelHeightChanged.emit({size:n,index:i})})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("barX",e.x)("barY",e.y)("barWidth",e.width)("barHeight",e.height)("value",e.total)("valueFormatting",n.dataLabelFormatting)("orientation","vertical")}}function xa(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275template"](1,va,1,7,"g",3),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e.barsForDataLabels)("ngForTrackBy",e.trackDataLabelBy)}}const ya=["ngx-charts-series-horizontal",""];function Sa(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",2),r["\u0275\u0275listener"]("select",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().click(t)}))("activate",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().activate.emit(t)}))("deactivate",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().deactivate.emit(t)})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("@animationState","active")("width",e.width)("height",e.height)("x",e.x)("y",e.y)("fill",e.color)("stops",e.gradientStops)("data",e.data)("orientation","horizontal")("roundEdges",e.roundEdges)("gradient",n.gradient)("isActive",n.isActive(e.data))("ariaLabel",e.ariaLabel)("animations",n.animations)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.tooltipPlacement)("tooltipType",n.tooltipType)("tooltipTitle",n.tooltipTemplate?void 0:e.tooltipText)("tooltipTemplate",n.tooltipTemplate)("tooltipContext",e.data)("noBarWhenZero",n.noBarWhenZero)}}function Ea(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",4),r["\u0275\u0275listener"]("dimensionsChanged",(function(n){r["\u0275\u0275restoreView"](e);const i=t.index;return r["\u0275\u0275nextContext"](2).dataLabelWidthChanged.emit({size:n,index:i})})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("barX",e.x)("barY",e.y)("barWidth",e.width)("barHeight",e.height)("value",e.total)("valueFormatting",n.dataLabelFormatting)("orientation","horizontal")}}function wa(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275template"](1,Ea,1,7,"g",3),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",e.barsForDataLabels)("ngForTrackBy",e.trackDataLabelBy)}}const Ca=["ngx-charts-bar-label",""],_a=["ngx-charts-pie-label",""],Pa=["ngx-charts-pie-arc",""];function Oa(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"defs"),r["\u0275\u0275element"](1,"g",3),r["\u0275\u0275elementEnd"]()),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("color",e.fill)("name",e.radialGradientId)("startOpacity",e.startOpacity)}}const ka=["ngx-charts-pie-series",""];function Ma(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"g",3)),2&e){const e=r["\u0275\u0275nextContext"]().$implicit,t=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("data",e)("radius",t.outerRadius)("color",t.color(e))("label",t.labelText(e))("labelTrim",t.trimLabels)("labelTrimSize",t.maxLabelLength)("max",t.max)("value",e.value)("explodeSlices",t.explodeSlices)("animations",t.animations)}}function Aa(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275template"](1,Ma,1,10,"g",1),r["\u0275\u0275elementStart"](2,"g",2),r["\u0275\u0275listener"]("select",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().onClick(t)}))("activate",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().activate.emit(t)}))("deactivate",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().deactivate.emit(t)}))("dblclick",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().dblclick.emit(t)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.labelVisible(e)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("startAngle",e.startAngle)("endAngle",e.endAngle)("innerRadius",n.innerRadius)("outerRadius",n.outerRadius)("fill",n.color(e))("value",e.data.value)("gradient",n.gradient)("data",e.data)("max",n.max)("explodeSlices",n.explodeSlices)("isActive",n.isActive(e.data))("animate",n.animations)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement","top")("tooltipType","tooltip")("tooltipTitle",n.getTooltipTitle(e))("tooltipTemplate",n.tooltipTemplate)("tooltipContext",e.data)}}var Ia;let Ta=(()=>{let e=Ia=class{constructor(e,t,n){this.applicationRef=e,this.componentFactoryResolver=t,this.injector=n}static setGlobalRootViewContainer(e){Ia.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(Ia.globalRootViewContainer)return Ia.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return e.element?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,t){if(t){if(void 0!==t.inputs){const n=Object.getOwnPropertyNames(t.inputs);for(const i of n)e.instance[i]=t.inputs[i]}if(void 0!==t.outputs){const n=Object.getOwnPropertyNames(t.outputs);for(const i of n)e.instance[i]=t.outputs[i]}}return e}appendComponent(e,t={},n){n||(n=this.getRootViewContainer());const i=this.getComponentRootNode(n),r=new s.d(i,this.componentFactoryResolver,this.applicationRef,this.injector),o=new s.c(e),a=r.attach(o);return this.projectComponentBindings(a,t),a}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](r.ApplicationRef),r["\u0275\u0275inject"](r.ComponentFactoryResolver),r["\u0275\u0275inject"](r.Injector))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e.globalRootViewContainer=null,e})();function ja(e,t,n){let i,r,o;n=n||{};let a=null,s=0;function l(){s=!1===n.leading?0:+new Date,a=null,o=e.apply(i,r)}return function(){const c=+new Date;s||!1!==n.leading||(s=c);const u=t-(c-s);return i=this,r=arguments,u<=0?(clearTimeout(a),a=null,s=c,o=e.apply(i,r)):a||!1===n.trailing||(a=setTimeout(l,u)),o}}var La=function(e){return e[e.top="top"]="top",e[e.bottom="bottom"]="bottom",e[e.left="left"]="left",e[e.right="right"]="right",e}({});function Da(e,t,n){return"top"===n?e.top-7:"bottom"===n?e.top+e.height-t.height+7:"center"===n?e.top+e.height/2-t.height/2:void 0}function Fa(e,t,n){return"left"===n?e.left-7:"right"===n?e.left+e.width-t.width+7:"center"===n?e.left+e.width/2-t.width/2:void 0}class Ra{static calculateVerticalAlignment(e,t,n){let i=Da(e,t,n);return i+t.height>window.innerHeight&&(i=window.innerHeight-t.height),i}static calculateVerticalCaret(e,t,n,i){let r;"top"===i&&(r=e.height/2-n.height/2+7),"bottom"===i&&(r=t.height-e.height/2-n.height/2-7),"center"===i&&(r=t.height/2-n.height/2);const o=Da(e,t,i);return o+t.height>window.innerHeight&&(r+=o+t.height-window.innerHeight),r}static calculateHorizontalAlignment(e,t,n){let i=Fa(e,t,n);return i+t.width>window.innerWidth&&(i=window.innerWidth-t.width),i}static calculateHorizontalCaret(e,t,n,i){let r;"left"===i&&(r=e.width/2-n.width/2+7),"right"===i&&(r=t.width-e.width/2-n.width/2-7),"center"===i&&(r=t.width/2-n.width/2);const o=Fa(e,t,i);return o+t.width>window.innerWidth&&(r+=o+t.width-window.innerWidth),r}static shouldFlip(e,t,n,i){let r=!1;return"right"===n&&e.left+e.width+t.width+i>window.innerWidth&&(r=!0),"left"===n&&e.left-t.width-i<0&&(r=!0),"top"===n&&e.top-t.height-i<0&&(r=!0),"bottom"===n&&e.top+e.height+t.height+i>window.innerHeight&&(r=!0),r}static positionCaret(e,t,n,i,r){let o=0,a=0;return e===La.right?(a=-7,o=Ra.calculateVerticalCaret(n,t,i,r)):e===La.left?(a=t.width,o=Ra.calculateVerticalCaret(n,t,i,r)):e===La.top?(o=t.height,a=Ra.calculateHorizontalCaret(n,t,i,r)):e===La.bottom&&(o=-7,a=Ra.calculateHorizontalCaret(n,t,i,r)),{top:o,left:a}}static positionContent(e,t,n,i,r){let o=0,a=0;return e===La.right?(a=n.left+n.width+i,o=Ra.calculateVerticalAlignment(n,t,r)):e===La.left?(a=n.left-t.width-i,o=Ra.calculateVerticalAlignment(n,t,r)):e===La.top?(o=n.top-t.height-i,a=Ra.calculateHorizontalAlignment(n,t,r)):e===La.bottom&&(o=n.top+n.height+i,a=Ra.calculateHorizontalAlignment(n,t,r)),{top:o,left:a}}static determinePlacement(e,t,n,i){if(Ra.shouldFlip(n,t,e,i)){if(e===La.right)return La.left;if(e===La.left)return La.right;if(e===La.top)return La.bottom;if(e===La.bottom)return La.top}return e}}let Ba=(()=>{let e=class{constructor(e,t){this.element=e,this.renderer=t}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){const e=this.element.nativeElement,t=this.host.nativeElement.getBoundingClientRect();if(!t.height&&!t.width)return;const n=e.getBoundingClientRect();this.checkFlip(t,n),this.positionContent(e,t,n),this.showCaret&&this.positionCaret(t,n),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,t,n){const{top:i,left:r}=Ra.positionContent(this.placement,n,t,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${i}px`),this.renderer.setStyle(e,"left",`${r}px`)}positionCaret(e,t){const n=this.caretElm.nativeElement,i=n.getBoundingClientRect(),{top:r,left:o}=Ra.positionCaret(this.placement,t,e,i,this.alignment);this.renderer.setStyle(n,"top",`${r}px`),this.renderer.setStyle(n,"left",`${o}px`)}checkFlip(e,t){this.placement=Ra.determinePlacement(this.placement,t,e,this.spacing)}onWindowResize(){this.position()}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.Renderer2))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,t){var n;1&e&&r["\u0275\u0275viewQuery"](_o,!0),2&e&&r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.caretElm=n.first)},hostVars:2,hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("resize",(function(){return t.onWindowResize()}),!1,r["\u0275\u0275resolveWindow"]),2&e&&r["\u0275\u0275classMap"](t.cssClasses)},inputs:{placement:"placement",host:"host",showCaret:"showCaret",type:"type",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275element"](1,"span",0,1),r["\u0275\u0275elementStart"](3,"div",2),r["\u0275\u0275template"](4,ko,2,4,"span",3),r["\u0275\u0275template"](5,Mo,1,1,"span",4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275classMapInterpolate1"]("tooltip-caret position-",t.placement,""),r["\u0275\u0275property"]("hidden",!t.showCaret),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",!t.title),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.title))},directives:[o.o,o.t],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}.ngx-charts-tooltip-content.position-left{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}.ngx-charts-tooltip-content.position-top{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}.ngx-charts-tooltip-content.position-bottom{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}.ngx-charts-tooltip-content.animate{opacity:1;-webkit-transition:opacity .3s,-webkit-transform .3s;transition:opacity .3s,transform .3s,-webkit-transform .3s;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}"],encapsulation:2}),Object(i.b)([(100,function(e,t,n){return{configurable:!0,enumerable:n.enumerable,get:function(){return Object.defineProperty(this,t,{configurable:!0,enumerable:n.enumerable,value:ja(n.value,100,void 0)}),this[t]}}})],e.prototype,"onWindowResize",null),e})(),Na=(()=>{let e=class extends class{constructor(e){this.injectionService=e,this.defaults={},this.components=new Map}getByType(e=this.type){return this.components.get(e)}create(e){return this.createByType(this.type,e)}createByType(e,t){t=this.assignDefaults(t);const n=this.injectComponent(e,t);return this.register(e,n),n}destroy(e){const t=this.components.get(e.componentType);if(t&&t.length){const n=t.indexOf(e);n>-1&&(t[n].destroy(),t.splice(n,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(e){const t=this.components.get(e);if(t&&t.length){let e=t.length-1;for(;e>=0;)this.destroy(t[e--])}}injectComponent(e,t){return this.injectionService.appendComponent(e,t)}assignDefaults(e){const t=Object.assign({},this.defaults.inputs),n=Object.assign({},this.defaults.outputs);return e.inputs||e.outputs||(e={inputs:e}),t&&(e.inputs=Object.assign(Object.assign({},t),e.inputs)),n&&(e.outputs=Object.assign(Object.assign({},n),e.outputs)),e}register(e,t){this.components.has(e)||this.components.set(e,[]),this.components.get(e).push(t)}}{constructor(e){super(e),this.type=Ba}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](Ta))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e})(),Va=(()=>{let e=class{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new r.EventEmitter,this.legendLabelActivate=new r.EventEmitter,this.legendLabelDeactivate=new r.EventEmitter}ngOnChanges(e){this.update()}update(){let e=0;this.showLegend&&(this.legendType=this.getLegendType(),this.legendOptions&&"right"!==this.legendOptions.position||(e="scaleLegend"===this.legendType?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-e)/12),this.legendWidth=this.legendOptions&&"right"!==this.legendOptions.position?this.chartWidth:Math.floor(this.view[0]*e/12)}getLegendType(){return"linear"===this.legendOptions.scaleType?"scaleLegend":"legend"}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-charts-chart"]],inputs:{showLegend:"showLegend",animations:"animations",legendType:"legendType",view:"view",legendOptions:"legendOptions",data:"data",legendData:"legendData",colors:"colors",activeEntries:"activeEntries"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[r["\u0275\u0275ProvidersFeature"]([Na]),r["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:To,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(e,t){1&e&&(r["\u0275\u0275projectionDef"](),r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](1,"svg",1),r["\u0275\u0275projection"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](3,Ao,1,5,"ngx-charts-scale-legend",2),r["\u0275\u0275template"](4,Io,1,7,"ngx-charts-legend",3),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275styleProp"]("width",t.view[0],"px"),r["\u0275\u0275property"]("@animationState","active")("@.disabled",!t.animations),r["\u0275\u0275advance"](1),r["\u0275\u0275attribute"]("width",t.chartWidth)("height",t.view[1]),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.showLegend&&"scaleLegend"===t.legendType),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.showLegend&&"legend"===t.legendType))},directives:function(){return[o.o,hs,us]},encapsulation:2,data:{animation:[Object(a.j)("animationState",[Object(a.i)(":enter",[Object(a.h)({opacity:0}),Object(a.e)("500ms 100ms",Object(a.h)({opacity:1}))])])]},changeDetection:0}),e})(),za=(()=>{let e=class{constructor(e,t){this.element=e,this.zone=t,this.visible=new r.EventEmitter,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const e=()=>{if(!this.element)return;const{offsetHeight:t,offsetWidth:n}=this.element.nativeElement;t&&n?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.NgZone))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),e})(),$a=(()=>{let e=class{constructor(e,t,n){this.chartElement=e,this.zone=t,this.cd=n,this.scheme="cool",this.schemeType="ordinal",this.animations=!0,this.select=new r.EventEmitter}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new za(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(e){this.update()}update(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{const e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,t;const n=this.chartElement.nativeElement;if(null!==n.parentNode){const i=n.parentNode.getBoundingClientRect();e=i.width,t=i.height}return e&&t?{width:e,height:t}:null}formatDates(){for(let e=0;e<this.results.length;e++){const t=this.results[e];if(t.label=t.name,t.label instanceof Date&&(t.label=t.label.toLocaleDateString()),t.series)for(let e=0;e<t.series.length;e++){const n=t.series[e];n.label=n.name,n.label instanceof Date&&(n.label=n.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){const e=Object(l.a)(window,"resize").pipe(Object(c.a)(200)).subscribe(e=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=e}cloneData(e){const t=[];for(const n of e){const e={name:n.name};if(void 0!==n.value&&(e.value=n.value),void 0!==n.series){e.series=[];for(const t of n.series){const n=Object.assign({},t);e.series.push(n)}}void 0!==n.extra&&(e.extra=JSON.parse(JSON.stringify(n.extra))),t.push(e)}return t}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.NgZone),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["base-chart"]],inputs:{scheme:"scheme",schemeType:"schemeType",animations:"animations",results:"results",view:"view",customColors:"customColors"},outputs:{select:"select"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:1,vars:0,template:function(e,t){1&e&&r["\u0275\u0275element"](0,"div")},encapsulation:2}),e})(),Ga=(()=>{let e=class{constructor(e){this.textHeight=25,this.margin=5,this.element=e.nativeElement}ngOnChanges(e){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case"top":case"bottom":this.y=this.offset,this.x=this.width/2;break;case"left":this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case"right":this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:jo,decls:2,vars:6,template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"text"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275attribute"]("stroke-width",t.strokeWidth)("x",t.x)("y",t.y)("text-anchor",t.textAnchor)("transform",t.transform),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",t.label," "))},encapsulation:2,changeDetection:0}),e})();function Ua(e,t=16){return"string"!=typeof e?"number"==typeof e?e+"":"":(e=e.trim()).length<=t?e:`${e.slice(0,t)}...`}function Ha(e,t){if(e.length>t){const n=[],i=Math.floor(e.length/t);for(let t=0;t<e.length;t++)t%i==0&&n.push(e[t]);e=n}return e}let Xa=(()=>{let e=class{constructor(){this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.dimensionsChanged=new r.EventEmitter,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor="middle",this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){const e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);e!==this.height&&(this.height=e,this.dimensionsChanged.emit({height:e}),setTimeout(()=>this.updateDims()))}update(){const e=this.scale;this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:e.tickFormat?e.tickFormat.apply(e,this.tickArguments):function(e){return"Date"===e.constructor.name?e.toLocaleDateString():e.toLocaleString()};const t=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(e){return this.scale(e)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",t&&0!==t?(this.textTransform=`rotate(${t})`,this.textAnchor="end",this.verticalSpacing=10):this.textAnchor="middle",setTimeout(()=>this.updateDims())}getRotationAngle(e){let t=0;this.maxTicksLength=0;for(let o=0;o<e.length;o++){const t=this.tickFormat(e[o]).toString();let n=t.length;this.trimTicks&&(n=this.tickTrim(t).length),n>this.maxTicksLength&&(this.maxTicksLength=n)}const n=8*Math.min(this.maxTicksLength,this.maxAllowedLength);let i=n;const r=Math.floor(this.width/e.length);for(;i>r&&t>-90;)t-=30,i=Math.cos(t*(Math.PI/180))*n;return t}getTicks(){let e;const t=this.getMaxTicks(20),n=this.getMaxTicks(100);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[n]):(e=this.scale.domain(),e=Ha(e,t)),e}getMaxTicks(e){return Math.floor(this.width/e)}tickTransform(e){return"translate("+this.adjustedScale(e)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(e){return this.trimTicks?Ua(e,this.maxTickLength):e}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(e,t){var n;1&e&&r["\u0275\u0275viewQuery"](Lo,!0),2&e&&r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.ticksElement=n.first)},inputs:{tickArguments:"tickArguments",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",showGridLines:"showGridLines",rotateTicks:"rotateTicks",scale:"scale",orient:"orient",tickValues:"tickValues",tickFormatting:"tickFormatting",gridLineHeight:"gridLineHeight",width:"width"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:Do,decls:4,vars:2,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],["stroke-width","0.01"],[4,"ngIf"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",null,0),r["\u0275\u0275template"](2,Fo,5,7,"g",1),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](3,Bo,2,2,"g",2)),2&e&&(r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.ticks),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.ticks))},directives:[o.n,o.o],encapsulation:2,changeDetection:0}),e})(),Ya=(()=>{let e=class{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient="bottom",this.xAxisOffset=0,this.dimensionsChanged=new r.EventEmitter,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5}ngOnChanges(e){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,void 0!==this.xAxisTickCount&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:e}){const t=e+25+5;t!==this.labelOffset&&(this.labelOffset=t,setTimeout(()=>{this.dimensionsChanged.emit({height:e})},0))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(e,t){var n;1&e&&r["\u0275\u0275viewQuery"](Xa,!0),2&e&&r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.ticksComponent=n.first)},inputs:{rotateTicks:"rotateTicks",showGridLines:"showGridLines",xOrient:"xOrient",xAxisOffset:"xAxisOffset",xScale:"xScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickInterval:"xAxisTickInterval",xAxisTickCount:"xAxisTickCount"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:No,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275template"](1,Vo,1,12,"g",0),r["\u0275\u0275template"](2,zo,1,5,"g",1),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275attribute"]("class",t.xAxisClassName)("transform",t.transform),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.xScale),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.showLabel))},directives:[o.o,Xa,Ga],encapsulation:2,changeDetection:0}),e})();function Wa(e,t,n,i,r,[o,a,s,l]){let c="";return c=`M${[e+r,t]}`,c+=`h${(n=0===(n=Math.floor(n))?1:n)-2*r}`,c+=a?`a${[r,r]} 0 0 1 ${[r,r]}`:`h${r}v${r}`,c+=`v${(i=0===(i=Math.floor(i))?1:i)-2*r}`,c+=l?`a${[r,r]} 0 0 1 ${[-r,r]}`:`v${r}h${-r}`,c+=`h${2*r-n}`,c+=s?`a${[r,r]} 0 0 1 ${[-r,-r]}`:`h${-r}v${-r}`,c+=`v${2*r-i}`,c+=o?`a${[r,r]} 0 0 1 ${[r,-r]}`:`v${-r}h${r}`,c+="z",c}let qa=(()=>{let e=class{constructor(){this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.dimensionsChanged=new r.EventEmitter,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor="middle",this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){const e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);e!==this.width&&(this.width=e,this.dimensionsChanged.emit({width:e}),setTimeout(()=>this.updateDims()))}update(){let e;const t="top"===this.orient||"right"===this.orient?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,e=this.scale,this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:e.tickFormat?e.tickFormat.apply(e,this.tickArguments):function(e){return"Date"===e.constructor.name?e.toLocaleDateString():e.toLocaleString()},this.adjustedScale=e.bandwidth?function(t){return e(t)+.5*e.bandwidth()}:e,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case"top":case"bottom":this.transform=function(e){return"translate("+this.adjustedScale(e)+",0)"},this.textAnchor="middle",this.y2=this.innerTickSize*t,this.y1=this.tickSpacing*t,this.dy=t<0?"0em":".71em";break;case"left":this.transform=function(e){return"translate(0,"+this.adjustedScale(e)+")"},this.textAnchor="end",this.x2=this.innerTickSize*-t,this.x1=this.tickSpacing*-t,this.dy=".32em";break;case"right":this.transform=function(e){return"translate(0,"+this.adjustedScale(e)+")"},this.textAnchor="start",this.x2=this.innerTickSize*-t,this.x1=this.tickSpacing*-t,this.dy=".32em"}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(e=>e.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(e=>e.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=Wa(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let e;const t=this.getMaxTicks(20),n=this.getMaxTicks(50);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[n]):(e=this.scale.domain(),e=Ha(e,t)),e}getMaxTicks(e){return Math.floor(this.height/e)}tickTransform(e){return`translate(${this.adjustedScale(e)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(e){return this.trimTicks?Ua(e,this.maxTickLength):e}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(e,t){var n;1&e&&r["\u0275\u0275viewQuery"](Lo,!0),2&e&&r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.ticksElement=n.first)},inputs:{tickArguments:"tickArguments",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",showGridLines:"showGridLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",scale:"scale",orient:"orient",tickValues:"tickValues",tickFormatting:"tickFormatting",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:$o,decls:6,vars:4,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],["stroke-width","0.01"],[1,"reference-area"],[4,"ngIf"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",null,0),r["\u0275\u0275template"](2,Go,5,9,"g",1),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](3,Uo,1,2,"path",2),r["\u0275\u0275template"](4,Wo,2,2,"g",3),r["\u0275\u0275template"](5,Jo,2,1,"g",3)),2&e&&(r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.ticks),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.referenceLineLength>1&&t.refMax&&t.refMin&&t.showRefLines),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.ticks),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.referenceLines))},directives:[o.n,o.o],encapsulation:2,changeDetection:0}),e})(),Ka=(()=>{let e=class{constructor(){this.showGridLines=!1,this.yOrient="left",this.yAxisOffset=0,this.dimensionsChanged=new r.EventEmitter,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(e){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),"right"===this.yOrient?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):(this.offset=this.offset,this.transform=`translate(${this.offset} , 0)`),void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:e}){e!==this.labelOffset&&"right"===this.yOrient?(this.labelOffset=e+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0)):e!==this.labelOffset&&(this.labelOffset=e,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(e,t){var n;1&e&&r["\u0275\u0275viewQuery"](qa,!0),2&e&&r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.ticksComponent=n.first)},inputs:{showGridLines:"showGridLines",yOrient:"yOrient",yAxisOffset:"yAxisOffset",yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showLabel:"showLabel",labelText:"labelText",yAxisTickInterval:"yAxisTickInterval",yAxisTickCount:"yAxisTickCount",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:Qo,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275template"](1,Zo,1,14,"g",0),r["\u0275\u0275template"](2,ea,1,5,"g",1),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275attribute"]("class",t.yAxisClassName)("transform",t.transform),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.yScale),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.showLabel))},directives:[o.o,qa,Ga],encapsulation:2,changeDetection:0}),e})(),Ja=(()=>{let e=class{};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c]]}),e})();var Qa=function(e){return e[e.popover="popover"]="popover",e[e.tooltip="tooltip"]="tooltip",e}({}),Za=function(e){return e[e.left="left"]="left",e[e.center="center"]="center",e[e.right="right"]="right",e}({}),es=function(e){return e[e.all="all"]="all",e[e.focus="focus"]="focus",e[e.mouseover="mouseover"]="mouseover",e}({});let ts=(()=>{let e=class{constructor(e,t,n){this.tooltipService=e,this.viewContainerRef=t,this.renderer=n,this.tooltipCssClass="",this.tooltipTitle="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=La.top,this.tooltipAlignment=Za.center,this.tooltipType=Qa.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=es.all,this.tooltipImmediateExit=!1,this.show=new r.EventEmitter,this.hide=new r.EventEmitter}get listensForFocus(){return this.tooltipShowEvent===es.all||this.tooltipShowEvent===es.focus}get listensForHover(){return this.tooltipShowEvent===es.all||this.tooltipShowEvent===es.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(e))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(e){if(this.component||this.tooltipDisabled)return;const t=e?0:this.tooltipShowTimeout;clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const e=this.createBoundOptions();this.component=this.tooltipService.create(e),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},t)}addHideListeners(e){this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen(document,"click",t=>{e.contains(t.target)||this.hideTooltip()}))}hideTooltip(e=!1){if(!this.component)return;const t=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),e?t():this.timeout=setTimeout(t,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](Na),r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.Renderer2))},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","ngx-tooltip",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("focusin",(function(){return t.onFocus()}))("blur",(function(){return t.onBlur()}))("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(e){return t.onMouseLeave(e.target)}))("click",(function(){return t.onMouseClick()}))},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipShowEvent:"tooltipShowEvent",tooltipImmediateExit:"tooltipImmediateExit",tooltipTemplate:"tooltipTemplate",tooltipContext:"tooltipContext"},outputs:{show:"show",hide:"hide"}}),e})(),ns=(()=>{let e=class{};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[Ta,Na],imports:[[o.c]]}),e})();function is(e){return e instanceof Date?e.toLocaleDateString():e.toLocaleString()}function rs(e){return e.toLocaleString().replace(/[&'`"<>]/g,e=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[e]))}const os={};function as(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,os[e]?as():(os[e]=!0,e)}let ss,ls=(()=>{let e=class{constructor(){this.orientation="vertical"}ngOnChanges(e){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%","horizontal"===this.orientation?this.x2="100%":"vertical"===this.orientation&&(this.y1="100%")}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:ta,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"linearGradient",0),r["\u0275\u0275template"](1,na,1,5,"stop",1),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("id",t.name),r["\u0275\u0275attribute"]("x1",t.x1)("y1",t.y1)("x2",t.x2)("y2",t.y2),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.stops))},directives:[o.n],encapsulation:2,changeDetection:0}),e})(),cs=(()=>{let e=class{constructor(){this.endOpacity=1,this.cx=0,this.cy=0}get stops(){return this.stopsInput||this.stopsDefault}set stops(e){this.stopsInput=e}ngOnChanges(e){this.r="30%",("color"in e||"startOpacity"in e||"endOpacity"in e)&&(this.stopsDefault=[{offset:0,color:this.color,opacity:this.startOpacity},{offset:100,color:this.color,opacity:this.endOpacity}])}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["g","ngx-charts-svg-radial-gradient",""]],inputs:{endOpacity:"endOpacity",cx:"cx",cy:"cy",stops:"stops",color:"color",name:"name",startOpacity:"startOpacity"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:ia,decls:2,vars:5,consts:[["gradientUnits","userSpaceOnUse",3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"radialGradient",0),r["\u0275\u0275template"](1,ra,1,5,"stop",1),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("id",t.name),r["\u0275\u0275attribute"]("cx",t.cx)("cy",t.cy)("r",t.r),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.stops))},directives:[o.n],encapsulation:2,changeDetection:0}),e})();"undefined"!=typeof window?ss=window:"undefined"!=typeof global&&(ss=global);let us=(()=>{let e=class{constructor(e){this.cd=e,this.horizontal=!1,this.labelClick=new r.EventEmitter,this.labelActivate=new r.EventEmitter,this.labelDeactivate=new r.EventEmitter,this.legendEntries=[]}ngOnChanges(e){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const e=[];for(const t of this.data){const n=is(t);-1===e.findIndex(e=>e.label===n)&&e.push({label:t,formattedLabel:n,color:this.colors.getColor(t)})}return e}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(t=>e.label===t.name)}activate(e){this.labelActivate.emit(e)}deactivate(e){this.labelDeactivate.emit(e)}trackBy(e,t){return t.label}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ChangeDetectorRef))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-charts-legend"]],inputs:{horizontal:"horizontal",data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275template"](1,oa,3,1,"header",0),r["\u0275\u0275elementStart"](2,"div",1),r["\u0275\u0275elementStart"](3,"ul",2),r["\u0275\u0275template"](4,aa,2,4,"li",3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275styleProp"]("width",t.width,"px"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",(null==t.title?null:t.title.length)>0),r["\u0275\u0275advance"](2),r["\u0275\u0275styleProp"]("max-height",t.height-45,"px"),r["\u0275\u0275classProp"]("horizontal-legend",t.horizontal),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.legendEntries)("ngForTrackBy",t.trackBy))},directives:function(){return[o.o,o.n,ds]},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend li,.chart-legend ul{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;-webkit-transition:.2s;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),e})(),ds=(()=>{let e=class{constructor(){this.isActive=!1,this.select=new r.EventEmitter,this.activate=new r.EventEmitter,this.deactivate=new r.EventEmitter,this.toggle=new r.EventEmitter}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()}))},inputs:{isActive:"isActive",color:"color",label:"label",formattedLabel:"formattedLabel"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span",0),r["\u0275\u0275listener"]("click",(function(){return t.select.emit(t.formattedLabel)})),r["\u0275\u0275elementStart"](1,"span",1),r["\u0275\u0275listener"]("click",(function(){return t.toggle.emit(t.formattedLabel)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](2,"span",2),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275classProp"]("active",t.isActive),r["\u0275\u0275property"]("title",t.formattedLabel),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("background-color",t.color),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",t.trimmedLabel," "))},encapsulation:2,changeDetection:0}),e})(),hs=(()=>{let e=class{constructor(e){this.sanitizer=e,this.horizontal=!1}ngOnChanges(e){const t=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=this.sanitizer.bypassSecurityTrustStyle(`linear-gradient(to ${this.horizontal?"right":"bottom"}, ${t})`)}gradientString(e,t){t.push(1);const n=[];return e.reverse().forEach((e,i)=>{n.push(`${e} ${Math.round(100*t[i])}%`)}),n.join(", ")}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](Co.b))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-charts-scale-legend"]],inputs:{horizontal:"horizontal",valueRange:"valueRange",colors:"colors",height:"height",width:"width"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"span"),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](4,"div",2),r["\u0275\u0275elementStart"](5,"div",1),r["\u0275\u0275elementStart"](6,"span"),r["\u0275\u0275text"](7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275styleProp"]("height",t.horizontal?void 0:t.height,"px")("width",t.width,"px"),r["\u0275\u0275classProp"]("horizontal-legend",t.horizontal),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](t.valueRange[1].toLocaleString()),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("background",t.gradient,r["\u0275\u0275defaultStyleSanitizer"]),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](t.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;-webkit-box-flex:1;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}"],encapsulation:2,changeDetection:0}),e})(),ps=(()=>{let e=class{};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,Ja,ns],o.c,Ja,ns]}),e})();function ms({width:e,height:t,margins:n,showXAxis:i=!1,showYAxis:r=!1,xAxisHeight:o=0,yAxisWidth:a=0,showXLabel:s=!1,showYLabel:l=!1,showLegend:c=!1,legendType:u="ordinal",legendPosition:d="right",columns:h=12}){let p=n[3],m=e,g=t-n[0]-n[2];if(c&&"right"===d&&(h-="ordinal"===u?2:1),m=m*h/12,m=m-n[1]-n[3],i&&(g-=5,g-=o,s)&&(g-=30),r&&(m-=5,m-=a,p+=a,p+=10,l)){const e=30;m-=e,p+=e}return m=Math.max(0,m),g=Math.max(0,g),{width:Math.floor(m),height:Math.floor(g),xOffset:Math.floor(p)}}let gs=[{name:"vivid",selectable:!0,group:"Ordinal",domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:"Ordinal",domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:"Ordinal",domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:"Ordinal",domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:"Continuous",domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:"Continuous",domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:"Continuous",domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:"Ordinal",domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:"Ordinal",domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:"Ordinal",domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:"Ordinal",domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:"Ordinal",domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:"Ordinal",domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:"Ordinal",domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:"Ordinal",domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class fs{constructor(e,t,n,i){"string"==typeof e&&(e=gs.find(t=>t.name===e)),this.colorDomain=e.domain,this.scaleType=t,this.domain=n,this.customColors=i,this.scale=this.generateColorScheme(e,t,this.domain)}generateColorScheme(e,t,n){let i;if("string"==typeof e&&(e=gs.find(t=>t.name===e)),"quantile"===t)i=function e(){var t,n=[],i=[],r=[];function o(){var e=0,t=Math.max(1,i.length);for(r=new Array(t-1);++e<t;)r[e-1]=jr(n,e/t);return a}function a(e){return isNaN(e=+e)?t:i[nr(r,e)]}return a.invertExtent=function(e){var t=i.indexOf(e);return t<0?[NaN,NaN]:[t>0?r[t-1]:n[0],t<r.length?r[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(In),o()},a.range=function(e){return arguments.length?(i=Array.from(e),o()):i.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return r.slice()},a.copy=function(){return e().domain(n).range(i).unknown(t)},hr.apply(a,arguments)}().range(e.domain).domain(n);else if("ordinal"===t)i=Ir().range(e.domain).domain(n);else if("linear"===t){const t=[...e.domain];1===t.length&&(t.push(t[0]),this.colorDomain=t);const n=Mr(0,1,1/t.length);i=kr().domain(n).range(t)}return i}getColor(e){if(null==e)throw new Error("Value can not be null");if("linear"===this.scaleType){const t=kr().domain(this.domain).range([0,1]);return this.scale(t(e))}{if("function"==typeof this.customColors)return this.customColors(e);const t=e.toString();let n;return this.customColors&&this.customColors.length>0&&(n=this.customColors.find(e=>e.name.toLowerCase()===t.toLowerCase())),n?n.value:this.scale(e)}}getLinearGradientStops(e,t){void 0===t&&(t=this.domain[0]);const n=kr().domain(this.domain).range([0,1]),i=Tr().domain(this.colorDomain).range([0,1]),r=this.getColor(e),o=n(t),a=this.getColor(t),s=n(e);let l=1,c=o;const u=[];for(u.push({color:a,offset:o,originalOffset:o,opacity:1});c<s&&l<this.colorDomain.length;){const e=this.colorDomain[l],t=i(e);if(t<=o)l++;else{if(t.toFixed(4)>=(s-i.bandwidth()).toFixed(4))break;u.push({color:e,offset:t,opacity:1}),c=t,l++}}if(u[u.length-1].offset<100&&u.push({color:r,offset:s,opacity:1}),s===o)u[0].offset=0,u[1].offset=100;else if(100!==u[u.length-1].offset)for(const d of u)d.offset=(d.offset-o)/(s-o)*100;return u}}let bs=(()=>{let e=class{};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[ps]]}),e})(),vs=(()=>{let e=class{constructor(e){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new r.EventEmitter,this.activate=new r.EventEmitter,this.deactivate=new r.EventEmitter,this.hasGradient=!1,this.hideBar=!1,this.element=e.nativeElement}ngOnChanges(e){e.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+as().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){const e=ye(this.element).select(".bar"),t=this.getPath();this.animations?e.transition().duration(500).attr("d",t):e.attr("d",t)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let e,t=this.getRadius();return this.roundEdges?"vertical"===this.orientation?(t=Math.min(this.height,t),e=Wa(this.x,this.y+this.height,this.width,1,0,this.edges)):"horizontal"===this.orientation&&(t=Math.min(this.width,t),e=Wa(this.x,this.y,1,this.height,0,this.edges)):"vertical"===this.orientation?e=Wa(this.x,this.y+this.height,this.width,1,0,this.edges):"horizontal"===this.orientation&&(e=Wa(this.x,this.y,1,this.height,0,this.edges)),e}getPath(){let e,t=this.getRadius();return this.roundEdges?"vertical"===this.orientation?(t=Math.min(this.height,t),e=Wa(this.x,this.y,this.width,this.height,t,this.edges)):"horizontal"===this.orientation&&(t=Math.min(this.width,t),e=Wa(this.x,this.y,this.width,this.height,t,this.edges)):e=Wa(this.x,this.y,this.width,this.height,t,this.edges),e}getRadius(){let e=0;return this.roundEdges&&this.height>5&&this.width>5&&(e=Math.floor(Math.min(5,this.height/2,this.width/2))),e}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let e=[!1,!1,!1,!1];return this.roundEdges&&("vertical"===this.orientation?e=this.data.value>0?[!0,!0,!1,!1]:[!1,!1,!0,!0]:"horizontal"===this.orientation&&(e=this.data.value>0?[!1,!0,!1,!0]:[!0,!1,!0,!1])),e}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&("vertical"===this.orientation&&0===this.height||"horizontal"===this.orientation&&0===this.width)}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()}))},inputs:{roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",animations:"animations",noBarWhenZero:"noBarWhenZero",fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",stops:"stops",ariaLabel:"ariaLabel"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:ca,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,ua,2,3,"defs",0),r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](1,"path",1),r["\u0275\u0275listener"]("click",(function(){return t.select.emit(t.data)})),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("ngIf",t.hasGradient),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("active",t.isActive)("hidden",t.hideBar),r["\u0275\u0275attribute"]("d",t.path)("aria-label",t.ariaLabel)("fill",t.hasGradient?t.gradientFill:t.fill))},directives:[o.o,ls],encapsulation:2,changeDetection:0}),e})(),xs=(()=>{let e=class extends $a{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition="right",this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.noBarWhenZero=!0,this.activate=new r.EventEmitter,this.deactivate=new r.EventEmitter,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0}update(){super.update(),this.dims=ms({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.groupDomain=this.getGroupDomain(),this.innerDomain=this.getInnerDomain(),this.valueDomain=this.getValueDomain(),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`}getGroupDomain(){const e=[];for(const t of this.results)e.includes(t.label)||e.push(t.label);return e}getInnerDomain(){const e=[];for(const t of this.results)for(const n of t.series)e.includes(n.label)||e.push(n.label);return e}getValueDomain(){return[0,100]}getYScale(){const e=this.groupDomain.length/(this.dims.height/this.barPadding+1);return Tr().rangeRound([0,this.dims.height]).paddingInner(e).domain(this.groupDomain)}getXScale(){const e=kr().range([0,this.dims.width]).domain(this.valueDomain);return this.roundDomains?e.nice():e}groupTransform(e){return`translate(0, ${this.yScale(e.name)})`}onClick(e,t){t&&(e.series=t.name),this.select.emit(e)}trackBy(e,t){return t.name}setColors(){let e;e="ordinal"===this.schemeType?this.innerDomain:this.valueDomain,this.colors=new fs(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.innerDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.valueDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onActivate(e,t,n=!1){const i=Object.assign({},e);t&&(i.series=t.name);const r=this.results.map(e=>e.series).flat().filter(e=>n?e.label===i.name:e.name===i.name&&e.series===i.series);this.activeEntries=[...r],this.activate.emit({value:i,entries:this.activeEntries})}onDeactivate(e,t,n=!1){const i=Object.assign({},e);t&&(i.series=t.name),this.activeEntries=this.activeEntries.filter(e=>n?e.label!==i.name:!(e.name===i.name&&e.series===i.series)),this.deactivate.emit({value:i,entries:this.activeEntries})}};return e.\u0275fac=function(t){return Ns(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-charts-bar-horizontal-normalized"]],contentQueries:function(e,t,n){var i;1&e&&r["\u0275\u0275contentQuery"](n,sa,!0),2&e&&r["\u0275\u0275queryRefresh"](i=r["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=i.first)},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",tooltipDisabled:"tooltipDisabled",showGridLines:"showGridLines",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",barPadding:"barPadding",roundDomains:"roundDomains",noBarWhenZero:"noBarWhenZero",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:13,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelActivate","legendLabelDeactivate","legendLabelClick"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-series-horizontal","","type","normalized",3,"xScale","yScale","activeEntries","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","seriesName","animations","noBarWhenZero","select","activate","deactivate"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),r["\u0275\u0275listener"]("legendLabelActivate",(function(e){return t.onActivate(e,void 0,!0)}))("legendLabelDeactivate",(function(e){return t.onDeactivate(e,void 0,!0)}))("legendLabelClick",(function(e){return t.onClick(e)})),r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](1,"g",1),r["\u0275\u0275template"](2,da,1,10,"g",2),r["\u0275\u0275template"](3,ha,1,8,"g",3),r["\u0275\u0275template"](4,pa,2,14,"g",4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("view",r["\u0275\u0275pureFunction2"](10,la,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),r["\u0275\u0275advance"](1),r["\u0275\u0275attribute"]("transform",t.transform),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.xAxis),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.yAxis),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.results)("ngForTrackBy",t.trackBy))},directives:function(){return[Va,o.o,o.n,Ya,Ka,ws]},styles:[".ngx-charts{float:left;overflow:visible}.ngx-charts .arc,.ngx-charts .bar,.ngx-charts .circle{cursor:pointer}.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .card.active,.ngx-charts .card:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover{opacity:.8;-webkit-transition:opacity .1s ease-in-out;transition:opacity .1s ease-in-out}.ngx-charts .arc:focus,.ngx-charts .bar:focus,.ngx-charts .card:focus,.ngx-charts .cell:focus{outline:0}.ngx-charts .arc.hidden,.ngx-charts .bar.hidden,.ngx-charts .card.hidden,.ngx-charts .cell.hidden{display:none}.ngx-charts g:focus{outline:0}.ngx-charts .area-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .line-series.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .polar-series-path.inactive{-webkit-transition:opacity .1s ease-in-out;transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:rgba(0,0,0,.05)}"],encapsulation:2,data:{animation:[Object(a.j)("animationState",[Object(a.i)(":leave",[Object(a.h)({opacity:1,transform:"*"}),Object(a.e)(500,Object(a.h)({opacity:0,transform:"scale(0)"}))])])]},changeDetection:0}),e})(),ys=(()=>{let e=class extends $a{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition="right",this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.activate=new r.EventEmitter,this.deactivate=new r.EventEmitter,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxHeight={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=ms({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]+this.dataLabelMaxHeight.negative})`}getXScale(){this.xDomain=this.getXDomain();const e=this.xDomain.length/(this.dims.width/this.barPadding+1);return Tr().range([0,this.dims.width]).paddingInner(e).domain(this.xDomain)}getYScale(){this.yDomain=this.getYDomain();const e=kr().range([this.dims.height,0]).domain(this.yDomain);return this.roundDomains?e.nice():e}getXDomain(){return this.results.map(e=>e.label)}getYDomain(){const e=this.results.map(e=>e.value);let t=this.yScaleMin?Math.min(this.yScaleMin,...e):Math.min(0,...e);this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(t=Math.min(t,...this.yAxisTicks));let n=this.yScaleMax?Math.max(this.yScaleMax,...e):Math.max(0,...e);return this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(n=Math.max(n,...this.yAxisTicks)),[t,n]}onClick(e){this.select.emit(e)}setColors(){let e;e="ordinal"===this.schemeType?this.xDomain:this.yDomain,this.colors=new fs(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.xDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.yDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onDataLabelMaxHeightChanged(e){e.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,e.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,e.size.height),e.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(e,t=!1){e=this.results.find(n=>t?n.label===e.name:n.name===e.name),this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value&&t.series===e.series)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e,t=!1){e=this.results.find(n=>t?n.label===e.name:n.name===e.name);const n=this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value&&t.series===e.series);this.activeEntries.splice(n,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}};return e.\u0275fac=function(t){return Vs(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-charts-bar-vertical"]],contentQueries:function(e,t,n){var i;1&e&&r["\u0275\u0275contentQuery"](n,sa,!0),2&e&&r["\u0275\u0275queryRefresh"](i=r["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=i.first)},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",tooltipDisabled:"tooltipDisabled",showGridLines:"showGridLines",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",yScaleMax:"yScaleMax",yScaleMin:"yScaleMin",dataLabelFormatting:"dataLabelFormatting"},outputs:{activate:"activate",deactivate:"deactivate"},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:25,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-series-vertical","",3,"xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","activeEntries","roundEdges","animations","noBarWhenZero","activate","deactivate","select","dataLabelHeightChanged"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),r["\u0275\u0275listener"]("legendLabelClick",(function(e){return t.onClick(e)}))("legendLabelActivate",(function(e){return t.onActivate(e,!0)}))("legendLabelDeactivate",(function(e){return t.onDeactivate(e,!0)})),r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](1,"g",1),r["\u0275\u0275template"](2,ma,1,10,"g",2),r["\u0275\u0275template"](3,ga,1,9,"g",3),r["\u0275\u0275elementStart"](4,"g",4),r["\u0275\u0275listener"]("activate",(function(e){return t.onActivate(e)}))("deactivate",(function(e){return t.onDeactivate(e)}))("select",(function(e){return t.onClick(e)}))("dataLabelHeightChanged",(function(e){return t.onDataLabelMaxHeightChanged(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("view",r["\u0275\u0275pureFunction2"](22,la,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),r["\u0275\u0275advance"](1),r["\u0275\u0275attribute"]("transform",t.transform),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.xAxis),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.yAxis),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("xScale",t.xScale)("yScale",t.yScale)("colors",t.colors)("series",t.results)("dims",t.dims)("gradient",t.gradient)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.tooltipTemplate)("showDataLabel",t.showDataLabel)("dataLabelFormatting",t.dataLabelFormatting)("activeEntries",t.activeEntries)("roundEdges",t.roundEdges)("animations",t.animations)("noBarWhenZero",t.noBarWhenZero))},directives:function(){return[Va,o.o,Es,Ya,Ka]},styles:[".ngx-charts{float:left;overflow:visible}.ngx-charts .arc,.ngx-charts .bar,.ngx-charts .circle{cursor:pointer}.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .card.active,.ngx-charts .card:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover{opacity:.8;-webkit-transition:opacity .1s ease-in-out;transition:opacity .1s ease-in-out}.ngx-charts .arc:focus,.ngx-charts .bar:focus,.ngx-charts .card:focus,.ngx-charts .cell:focus{outline:0}.ngx-charts .arc.hidden,.ngx-charts .bar.hidden,.ngx-charts .card.hidden,.ngx-charts .cell.hidden{display:none}.ngx-charts g:focus{outline:0}.ngx-charts .area-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .line-series.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .polar-series-path.inactive{-webkit-transition:opacity .1s ease-in-out;transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:rgba(0,0,0,.05)}"],encapsulation:2,changeDetection:0}),e})();var Ss=function(e){return e.positive="positive",e.negative="negative",e}({});let Es=(()=>{let e=class{constructor(){this.type="standard",this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new r.EventEmitter,this.activate=new r.EventEmitter,this.deactivate=new r.EventEmitter,this.dataLabelHeightChanged=new r.EventEmitter,this.barsForDataLabels=[]}ngOnChanges(e){this.update()}update(){let e;this.updateTooltipSettings(),this.series.length&&(e=this.xScale.bandwidth()),e=Math.round(e);const t=Math.max(this.yScale.domain()[0],0),n={[Ss.positive]:0,[Ss.negative]:0};let i,r=Ss.positive;"normalized"===this.type&&(i=this.series.map(e=>e.value).reduce((e,t)=>e+t,0)),this.bars=this.series.map((o,a)=>{let s=o.value;const l=this.getLabel(o),c=is(l);r=s>0?Ss.positive:Ss.negative;const u={value:s,label:l,roundEdges:this.roundEdges,data:o,width:e,formattedLabel:c,height:0,x:0,y:0};if("standard"===this.type)u.height=Math.abs(this.yScale(s)-this.yScale(t)),u.x=this.xScale(l),u.y=this.yScale(s<0?0:s);else if("stacked"===this.type){const e=n[r],t=e+s;n[r]+=s,u.height=this.yScale(e)-this.yScale(t),u.x=0,u.y=this.yScale(t),u.offset0=e,u.offset1=t}else if("normalized"===this.type){let e=n[r],t=e+s;n[r]+=s,i>0?(e=100*e/i,t=100*t/i):(e=0,t=0),u.height=this.yScale(e)-this.yScale(t),u.x=0,u.y=this.yScale(t),u.offset0=e,u.offset1=t,s=(t-e).toFixed(2)+"%"}"ordinal"===this.colors.scaleType?u.color=this.colors.getColor(l):"standard"===this.type?(u.color=this.colors.getColor(s),u.gradientStops=this.colors.getLinearGradientStops(s)):(u.color=this.colors.getColor(u.offset1),u.gradientStops=this.colors.getLinearGradientStops(u.offset1,u.offset0));let d=c;return u.ariaLabel=c+" "+s.toLocaleString(),this.seriesName&&(d=`${this.seriesName} \u2022 ${c}`,u.data.series=this.seriesName,u.ariaLabel=this.seriesName+" "+u.ariaLabel),u.tooltipText=this.tooltipDisabled?void 0:`\n        <span class="tooltip-label">${rs(d)}</span>\n        <span class="tooltip-val">${s.toLocaleString()}</span>\n      `,u}),this.updateDataLabels()}updateDataLabels(){if("stacked"===this.type){this.barsForDataLabels=[];const e={};e.series=this.seriesName;const t=this.series.map(e=>e.value).reduce((e,t)=>t>0?e+t:e,0),n=this.series.map(e=>e.value).reduce((e,t)=>t<0?e+t:e,0);e.total=t+n,e.x=0,e.y=0,e.height=this.yScale(e.total>0?t:n),e.width=this.xScale.bandwidth(),this.barsForDataLabels.push(e)}else this.barsForDataLabels=this.series.map(e=>{const t={};return t.series=this.seriesName?this.seriesName:e.label,t.total=e.value,t.x=this.xScale(e.label),t.y=this.yScale(0),t.height=this.yScale(t.total)-this.yScale(0),t.width=this.xScale.bandwidth(),t})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:"top",this.tooltipType=this.tooltipDisabled?void 0:"tooltip"}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(t=>e.name===t.name&&e.series===t.series)}onClick(e){this.select.emit(e)}getLabel(e){return e.label?e.label:e.name}trackBy(e,t){return t.label}trackDataLabelBy(e,t){return e+"#"+t.series+"#"+t.total}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["g","ngx-charts-series-vertical",""]],inputs:{type:"type",tooltipDisabled:"tooltipDisabled",animations:"animations",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",dims:"dims",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",dataLabelFormatting:"dataLabelFormatting"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelHeightChanged:"dataLabelHeightChanged"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:fa,decls:2,vars:3,consts:[["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,ba,1,22,"g",0),r["\u0275\u0275template"](1,xa,2,2,"g",1)),2&e&&(r["\u0275\u0275property"]("ngForOf",t.bars)("ngForTrackBy",t.trackBy),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.showDataLabel))},directives:function(){return[o.n,o.o,vs,ts,Cs]},encapsulation:2,data:{animation:[Object(a.j)("animationState",[Object(a.i)(":leave",[Object(a.h)({opacity:1}),Object(a.e)(500,Object(a.h)({opacity:0}))])])]},changeDetection:0}),e})(),ws=(()=>{let e=class{constructor(){this.barsForDataLabels=[],this.type="standard",this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new r.EventEmitter,this.activate=new r.EventEmitter,this.deactivate=new r.EventEmitter,this.dataLabelWidthChanged=new r.EventEmitter}ngOnChanges(e){this.update()}update(){this.updateTooltipSettings();const e={[Ss.positive]:0,[Ss.negative]:0};let t,n;t=Ss.positive,"normalized"===this.type&&(n=this.series.map(e=>e.value).reduce((e,t)=>e+t,0));const i=Math.max(this.xScale.domain()[0],0);this.bars=this.series.map((r,o)=>{let a=r.value;const s=this.getLabel(r),l=is(s);t=a>0?Ss.positive:Ss.negative;const c={value:a,label:s,roundEdges:this.roundEdges,data:r,formattedLabel:l};if(c.height=this.yScale.bandwidth(),"standard"===this.type)c.width=Math.abs(this.xScale(a)-this.xScale(i)),c.x=this.xScale(a<0?a:i),c.y=this.yScale(s);else if("stacked"===this.type){const n=e[t],i=n+a;e[t]+=a,c.width=this.xScale(i)-this.xScale(n),c.x=this.xScale(n),c.y=0,c.offset0=n,c.offset1=i}else if("normalized"===this.type){let i=e[t],r=i+a;e[t]+=a,n>0?(i=100*i/n,r=100*r/n):(i=0,r=0),c.width=this.xScale(r)-this.xScale(i),c.x=this.xScale(i),c.y=0,c.offset0=i,c.offset1=r,a=(r-i).toFixed(2)+"%"}"ordinal"===this.colors.scaleType?c.color=this.colors.getColor(s):"standard"===this.type?(c.color=this.colors.getColor(a),c.gradientStops=this.colors.getLinearGradientStops(a)):(c.color=this.colors.getColor(c.offset1),c.gradientStops=this.colors.getLinearGradientStops(c.offset1,c.offset0));let u=l;return c.ariaLabel=l+" "+a.toLocaleString(),this.seriesName&&(u=`${this.seriesName} \u2022 ${l}`,c.data.series=this.seriesName,c.ariaLabel=this.seriesName+" "+c.ariaLabel),c.tooltipText=this.tooltipDisabled?void 0:`\n        <span class="tooltip-label">${rs(u)}</span>\n        <span class="tooltip-val">${a.toLocaleString()}</span>\n      `,c}),this.updateDataLabels()}updateDataLabels(){if("stacked"===this.type){this.barsForDataLabels=[];const e={};e.series=this.seriesName;const t=this.series.map(e=>e.value).reduce((e,t)=>t>0?e+t:e,0),n=this.series.map(e=>e.value).reduce((e,t)=>t<0?e+t:e,0);e.total=t+n,e.x=0,e.y=0,e.width=this.xScale(e.total>0?t:n),e.height=this.yScale.bandwidth(),this.barsForDataLabels.push(e)}else this.barsForDataLabels=this.series.map(e=>{const t={};return t.series=this.seriesName?this.seriesName:e.label,t.total=e.value,t.x=this.xScale(0),t.y=this.yScale(e.label),t.width=this.xScale(t.total)-this.xScale(0),t.height=this.yScale.bandwidth(),t})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:"top",this.tooltipType=this.tooltipDisabled?void 0:"tooltip"}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(t=>e.name===t.name&&e.series===t.series)}getLabel(e){return e.label?e.label:e.name}trackBy(e,t){return t.label}trackDataLabelBy(e,t){return e+"#"+t.series+"#"+t.total}click(e){this.select.emit(e)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["g","ngx-charts-series-horizontal",""]],inputs:{type:"type",tooltipDisabled:"tooltipDisabled",animations:"animations",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",dims:"dims",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",dataLabelFormatting:"dataLabelFormatting"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelWidthChanged:"dataLabelWidthChanged"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:ya,decls:2,vars:3,consts:[["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","ariaLabel","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","ariaLabel","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","select","activate","deactivate"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,Sa,1,21,"g",0),r["\u0275\u0275template"](1,wa,2,2,"g",1)),2&e&&(r["\u0275\u0275property"]("ngForOf",t.bars)("ngForTrackBy",t.trackBy),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.showDataLabel))},directives:function(){return[o.n,o.o,vs,ts,Cs]},encapsulation:2,data:{animation:[Object(a.j)("animationState",[Object(a.i)(":leave",[Object(a.h)({opacity:1}),Object(a.e)(500,Object(a.h)({opacity:0}))])])]},changeDetection:0}),e})(),Cs=(()=>{let e=class{constructor(e){this.dimensionsChanged=new r.EventEmitter,this.horizontalPadding=2,this.verticalPadding=5,this.element=e.nativeElement}ngOnChanges(e){this.update()}getSize(){return{height:this.element.getBoundingClientRect().height,width:this.element.getBoundingClientRect().width,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.formatedValue=this.valueFormatting?this.valueFormatting(this.value):is(this.value),"horizontal"===this.orientation?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:Ca,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"text",0),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275attribute"]("text-anchor",t.textAnchor)("transform",t.transform)("x",t.x)("y",t.y),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",t.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0}),e})(),_s=(()=>{let e=class{};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[ps]]}),e})(),Ps=(()=>{let e=class{};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[ps]]}),e})(),Os=(()=>{let e=class{};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[ps]]}),e})(),ks=(()=>{let e=class{};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[ps]]}),e})();Math;let Ms=(()=>{let e=class{constructor(){this.animations=!0,this.labelTrim=!0,this.labelTrimSize=10,this.isIE=/(edge|msie|trident)/i.test(navigator.userAgent),this.trimLabel=Ua}ngOnChanges(e){this.update()}update(){let e=this.radius;this.explodeSlices&&(e=this.radius*this.value/this.max);const t=po().innerRadius(e).outerRadius(e).centroid(this.data);let n=this.data.pos[1]/t[1];0!==this.data.pos[1]&&0!==t[1]||(n=1),this.line=`M${t}L${[n*t[0],n*t[1]]}L${this.data.pos}`}get textX(){return this.data.pos[0]}get textY(){return this.data.pos[1]}get styleTransform(){return this.isIE?null:`translate3d(${this.textX}px,${this.textY}px, 0)`}get attrTransform(){return this.isIE?`translate(${this.textX},${this.textY})`:null}get textTransition(){return this.isIE||!this.animations?null:"transform 0.75s"}textAnchor(){return this.midAngle(this.data)<Math.PI?"start":"end"}midAngle(e){return e.startAngle+(e.endAngle-e.startAngle)/2}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["g","ngx-charts-pie-label",""]],inputs:{animations:"animations",labelTrim:"labelTrim",labelTrimSize:"labelTrimSize",data:"data",radius:"radius",label:"label",color:"color",max:"max",value:"value",explodeSlices:"explodeSlices"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:_a,decls:6,vars:17,consts:[["dy",".35em",1,"pie-label"],["fill","none",1,"pie-label-line","line"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"title"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"](),r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](2,"g"),r["\u0275\u0275elementStart"](3,"text",0),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](5,"path",1)),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](t.label),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("transform",t.styleTransform)("transition",t.textTransition),r["\u0275\u0275attribute"]("transform",t.attrTransform),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("text-anchor",t.textAnchor())("shape-rendering","crispEdges"),r["\u0275\u0275classProp"]("animation",t.animations),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",t.labelTrim?t.trimLabel(t.label,t.labelTrimSize):t.label," "),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("animation",t.animations),r["\u0275\u0275attribute"]("d",t.line)("stroke",t.color))},encapsulation:2,changeDetection:0}),e})(),As=(()=>{let e=class{constructor(e){this.startAngle=0,this.endAngle=2*Math.PI,this.cornerRadius=0,this.explodeSlices=!1,this.gradient=!1,this.animate=!0,this.pointerEvents=!0,this.isActive=!1,this.select=new r.EventEmitter,this.activate=new r.EventEmitter,this.deactivate=new r.EventEmitter,this.dblclick=new r.EventEmitter,this.initialized=!1,this.element=e.nativeElement}ngOnChanges(e){this.update()}getGradient(){return this.gradient?this.gradientFill:this.fill}getPointerEvents(){return this.pointerEvents?"auto":"none"}update(){const e=this.calculateArc();this.startOpacity=.5,this.radialGradientId="linearGrad"+as().toString(),this.gradientFill=`url(#${this.radialGradientId})`,this.animate?this.initialized?this.updateAnimation():(this.loadAnimation(),this.initialized=!0):this.path=e.startAngle(this.startAngle).endAngle(this.endAngle)()}calculateArc(){let e=this.outerRadius;return this.explodeSlices&&0===this.innerRadius&&(e=this.outerRadius*this.value/this.max),po().innerRadius(this.innerRadius).outerRadius(e).cornerRadius(this.cornerRadius)}loadAnimation(){const e=ye(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),t=this.calculateArc();e.transition().attrTween("d",(function(e){this._current=this._current||e;const n=Object.assign({},e);n.endAngle=n.startAngle;const i=vt(n,n);return this._current=i(0),function(e){return t(i(e))}})).transition().duration(750).attrTween("d",(function(e){this._current=this._current||e;const n=vt(this._current,e);return this._current=n(0),function(e){return t(n(e))}}))}updateAnimation(){const e=ye(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),t=this.calculateArc();e.transition().duration(750).attrTween("d",(function(e){this._current=this._current||e;const n=vt(this._current,e);return this._current=n(0),function(e){return t(n(e))}}))}onClick(){clearTimeout(this._timeout),this._timeout=setTimeout(()=>this.select.emit(this.data),200)}onDblClick(e){e.preventDefault(),e.stopPropagation(),clearTimeout(this._timeout),this.dblclick.emit({data:this.data,nativeEvent:e})}};return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.ElementRef))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["g","ngx-charts-pie-arc",""]],inputs:{startAngle:"startAngle",endAngle:"endAngle",cornerRadius:"cornerRadius",explodeSlices:"explodeSlices",gradient:"gradient",animate:"animate",pointerEvents:"pointerEvents",isActive:"isActive",fill:"fill",innerRadius:"innerRadius",outerRadius:"outerRadius",value:"value",max:"max",data:"data"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:Pa,decls:3,vars:7,consts:[[1,"arc-group"],[4,"ngIf"],[1,"arc",3,"click","dblclick","mouseenter","mouseleave"],["ngx-charts-svg-radial-gradient","","orientation","vertical",3,"color","name","startOpacity"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",0),r["\u0275\u0275template"](1,Oa,2,3,"defs",1),r["\u0275\u0275elementStart"](2,"path",2),r["\u0275\u0275listener"]("click",(function(){return t.onClick()}))("dblclick",(function(e){return t.onDblClick(e)}))("mouseenter",(function(){return t.activate.emit(t.data)}))("mouseleave",(function(){return t.deactivate.emit(t.data)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.gradient),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("pointer-events",t.getPointerEvents()),r["\u0275\u0275classProp"]("active",t.isActive),r["\u0275\u0275attribute"]("d",t.path)("fill",t.getGradient()))},directives:[o.o,cs],encapsulation:2,changeDetection:0}),e})(),Is=(()=>{let e=class extends $a{constructor(){super(...arguments),this.labels=!1,this.legend=!1,this.legendTitle="Legend",this.legendPosition="right",this.explodeSlices=!1,this.doughnut=!1,this.arcWidth=.25,this.activeEntries=[],this.tooltipDisabled=!1,this.trimLabels=!0,this.maxLabelLength=10,this.dblclick=new r.EventEmitter,this.select=new r.EventEmitter,this.activate=new r.EventEmitter,this.deactivate=new r.EventEmitter}update(){super.update(),this.labels&&this.hasNoOptionalMarginsSet()?this.margins=[30,80,30,80]:!this.labels&&this.hasNoOptionalMarginsSet()&&(this.margins=[20,20,20,20]),this.dims=ms({width:this.width,height:this.height,margins:this.margins,showLegend:this.legend,legendPosition:this.legendPosition}),this.formatDates(),this.translation=`translate(${this.margins[3]+this.dims.width/2}, ${this.margins[0]+this.dims.height/2})`,this.outerRadius=Math.min(this.dims.width,this.dims.height),this.outerRadius/=this.labels?3:2,this.innerRadius=0,this.doughnut&&(this.innerRadius=this.outerRadius*(1-this.arcWidth)),this.domain=this.getDomain(),this.data=this.results.sort((e,t)=>this.domain.indexOf(e.name)-this.domain.indexOf(t.name)),this.setColors(),this.legendOptions=this.getLegendOptions()}getDomain(){return this.results.map(e=>e.label)}onClick(e){this.select.emit(e)}setColors(){this.colors=new fs(this.scheme,"ordinal",this.domain,this.customColors)}getLegendOptions(){return{scaleType:"ordinal",domain:this.domain,colors:this.colors,title:this.legendTitle,position:this.legendPosition}}onActivate(e,t=!1){e=this.results.find(n=>t?n.label===e.name:n.name===e.name),this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value&&t.series===e.series)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e,t=!1){e=this.results.find(n=>t?n.label===e.name:n.name===e.name);const n=this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value&&t.series===e.series);this.activeEntries.splice(n,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}hasNoOptionalMarginsSet(){return!this.margins||this.margins.length<=0}};return e.\u0275fac=function(t){return zs(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-charts-pie-chart"]],contentQueries:function(e,t,n){var i;1&e&&r["\u0275\u0275contentQuery"](n,sa,!0),2&e&&r["\u0275\u0275queryRefresh"](i=r["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=i.first)},inputs:{labels:"labels",legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",explodeSlices:"explodeSlices",doughnut:"doughnut",arcWidth:"arcWidth",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",margins:"margins",gradient:"gradient",labelFormatting:"labelFormatting",tooltipText:"tooltipText"},outputs:{dblclick:"dblclick",select:"select",activate:"activate",deactivate:"deactivate"},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:24,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelActivate","legendLabelDeactivate","legendLabelClick"],[1,"pie-chart","chart"],["ngx-charts-pie-series","",3,"colors","series","showLabels","labelFormatting","trimLabels","maxLabelLength","activeEntries","innerRadius","outerRadius","explodeSlices","gradient","animations","tooltipDisabled","tooltipTemplate","tooltipText","dblclick","select","activate","deactivate"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),r["\u0275\u0275listener"]("legendLabelActivate",(function(e){return t.onActivate(e,!0)}))("legendLabelDeactivate",(function(e){return t.onDeactivate(e,!0)}))("legendLabelClick",(function(e){return t.onClick(e)})),r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](1,"g",1),r["\u0275\u0275elementStart"](2,"g",2),r["\u0275\u0275listener"]("dblclick",(function(e){return t.dblclick.emit(e)}))("select",(function(e){return t.onClick(e)}))("activate",(function(e){return t.onActivate(e)}))("deactivate",(function(e){return t.onDeactivate(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("view",r["\u0275\u0275pureFunction2"](21,la,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),r["\u0275\u0275advance"](1),r["\u0275\u0275attribute"]("transform",t.translation),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("colors",t.colors)("series",t.data)("showLabels",t.labels)("labelFormatting",t.labelFormatting)("trimLabels",t.trimLabels)("maxLabelLength",t.maxLabelLength)("activeEntries",t.activeEntries)("innerRadius",t.innerRadius)("outerRadius",t.outerRadius)("explodeSlices",t.explodeSlices)("gradient",t.gradient)("animations",t.animations)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.tooltipTemplate)("tooltipText",t.tooltipText))},directives:function(){return[Va,Ts]},styles:[".ngx-charts{float:left;overflow:visible}.ngx-charts .arc,.ngx-charts .bar,.ngx-charts .circle{cursor:pointer}.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .card.active,.ngx-charts .card:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover{opacity:.8;-webkit-transition:opacity .1s ease-in-out;transition:opacity .1s ease-in-out}.ngx-charts .arc:focus,.ngx-charts .bar:focus,.ngx-charts .card:focus,.ngx-charts .cell:focus{outline:0}.ngx-charts .arc.hidden,.ngx-charts .bar.hidden,.ngx-charts .card.hidden,.ngx-charts .cell.hidden{display:none}.ngx-charts g:focus{outline:0}.ngx-charts .area-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .line-series.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .polar-series-path.inactive{-webkit-transition:opacity .1s ease-in-out;transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:rgba(0,0,0,.05)}",".pie-label{font-size:11px}.pie-label.animation{-webkit-animation:750ms ease-in fadeIn;animation:750ms ease-in fadeIn}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{-webkit-animation:3s linear drawOut;animation:3s linear drawOut;-webkit-transition:d 750ms;transition:d 750ms}@-webkit-keyframes drawOut{from{stroke-dashoffset:100%}to{stroke-dashoffset:0}}@keyframes drawOut{from{stroke-dashoffset:100%}to{stroke-dashoffset:0}}"],encapsulation:2,changeDetection:0}),e})(),Ts=(()=>{let e=class{constructor(){this.series=[],this.innerRadius=60,this.outerRadius=80,this.trimLabels=!0,this.maxLabelLength=10,this.tooltipDisabled=!1,this.animations=!0,this.select=new r.EventEmitter,this.activate=new r.EventEmitter,this.deactivate=new r.EventEmitter,this.dblclick=new r.EventEmitter}ngOnChanges(e){this.update()}update(){const e=function(){var e=go,t=mo,n=null,i=zr(0),r=zr(no),o=zr(0);function a(a){var s,l,c,u,d,h=a.length,p=0,m=new Array(h),g=new Array(h),f=+i.apply(this,arguments),b=Math.min(no,Math.max(-no,r.apply(this,arguments)-f)),v=Math.min(Math.abs(b)/h,o.apply(this,arguments)),x=v*(b<0?-1:1);for(s=0;s<h;++s)(d=g[m[s]=s]=+e(a[s],s,a))>0&&(p+=d);for(null!=t?m.sort((function(e,n){return t(g[e],g[n])})):null!=n&&m.sort((function(e,t){return n(a[e],a[t])})),s=0,c=p?(b-h*x)/p:0;s<h;++s,f=u)g[l=m[s]]={data:a[l],index:s,value:d=g[l],startAngle:f,endAngle:u=f+(d>0?d*c:0)+x,padAngle:v};return g}return a.value=function(t){return arguments.length?(e="function"==typeof t?t:zr(+t),a):e},a.sortValues=function(e){return arguments.length?(t=e,n=null,a):t},a.sort=function(e){return arguments.length?(n=e,t=null,a):n},a.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:zr(+e),a):i},a.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:zr(+e),a):r},a.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:zr(+e),a):o},a}().value(e=>e.value).sort(null)(this.series);this.max=function(e,t){let n;if(void 0===t)for(const i of e)null!=i&&(n<i||void 0===n&&i>=i)&&(n=i);else{let i=-1;for(let r of e)null!=(r=t(r,++i))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}(e,e=>e.value),this.data=this.calculateLabelPositions(e),this.tooltipText=this.tooltipText||this.defaultTooltipText}midAngle(e){return e.startAngle+(e.endAngle-e.startAngle)/2}outerArc(){return po().innerRadius(1.5*this.outerRadius).outerRadius(1.5*this.outerRadius)}calculateLabelPositions(e){const t=e;t.forEach(e=>{e.pos=this.outerArc().centroid(e),e.pos[0]=1.5*this.outerRadius*(this.midAngle(e)<Math.PI?1:-1)});for(let n=0;n<t.length-1;n++){const e=t[n];if(this.labelVisible(e))for(let i=n+1;i<t.length;i++){const n=t[i];if(this.labelVisible(n)&&n.pos[0]*e.pos[0]>0){const t=10-Math.abs(n.pos[1]-e.pos[1]);t>0&&(n.pos[1]+=Math.sign(n.pos[0])*t)}}}return t}labelVisible(e){return this.showLabels&&e.endAngle-e.startAngle>Math.PI/30}getTooltipTitle(e){return this.tooltipTemplate?void 0:this.tooltipText(e)}labelText(e){return this.labelFormatting?this.labelFormatting(e.data.name):this.label(e)}label(e){return is(e.data.name)}defaultTooltipText(e){const t=this.label(e),n=is(e.data.value);return`\n      <span class="tooltip-label">${rs(t)}</span>\n      <span class="tooltip-val">${n}</span>\n    `}color(e){return this.colors.getColor(this.label(e))}trackBy(e,t){return t.data.name}onClick(e){this.select.emit(e)}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(t=>e.name===t.name&&e.series===t.series)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["g","ngx-charts-pie-series",""]],inputs:{series:"series",innerRadius:"innerRadius",outerRadius:"outerRadius",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipDisabled:"tooltipDisabled",animations:"animations",tooltipText:"tooltipText",colors:"colors",dims:"dims",explodeSlices:"explodeSlices",showLabels:"showLabels",gradient:"gradient",activeEntries:"activeEntries",labelFormatting:"labelFormatting",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:ka,decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations",4,"ngIf"],["ngx-charts-pie-arc","","ngx-tooltip","",3,"startAngle","endAngle","innerRadius","outerRadius","fill","value","gradient","data","max","explodeSlices","isActive","animate","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate","dblclick"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations"]],template:function(e,t){1&e&&r["\u0275\u0275template"](0,Aa,3,19,"g",0),2&e&&r["\u0275\u0275property"]("ngForOf",t.data)("ngForTrackBy",t.trackBy)},directives:[o.n,o.o,As,ts,Ms],encapsulation:2,changeDetection:0}),e})(),js=(()=>{let e=class{};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[ps]]}),e})(),Ls=(()=>{let e=class{};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[ps,js,ks]]}),e})(),Ds=(()=>{let e=class{};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[ps]]}),e})(),Fs=(()=>{let e=class{};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[ps]]}),e})(),Rs=(()=>{let e=class{};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[ps,js,_s]]}),e})(),Bs=(()=>{let e=class{constructor(){"undefined"!=typeof SVGElement&&void 0===SVGElement.prototype.contains&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}};return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[ps,bs,_s,Ps,Os,ks,Ls,Ds,js,Fs,Rs]}),e})();const Ns=r["\u0275\u0275getInheritedFactory"](xs),Vs=r["\u0275\u0275getInheritedFactory"](ys),zs=r["\u0275\u0275getInheritedFactory"](Is)}}]);