function _defineProperty2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _get2(e,t,n){return(_get2="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits2(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn2(this,n)}}function _possibleConstructorReturn2(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){r=!0,a=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _classCallCheck2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass2(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+7LX":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericBarcode=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(((i=n("52Lf"))&&i.__esModule?i:{default:i}).default);t.GenericBarcode=a},"/4Rl":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("NJzS"),r=n("2j0D"),a=n("JB6v"),o=n("n/pZ"),s=n("jlE0"),l=n("fLmL"),c=n("wXsw"),u=n("+7LX");t.default={CODE39:i.CODE39,CODE128:r.CODE128,CODE128A:r.CODE128A,CODE128B:r.CODE128B,CODE128C:r.CODE128C,EAN13:a.EAN13,EAN8:a.EAN8,EAN5:a.EAN5,EAN2:a.EAN2,UPC:a.UPC,UPCE:a.UPCE,ITF14:o.ITF14,ITF:o.ITF,MSI:s.MSI,MSI10:s.MSI10,MSI11:s.MSI11,MSI1010:s.MSI1010,MSI1110:s.MSI1110,pharmacode:l.pharmacode,codabar:c.codabar,GenericBarcode:u.GenericBarcode}},"/XyT":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(e,t){return i({},e,t)}},"2j0D":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CODE128C=t.CODE128B=t.CODE128A=t.CODE128=void 0;var i=s(n("byS7")),r=s(n("6Mm9")),a=s(n("cLAh")),o=s(n("7T9X"));function s(e){return e&&e.__esModule?e:{default:e}}t.CODE128=i.default,t.CODE128A=r.default,t.CODE128B=a.default,t.CODE128C=o.default},"3KJX":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(e,n){i(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.name="InvalidInputException",a.symbology=e,a.input=n,a.message='"'+a.input+'" is not a valid input for '+a.symbology,a}return a(t,Error),t}(),s=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="InvalidElementException",e.message="Not supported type to render on",e}return a(t,Error),t}(),l=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="NoElementException",e.message="No element to render on.",e}return a(t,Error),t}();t.InvalidInputException=o,t.InvalidElementException=s,t.NoElementException=l},"52Lf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.text=n.text||t,this.options=n}},"6LKm":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.checksum=s;var r=a(n("VyaE"));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{11}$/)&&(e+=s(e));var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.displayValue=n.displayValue,i.fontSize=n.fontSize>10*n.width?10*n.width:n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==s(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=(0,r.default)(this.data.substr(0,6),"LLLLLL"),e+="01010",e+=(0,r.default)(this.data.substr(6,6),"RRRRRR"),{data:e+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101"+(0,r.default)(this.data[0],"L"),options:{height:this.guardHeight}}),e.push({data:(0,r.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),e.push({data:"01010",options:{height:this.guardHeight}}),e.push({data:(0,r.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),e.push({data:(0,r.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),e}}]),t}(a(n("52Lf")).default);function s(e){var t,n=0;for(t=1;t<11;t+=2)n+=parseInt(e[t]);for(t=0;t<11;t+=2)n+=3*parseInt(e[t]);return(10-n%10)%10}t.default=o},"6Mm9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=(i=n("SyMb"))&&i.__esModule?i:{default:i},o=n("8I5R"),s=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.A_START_CHAR+e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"valid",value:function(){return new RegExp("^"+o.A_CHARS+"+$").test(this.data)}}]),t}(a.default);t.default=s},"7T9X":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=(i=n("SyMb"))&&i.__esModule?i:{default:i},o=n("8I5R"),s=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.C_START_CHAR+e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"valid",value:function(){return new RegExp("^"+o.C_CHARS+"+$").test(this.data)}}]),t}(a.default);t.default=s},"8I5R":function(e,t,n){"use strict";var i;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=t.SET_A=0,o=t.SET_B=1,s=t.SET_C=2,l=(t.SHIFT=98,t.START_A=103),c=t.START_B=104,u=t.START_C=105;t.MODULO=103,t.STOP=106,t.FNC1=207,t.SET_BY_CODE=(r(i={},l,a),r(i,c,o),r(i,u,s),i),t.SWAP={101:a,100:o,99:s},t.A_START_CHAR=String.fromCharCode(208),t.B_START_CHAR=String.fromCharCode(209),t.C_START_CHAR=String.fromCharCode(210),t.A_CHARS="[\0-_\xc8-\xcf]",t.B_CHARS="[ -\x7f\xc8-\xcf]",t.C_CHARS="(\xcf*[0-9]{2}\xcf*)",t.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},"B9+t":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=(i=n("PHz1"))&&i.__esModule?i:{default:i},o=function(e){var t=e.substr(0,13).split("").map((function(e){return parseInt(e,10)})).reduce((function(e,t,n){return e+t*(3-n%2*2)}),0);return 10*Math.ceil(t/10)-t},s=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{13}$/)&&(e+=o(e)),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===o(this.data)}}]),t}(a.default);t.default=s},"Ek++":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"encode",value:function(){for(var e="110",t=0;t<this.data.length;t++){var n=parseInt(this.data[t]).toString(2);n=o(n,4-n.length);for(var i=0;i<n.length;i++)e+="0"==n[i]?"100":"110"}return{data:e+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),t}(((i=n("52Lf"))&&i.__esModule?i:{default:i}).default);function o(e,t){for(var n=0;n<t;n++)e="0"+e;return e}t.default=a},"G6U+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=(i=n("vf6K"))&&i.__esModule?i:{default:i},s=function(e){return(10-e.substr(0,7).split("").map((function(e){return+e})).reduce((function(e,t,n){return n%2?e+t:e+3*t}),0)%10)%10},l=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{7}$/)&&(e+=s(e)),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===s(this.data)}},{key:"leftText",value:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var e=this.data.substr(0,4);return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,e,"LLLL")}},{key:"rightText",value:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var e=this.data.substr(4,4);return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,e,"RRRR")}}]),t}(o.default);t.default=l},JB6v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPCE=t.UPC=t.EAN2=t.EAN5=t.EAN8=t.EAN13=void 0;var i=c(n("iaK4")),r=c(n("G6U+")),a=c(n("WD9T")),o=c(n("pdJe")),s=c(n("6LKm")),l=c(n("vph/"));function c(e){return e&&e.__esModule?e:{default:e}}t.EAN13=i.default,t.EAN8=r.default,t.EAN5=a.default,t.EAN2=o.default,t.UPC=s.default,t.UPCE=l.default},Kkrk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.START_BIN="1010",t.END_BIN="11101",t.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},NJzS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CODE39=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=e.toUpperCase(),n.mod43&&(e+=function(e){return o[e]}(function(e){for(var t=0,n=0;n<e.length;n++)t+=c(e[n]);return t%43}(e))),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"encode",value:function(){for(var e=l("*"),t=0;t<this.data.length;t++)e+=l(this.data[t])+"0";return{data:e+=l("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),t}(((i=n("52Lf"))&&i.__esModule?i:{default:i}).default),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],s=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function l(e){return function(e){return s[e].toString(2)}(c(e))}function c(e){return o.indexOf(e)}t.CODE39=a},PHz1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n("Kkrk");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var e=this,t=this.data.match(/.{2}/g).map((function(t){return e.encodePair(t)})).join("");return{data:a.START_BIN+t+a.END_BIN,text:this.text}}},{key:"encodePair",value:function(e){var t=a.BINARIES[e[1]];return a.BINARIES[e[0]].split("").map((function(e,n){return("1"===e?"111":"1")+("1"===t[n]?"000":"0")})).join("")}}]),t}(((i=n("52Lf"))&&i.__esModule?i:{default:i}).default);t.default=l},RGHy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=(i=n("Ek++"))&&i.__esModule?i:{default:i},a=n("blPF"),o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,a.mod11)(e),n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default);t.default=o},RyeT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=(i=n("Ek++"))&&i.__esModule?i:{default:i},a=n("blPF"),o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e+(0,a.mod10)(e),n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default);t.default=o},SyMb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=(i=n("52Lf"))&&i.__esModule?i:{default:i},o=n("8I5R"),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.substring(1),n));return i.bytes=e.split("").map((function(e){return e.charCodeAt(0)})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var e=this.bytes,n=e.shift()-105,i=o.SET_BY_CODE[n];if(void 0===i)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&e.unshift(o.FNC1);var r=t.next(e,1,i);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:t.getBar(n)+r.result+t.getBar((r.checksum+n)%o.MODULO)+t.getBar(o.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var e=this.options.ean128||!1;return"string"==typeof e&&(e="true"===e.toLowerCase()),e}}],[{key:"getBar",value:function(e){return o.BARS[e]?o.BARS[e].toString():""}},{key:"correctIndex",value:function(e,t){if(t===o.SET_A){var n=e.shift();return n<32?n+64:n-32}return t===o.SET_B?e.shift()-32:10*(e.shift()-48)+e.shift()-48}},{key:"next",value:function(e,n,i){if(!e.length)return{result:"",checksum:0};var r=void 0,a=void 0;if(e[0]>=200){a=e.shift()-105;var s=o.SWAP[a];void 0!==s?r=t.next(e,n+1,s):(i!==o.SET_A&&i!==o.SET_B||a!==o.SHIFT||(e[0]=i===o.SET_A?e[0]>95?e[0]-96:e[0]:e[0]<32?e[0]+96:e[0]),r=t.next(e,n+1,i))}else a=t.correctIndex(e,i),r=t.next(e,n+1,i);return{result:t.getBar(a)+r.result,checksum:a*n+r.checksum}}}]),t}(a.default);t.default=s},TO02:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.object=t,this.encodings=n,this.options=i}return i(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();t.default=r},UFnY:function(e,t,n){"use strict";n.r(t);var i=n("ofXK"),r=n("qlzE"),a=n("tk/3"),o=n("3Pt+"),s=(n("u47x"),n("8LU1"),n("fXoL")),l=n("jhN1"),c=n("cH1L"),u=n("XNiG"),d=n("HDdC"),h=n("nLfN");n("JX91"),n("R1ws"),n("FtGj");var p,f=new s.InjectionToken("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),m=((p=function(){function e(t,n){_classCallCheck2(this,e),this._sanityChecksEnabled=t,this._hammerLoader=n,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}return _createClass2(e,[{key:"_areChecksEnabled",value:function(){return this._sanityChecksEnabled&&Object(s.isDevMode)()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var e=this._window;return e&&(e.__karma__||e.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){if(this._document&&this._document.body&&"function"==typeof getComputedStyle){var e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);var t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}}},{key:"_checkHammerIsAvailable",value:function(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}]),e}()).\u0275mod=s["\u0275\u0275defineNgModule"]({type:p}),p.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||p)(s["\u0275\u0275inject"](f,8),s["\u0275\u0275inject"](l.c,8))},imports:[[c.a],c.a]}),p);try{"undefined"!=typeof Intl}catch(Mr){!1}var g,v,b,y=((b=function e(){_classCallCheck2(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:b}),b.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||b)},imports:[[m,h.b],m]}),b),x=((v=function e(){_classCallCheck2(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:v}),v.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||v)}}),v),S=((g=function e(){_classCallCheck2(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:g}),g.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||g)},imports:[[y,i.c,x]]}),g),C=n("rDax"),k=(n("+rOU"),n("IzEk"),n("eIep"),n("pLZG")),E=n("lJxs"),_=(n("vkgz"),n("3E0/"),n("quSY"),n("NXyV"),n("VRyK"),n("LRne"),n("xgIS"));n("R0Ic"),n("1G5W"),n("GU7r"),n("vxfF");var w,P,O={provide:new s.InjectionToken("mat-autocomplete-scroll-strategy"),deps:[C.d],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},M=((P=function e(){_classCallCheck2(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:P}),P.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||P)},providers:[O],imports:[[S,C.g,m,i.c],S,m]}),P),A=((w=function e(){_classCallCheck2(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:w}),w.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||w)},imports:[[i.c,o.h]]}),w);n("2Vo4");var I,T,j,L,D,F,R,B,N,V,z=((I=function e(){_classCallCheck2(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:I}),I.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||I)}}),I),G=n("itXk"),U=n("PqYM"),H=["*"],X=((N=function e(){_classCallCheck2(this,e)}).\u0275fac=function(e){return new(e||N)},N.VG_ENDED="ended",N.VG_PAUSED="paused",N.VG_PLAYING="playing",N.VG_LOADING="waiting",N.\u0275prov=Object(s["\u0275\u0275defineInjectable"])({factory:function(){return new N},token:N,providedIn:"root"}),N),Y=((B=function(){function e(){_classCallCheck2(this,e),this.medias={},this.playerReadyEvent=new s.EventEmitter(!0),this.isPlayerReady=!1}return _createClass2(e,[{key:"onPlayerReady",value:function(e){this.fsAPI=e,this.isPlayerReady=!0,this.playerReadyEvent.emit(this)}},{key:"getDefaultMedia",value:function(){for(var e in this.medias)if(this.medias[e])return this.medias[e]}},{key:"getMasterMedia",value:function(){var e;for(var t in this.medias)if("true"===this.medias[t].vgMaster||!0===this.medias[t].vgMaster){e=this.medias[t];break}return e||this.getDefaultMedia()}},{key:"isMasterDefined",value:function(){var e=!1;for(var t in this.medias)if("true"===this.medias[t].vgMaster||!0===this.medias[t].vgMaster){e=!0;break}return e}},{key:"getMediaById",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.medias[e];return e&&"*"!==e||(t=this),t}},{key:"play",value:function(){for(var e in this.medias)this.medias[e]&&this.medias[e].play()}},{key:"pause",value:function(){for(var e in this.medias)this.medias[e]&&this.medias[e].pause()}},{key:"seekTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var n in this.medias)this.medias[n]&&this.$$seek(this.medias[n],e,t)}},{key:"$$seek",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.duration;i?(this.isMasterDefined()&&(r=this.getMasterMedia().duration),n=t*r/100):n=t,e.currentTime=n}},{key:"addTextTrack",value:function(e,t,n){for(var i in this.medias)this.medias[i]&&this.$$addTextTrack(this.medias[i],e,t,n)}},{key:"$$addTextTrack",value:function(e,t,n,i){e.addTextTrack(t,n,i)}},{key:"$$getAllProperties",value:function(e){var t,n={};for(var i in this.medias)this.medias[i]&&(n[i]=this.medias[i]);switch(Object.keys(n).length){case 0:switch(e){case"state":t=X.VG_PAUSED;break;case"playbackRate":case"volume":t=1;break;case"time":t={current:0,total:0,left:0}}break;case 1:t=n[Object.keys(n)[0]][e];break;default:t=n[this.getMasterMedia().id][e]}return t}},{key:"$$setAllProperties",value:function(e,t){for(var n in this.medias)this.medias[n]&&(this.medias[n][e]=t)}},{key:"registerElement",value:function(e){this.videogularElement=e}},{key:"registerMedia",value:function(e){this.medias[e.id]=e}},{key:"unregisterMedia",value:function(e){delete this.medias[e.id]}},{key:"duration",get:function(){return this.$$getAllProperties("duration")}},{key:"currentTime",set:function(e){this.$$setAllProperties("currentTime",e)},get:function(){return this.$$getAllProperties("currentTime")}},{key:"state",set:function(e){this.$$setAllProperties("state",e)},get:function(){return this.$$getAllProperties("state")}},{key:"volume",set:function(e){this.$$setAllProperties("volume",e)},get:function(){return this.$$getAllProperties("volume")}},{key:"playbackRate",set:function(e){this.$$setAllProperties("playbackRate",e)},get:function(){return this.$$getAllProperties("playbackRate")}},{key:"canPlay",get:function(){return this.$$getAllProperties("canPlay")}},{key:"canPlayThrough",get:function(){return this.$$getAllProperties("canPlayThrough")}},{key:"isMetadataLoaded",get:function(){return this.$$getAllProperties("isMetadataLoaded")}},{key:"isWaiting",get:function(){return this.$$getAllProperties("isWaiting")}},{key:"isCompleted",get:function(){return this.$$getAllProperties("isCompleted")}},{key:"isLive",get:function(){return this.$$getAllProperties("isLive")}},{key:"isMaster",get:function(){return this.$$getAllProperties("isMaster")}},{key:"time",get:function(){return this.$$getAllProperties("time")}},{key:"buffer",get:function(){return this.$$getAllProperties("buffer")}},{key:"buffered",get:function(){return this.$$getAllProperties("buffered")}},{key:"subscriptions",get:function(){return this.$$getAllProperties("subscriptions")}},{key:"textTracks",get:function(){return this.$$getAllProperties("textTracks")}}]),e}()).\u0275fac=function(e){return new(e||B)},B.\u0275prov=Object(s["\u0275\u0275defineInjectable"])({factory:function(){return new B},token:B,providedIn:"root"}),B),$=((R=function(){function e(){_classCallCheck2(this,e),this.isHiddenSubject=new u.a,this.isHidden=this.isHiddenSubject.asObservable()}return _createClass2(e,[{key:"state",value:function(e){this.isHiddenSubject.next(e)}}]),e}()).\u0275fac=function(e){return new(e||R)},R.\u0275prov=Object(s["\u0275\u0275defineInjectable"])({factory:function(){return new R},token:R,providedIn:"root"}),R),W=((F=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"getZIndex",value:function(){for(var e,t=1,n=document.getElementsByTagName("*"),i=0,r=n.length;i<r;i++)(e=parseInt(window.getComputedStyle(n[i])["z-index"],10))>t&&(t=e+1);return t}},{key:"isMobileDevice",value:function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}},{key:"isiOSDevice",value:function(){return navigator.userAgent.match(/ip(hone|ad|od)/i)&&!navigator.userAgent.match(/(iemobile)[\/\s]?([\w\.]*)/i)}},{key:"isCordova",value:function(){return-1===document.URL.indexOf("http://")&&-1===document.URL.indexOf("https://")}}]),e}()).\u0275fac=function(e){return new(e||F)},F.\u0275prov=Object(s["\u0275\u0275defineInjectable"])({factory:function(){return new F},token:F,providedIn:"root"}),F),q=((D=function(){function e(){_classCallCheck2(this,e),this.nativeFullscreen=!0,this.isFullscreen=!1,this.onChangeFullscreen=new s.EventEmitter}return _createClass2(e,[{key:"init",value:function(e,t){var n=this;this.videogularElement=e,this.medias=t;var i={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",onchange:"fullscreenchange",onerror:"fullscreenerror"},newWebkit:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},oldWebkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",onchange:"mozfullscreenchange",onerror:"mozfullscreenerror"},ios:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",onchange:"webkitendfullscreen",onerror:"webkitfullscreenerror"},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",onchange:"MSFullscreenChange",onerror:"MSFullscreenError"}};for(var r in i)if(i[r].enabled in document){this.polyfill=i[r];break}if(W.isiOSDevice()&&(this.polyfill=i.ios),this.isAvailable=null!=this.polyfill,null!=this.polyfill){var a;switch(this.polyfill.onchange){case"mozfullscreenchange":a=document;break;case"webkitendfullscreen":a=this.medias.toArray()[0].elem;break;default:a=e}this.fsChangeSubscription=Object(_.a)(a,this.polyfill.onchange).subscribe((function(){n.onFullscreenChange()}))}}},{key:"onFullscreenChange",value:function(){this.isFullscreen=!!document[this.polyfill.element],this.onChangeFullscreen.emit(this.isFullscreen)}},{key:"toggleFullscreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isFullscreen?this.exit():this.request(e)}},{key:"request",value:function(e){e||(e=this.videogularElement),this.isFullscreen=!0,this.onChangeFullscreen.emit(!0),this.isAvailable&&this.nativeFullscreen&&(W.isMobileDevice()?((!this.polyfill.enabled&&e===this.videogularElement||W.isiOSDevice())&&(e=this.medias.toArray()[0].elem),this.enterElementInFullScreen(e)):this.enterElementInFullScreen(this.videogularElement))}},{key:"enterElementInFullScreen",value:function(e){e[this.polyfill.request]()}},{key:"exit",value:function(){this.isFullscreen=!1,this.onChangeFullscreen.emit(!1),this.isAvailable&&this.nativeFullscreen&&document[this.polyfill.exit]()}}]),e}()).\u0275fac=function(e){return new(e||D)},D.\u0275prov=Object(s["\u0275\u0275defineInjectable"])({factory:function(){return new D},token:D,providedIn:"root"}),D),K=((L=function e(){_classCallCheck2(this,e)}).\u0275fac=function(e){return new(e||L)},L.VG_ABORT="abort",L.VG_CAN_PLAY="canplay",L.VG_CAN_PLAY_THROUGH="canplaythrough",L.VG_DURATION_CHANGE="durationchange",L.VG_EMPTIED="emptied",L.VG_ENCRYPTED="encrypted",L.VG_ENDED="ended",L.VG_ERROR="error",L.VG_LOADED_DATA="loadeddata",L.VG_LOADED_METADATA="loadedmetadata",L.VG_LOAD_START="loadstart",L.VG_PAUSE="pause",L.VG_PLAY="play",L.VG_PLAYING="playing",L.VG_PROGRESS="progress",L.VG_RATE_CHANGE="ratechange",L.VG_SEEK="seek",L.VG_SEEKED="seeked",L.VG_SEEKING="seeking",L.VG_STALLED="stalled",L.VG_SUSPEND="suspend",L.VG_TIME_UPDATE="timeupdate",L.VG_VOLUME_CHANGE="volumechange",L.VG_WAITING="waiting",L.VG_LOAD="load",L.VG_ENTER="enter",L.VG_EXIT="exit",L.VG_START_ADS="startads",L.VG_END_ADS="endads",L.\u0275prov=Object(s["\u0275\u0275defineInjectable"])({factory:function(){return new L},token:L,providedIn:"root"}),L),J=((j=function(){function e(t,n){_classCallCheck2(this,e),this.api=t,this.ref=n,this.state=X.VG_PAUSED,this.time={current:0,total:0,left:0},this.buffer={end:0},this.canPlay=!1,this.canPlayThrough=!1,this.isMetadataLoaded=!1,this.isWaiting=!1,this.isCompleted=!1,this.isLive=!1,this.isBufferDetected=!1,this.checkInterval=200,this.currentPlayPos=0,this.lastPlayPos=0,this.playAtferSync=!1,this.bufferDetected=new u.a}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.elem=this.vgMedia.nodeName?this.vgMedia:this.vgMedia.elem,this.api.registerMedia(this),this.subscriptions={abort:Object(_.a)(this.elem,K.VG_ABORT),canPlay:Object(_.a)(this.elem,K.VG_CAN_PLAY),canPlayThrough:Object(_.a)(this.elem,K.VG_CAN_PLAY_THROUGH),durationChange:Object(_.a)(this.elem,K.VG_DURATION_CHANGE),emptied:Object(_.a)(this.elem,K.VG_EMPTIED),encrypted:Object(_.a)(this.elem,K.VG_ENCRYPTED),ended:Object(_.a)(this.elem,K.VG_ENDED),error:Object(_.a)(this.elem,K.VG_ERROR),loadedData:Object(_.a)(this.elem,K.VG_LOADED_DATA),loadedMetadata:Object(_.a)(this.elem,K.VG_LOADED_METADATA),loadStart:Object(_.a)(this.elem,K.VG_LOAD_START),pause:Object(_.a)(this.elem,K.VG_PAUSE),play:Object(_.a)(this.elem,K.VG_PLAY),playing:Object(_.a)(this.elem,K.VG_PLAYING),progress:Object(_.a)(this.elem,K.VG_PROGRESS),rateChange:Object(_.a)(this.elem,K.VG_RATE_CHANGE),seeked:Object(_.a)(this.elem,K.VG_SEEKED),seeking:Object(_.a)(this.elem,K.VG_SEEKING),stalled:Object(_.a)(this.elem,K.VG_STALLED),suspend:Object(_.a)(this.elem,K.VG_SUSPEND),timeUpdate:Object(_.a)(this.elem,K.VG_TIME_UPDATE),volumeChange:Object(_.a)(this.elem,K.VG_VOLUME_CHANGE),waiting:Object(_.a)(this.elem,K.VG_WAITING),startAds:Object(_.a)(window,K.VG_START_ADS),endAds:Object(_.a)(window,K.VG_END_ADS),mutation:new d.a((function(t){var n=new MutationObserver((function(e){t.next(e)}));return n.observe(e.elem,{childList:!0,attributes:!0}),function(){n.disconnect()}})),bufferDetected:this.bufferDetected},this.mutationObs=this.subscriptions.mutation.subscribe(this.onMutation.bind(this)),this.canPlayObs=this.subscriptions.canPlay.subscribe(this.onCanPlay.bind(this)),this.canPlayThroughObs=this.subscriptions.canPlayThrough.subscribe(this.onCanPlayThrough.bind(this)),this.loadedMetadataObs=this.subscriptions.loadedMetadata.subscribe(this.onLoadMetadata.bind(this)),this.waitingObs=this.subscriptions.waiting.subscribe(this.onWait.bind(this)),this.progressObs=this.subscriptions.progress.subscribe(this.onProgress.bind(this)),this.endedObs=this.subscriptions.ended.subscribe(this.onComplete.bind(this)),this.playingObs=this.subscriptions.playing.subscribe(this.onStartPlaying.bind(this)),this.playObs=this.subscriptions.play.subscribe(this.onPlay.bind(this)),this.pauseObs=this.subscriptions.pause.subscribe(this.onPause.bind(this)),this.timeUpdateObs=this.subscriptions.timeUpdate.subscribe(this.onTimeUpdate.bind(this)),this.volumeChangeObs=this.subscriptions.volumeChange.subscribe(this.onVolumeChange.bind(this)),this.errorObs=this.subscriptions.error.subscribe(this.onError.bind(this)),this.vgMaster&&this.api.playerReadyEvent.subscribe((function(){e.prepareSync()}))}},{key:"prepareSync",value:function(){var e=this,t=[];for(var n in this.api.medias)this.api.medias[n]&&t.push(this.api.medias[n].subscriptions.canPlay);this.canPlayAllSubscription=Object(G.a)(t).pipe(Object(E.a)((function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.some((function(e){return!(null==e||!e.target)&&4===e.target.readyState}))&&!e.syncSubscription&&(e.startSync(),e.syncSubscription.unsubscribe())}))).subscribe()}},{key:"startSync",value:function(){var e=this;this.syncSubscription=Object(U.a)(0,1e3).subscribe((function(){for(var t in e.api.medias)if(e.api.medias[t]!==e){var n=e.api.medias[t].currentTime-e.currentTime;n<-.3||n>.3?(e.playAtferSync=e.state===X.VG_PLAYING,e.pause(),e.api.medias[t].pause(),e.api.medias[t].currentTime=e.currentTime):e.playAtferSync&&(e.play(),e.api.medias[t].play(),e.playAtferSync=!1)}}))}},{key:"onMutation",value:function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];if("attributes"===i.type&&"src"===i.attributeName){if(i.target.src&&i.target.src.length>0&&i.target.src.indexOf("blob:")<0){this.loadMedia();break}}else if("childList"===i.type&&i.removedNodes.length&&"source"===i.removedNodes[0].nodeName.toLowerCase()){this.loadMedia();break}}}},{key:"loadMedia",value:function(){var e=this;this.vgMedia.pause(),this.vgMedia.currentTime=0,this.stopBufferCheck(),this.isBufferDetected=!0,this.bufferDetected.next(this.isBufferDetected),setTimeout((function(){return e.vgMedia.load()}),10)}},{key:"play",value:function(){var e=this;if(!(this.playPromise||this.state!==X.VG_PAUSED&&this.state!==X.VG_ENDED))return this.playPromise=this.vgMedia.play(),this.playPromise&&this.playPromise.then&&this.playPromise.catch&&this.playPromise.then((function(){e.playPromise=null})).catch((function(){e.playPromise=null})),this.playPromise}},{key:"pause",value:function(){var e=this;this.playPromise?this.playPromise.then((function(){e.vgMedia.pause()})):this.vgMedia.pause()}},{key:"onCanPlay",value:function(e){this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected),this.canPlay=!0,this.ref.detectChanges()}},{key:"onCanPlayThrough",value:function(e){this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected),this.canPlayThrough=!0,this.ref.detectChanges()}},{key:"onLoadMetadata",value:function(e){this.isMetadataLoaded=!0,this.time={current:0,left:0,total:1e3*this.duration},this.state=X.VG_PAUSED;var t=Math.round(this.time.total);this.isLive=t===1/0,this.ref.detectChanges()}},{key:"onWait",value:function(e){this.isWaiting=!0,this.ref.detectChanges()}},{key:"onComplete",value:function(e){this.isCompleted=!0,this.state=X.VG_ENDED,this.ref.detectChanges()}},{key:"onStartPlaying",value:function(e){this.state=X.VG_PLAYING,this.ref.detectChanges()}},{key:"onPlay",value:function(e){this.state=X.VG_PLAYING,this.vgMaster&&(this.syncSubscription&&!this.syncSubscription.closed||this.startSync()),this.startBufferCheck(),this.ref.detectChanges()}},{key:"onPause",value:function(e){this.state=X.VG_PAUSED,this.vgMaster&&(this.playAtferSync||this.syncSubscription.unsubscribe()),this.stopBufferCheck(),this.ref.detectChanges()}},{key:"onTimeUpdate",value:function(e){var t=this.buffered.length-1;this.time={current:1e3*this.currentTime,total:this.time.total,left:1e3*(this.duration-this.currentTime)},t>=0&&(this.buffer={end:1e3*this.buffered.end(t)}),this.ref.detectChanges()}},{key:"onProgress",value:function(e){var t=this.buffered.length-1;t>=0&&(this.buffer={end:1e3*this.buffered.end(t)}),this.ref.detectChanges()}},{key:"onVolumeChange",value:function(e){this.ref.detectChanges()}},{key:"onError",value:function(e){this.ref.detectChanges()}},{key:"bufferCheck",value:function(){var e=1/this.checkInterval;this.currentPlayPos=this.currentTime,!this.isBufferDetected&&this.currentPlayPos<this.lastPlayPos+e&&(this.isBufferDetected=!0),this.isBufferDetected&&this.currentPlayPos>this.lastPlayPos+e&&(this.isBufferDetected=!1),this.bufferDetected.closed||this.bufferDetected.next(this.isBufferDetected),this.lastPlayPos=this.currentPlayPos}},{key:"startBufferCheck",value:function(){var e=this;this.checkBufferSubscription=Object(U.a)(0,this.checkInterval).subscribe((function(){e.bufferCheck()}))}},{key:"stopBufferCheck",value:function(){this.checkBufferSubscription&&this.checkBufferSubscription.unsubscribe(),this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected)}},{key:"seekTime",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=n?e*this.duration/100:e,this.currentTime=t}},{key:"addTextTrack",value:function(e,t,n,i){var r=this.vgMedia.addTextTrack(e,t,n);return i&&(r.mode=i),r}},{key:"ngOnDestroy",value:function(){this.vgMedia.src="",this.mutationObs.unsubscribe(),this.canPlayObs.unsubscribe(),this.canPlayThroughObs.unsubscribe(),this.loadedMetadataObs.unsubscribe(),this.waitingObs.unsubscribe(),this.progressObs.unsubscribe(),this.endedObs.unsubscribe(),this.playingObs.unsubscribe(),this.playObs.unsubscribe(),this.pauseObs.unsubscribe(),this.timeUpdateObs.unsubscribe(),this.volumeChangeObs.unsubscribe(),this.errorObs.unsubscribe(),this.checkBufferSubscription&&this.checkBufferSubscription.unsubscribe(),this.syncSubscription&&this.syncSubscription.unsubscribe(),this.bufferDetected.complete(),this.bufferDetected.unsubscribe(),this.api.unregisterMedia(this)}},{key:"id",get:function(){var e;return this.vgMedia&&(e=this.vgMedia.id),e}},{key:"duration",get:function(){return this.vgMedia.duration===1/0?this.specifiedDuration:this.vgMedia.duration}},{key:"currentTime",set:function(e){this.vgMedia.currentTime=e},get:function(){return this.vgMedia.currentTime}},{key:"volume",set:function(e){this.vgMedia.volume=e},get:function(){return this.vgMedia.volume}},{key:"playbackRate",set:function(e){this.vgMedia.playbackRate=e},get:function(){return this.vgMedia.playbackRate}},{key:"buffered",get:function(){return this.vgMedia.buffered}},{key:"textTracks",get:function(){return this.vgMedia.textTracks}}]),e}()).\u0275fac=function(e){return new(e||j)(s["\u0275\u0275directiveInject"](Y),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef))},j.\u0275dir=s["\u0275\u0275defineDirective"]({type:j,selectors:[["","vgMedia",""]],inputs:{vgMedia:"vgMedia",vgMaster:"vgMaster"}}),j),Q=((T=function(){function e(t,n,i,r){_classCallCheck2(this,e),this.api=n,this.fsAPI=i,this.controlsHidden=r,this.isFullscreen=!1,this.isNativeFullscreen=!1,this.areControlsHidden=!1,this.onPlayerReady=new s.EventEmitter,this.onMediaReady=new s.EventEmitter,this.subscriptions=[],this.elem=t.nativeElement,this.api.registerElement(this.elem)}return _createClass2(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.medias.toArray().forEach((function(t){e.api.registerMedia(t)})),this.fsAPI.init(this.elem,this.medias),this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this))),this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this))),this.api.onPlayerReady(this.fsAPI),this.onPlayerReady.emit(this.api)}},{key:"onChangeFullscreen",value:function(e){this.fsAPI.nativeFullscreen?this.isNativeFullscreen=e:(this.isFullscreen=e,this.zIndex=e?W.getZIndex().toString():"auto")}},{key:"onHideControls",value:function(e){this.areControlsHidden=e}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||T)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](Y),s["\u0275\u0275directiveInject"](q),s["\u0275\u0275directiveInject"]($))},T.\u0275cmp=s["\u0275\u0275defineComponent"]({type:T,selectors:[["vg-player"]],contentQueries:function(e,t,n){var i;1&e&&s["\u0275\u0275contentQuery"](n,J,!1),2&e&&s["\u0275\u0275queryRefresh"](i=s["\u0275\u0275loadQuery"]())&&(t.medias=i)},hostVars:8,hostBindings:function(e,t){2&e&&(s["\u0275\u0275styleProp"]("z-index",t.zIndex),s["\u0275\u0275classProp"]("fullscreen",t.isFullscreen)("native-fullscreen",t.isNativeFullscreen)("controls-hidden",t.areControlsHidden))},outputs:{onPlayerReady:"onPlayerReady",onMediaReady:"onMediaReady"},features:[s["\u0275\u0275ProvidersFeature"]([Y,q,$])],ngContentSelectors:H,decls:1,vars:0,template:function(e,t){1&e&&(s["\u0275\u0275projectionDef"](),s["\u0275\u0275projection"](0))},styles:["\n      vg-player {\n        font-family: 'videogular';\n        position: relative;\n        display: flex;\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n        background-color: black;\n      }\n      vg-player.fullscreen {\n        position: fixed;\n        left: 0;\n        top: 0;\n      }\n      vg-player.native-fullscreen.controls-hidden {\n        cursor: none;\n      }\n    "],encapsulation:2}),T),Z=[Y,$,q,W,K,X],ee=((V=function e(){_classCallCheck2(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:V}),V.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||V)},providers:[].concat(Z),imports:[[i.c]]}),V),te=["*"],ne=["volumeBar"],ie=function(e){return{dragging:e}};function re(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"option",4),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("value",n.id)("selected",!0===n.selected),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.label," ")}}function ae(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1,"LIVE"),s["\u0275\u0275elementEnd"]())}function oe(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"vgUtc"),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind2"](2,1,n.getTime(),n.vgFormat))}}function se(e,t){1&e&&s["\u0275\u0275element"](0,"span",2)}var le,ce,ue,de,he,pe,fe,me,ge,ve,be,ye,xe,Se,Ce,ke,Ee,_e=((Ee=function(){function e(t,n,i){_classCallCheck2(this,e),this.API=t,this.hidden=i,this.isAdsPlaying="initial",this.hideControls=!1,this.vgAutohide=!1,this.vgAutohideTime=3,this.subscriptions=[],this.elem=n.nativeElement}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.mouseMove$=Object(_.a)(this.API.videogularElement,"mousemove"),this.subscriptions.push(this.mouseMove$.subscribe(this.show.bind(this))),this.touchStart$=Object(_.a)(this.API.videogularElement,"touchstart"),this.subscriptions.push(this.touchStart$.subscribe(this.show.bind(this))),this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe((function(){return e.onPlayerReady()})))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor),this.subscriptions.push(this.target.subscriptions.play.subscribe(this.onPlay.bind(this))),this.subscriptions.push(this.target.subscriptions.pause.subscribe(this.onPause.bind(this))),this.subscriptions.push(this.target.subscriptions.startAds.subscribe(this.onStartAds.bind(this))),this.subscriptions.push(this.target.subscriptions.endAds.subscribe(this.onEndAds.bind(this)))}},{key:"ngAfterViewInit",value:function(){this.vgAutohide?this.hide():this.show()}},{key:"onPlay",value:function(){this.vgAutohide&&this.hide()}},{key:"onPause",value:function(){clearTimeout(this.timer),this.hideControls=!1,this.hidden.state(!1)}},{key:"onStartAds",value:function(){this.isAdsPlaying="none"}},{key:"onEndAds",value:function(){this.isAdsPlaying="initial"}},{key:"hide",value:function(){this.vgAutohide&&(clearTimeout(this.timer),this.hideAsync())}},{key:"show",value:function(){clearTimeout(this.timer),this.hideControls=!1,this.hidden.state(!1),this.vgAutohide&&this.hideAsync()}},{key:"hideAsync",value:function(){var e=this;this.API.state===X.VG_PLAYING&&(this.timer=setTimeout((function(){e.hideControls=!0,e.hidden.state(!0)}),1e3*this.vgAutohideTime))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||Ee)(s["\u0275\u0275directiveInject"](Y),s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"]($))},Ee.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Ee,selectors:[["vg-controls"]],hostVars:4,hostBindings:function(e,t){2&e&&(s["\u0275\u0275styleProp"]("pointer-events",t.isAdsPlaying),s["\u0275\u0275classProp"]("hide",t.hideControls))},inputs:{vgAutohide:"vgAutohide",vgAutohideTime:"vgAutohideTime",vgFor:"vgFor"},ngContentSelectors:te,decls:1,vars:0,template:function(e,t){1&e&&(s["\u0275\u0275projectionDef"](),s["\u0275\u0275projection"](0))},styles:["\n      vg-controls {\n        position: absolute;\n        display: flex;\n        width: 100%;\n        height: 50px;\n        z-index: 300;\n        bottom: 0;\n        background-color: rgba(0, 0, 0, 0.5);\n        -webkit-transition: bottom 1s;\n        -khtml-transition: bottom 1s;\n        -moz-transition: bottom 1s;\n        -ms-transition: bottom 1s;\n        transition: bottom 1s;\n      }\n      vg-controls.hide {\n        bottom: -50px;\n      }\n    "],encapsulation:2}),Ee),we=((ke=function(){function e(t,n){_classCallCheck2(this,e),this.API=n,this.subscriptions=[],this.elem=t.nativeElement,this.isDragging=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe((function(){return e.onPlayerReady()})))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor),this.ariaValue=100*this.getVolume()}},{key:"onClick",value:function(e){this.setVolume(this.calculateVolume(e.clientX))}},{key:"onMouseDown",value:function(e){this.mouseDownPosX=e.clientX,this.isDragging=!0}},{key:"onDrag",value:function(e){this.isDragging&&this.setVolume(this.calculateVolume(e.clientX))}},{key:"onStopDrag",value:function(e){this.isDragging&&(this.isDragging=!1,this.mouseDownPosX===e.clientX&&this.setVolume(this.calculateVolume(e.clientX)))}},{key:"arrowAdjustVolume",value:function(e){38===e.keyCode||39===e.keyCode?(e.preventDefault(),this.setVolume(Math.max(0,Math.min(100,100*this.getVolume()+10)))):37!==e.keyCode&&40!==e.keyCode||(e.preventDefault(),this.setVolume(Math.max(0,Math.min(100,100*this.getVolume()-10))))}},{key:"calculateVolume",value:function(e){var t=this.volumeBarRef.nativeElement.getBoundingClientRect();return(e-t.left)/t.width*100}},{key:"setVolume",value:function(e){this.target.volume=Math.max(0,Math.min(1,e/100)),this.ariaValue=100*this.target.volume}},{key:"getVolume",value:function(){return this.target?this.target.volume:0}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||ke)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](Y))},ke.\u0275cmp=s["\u0275\u0275defineComponent"]({type:ke,selectors:[["vg-volume"]],viewQuery:function(e,t){var n;1&e&&s["\u0275\u0275staticViewQuery"](ne,!0),2&e&&s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.volumeBarRef=n.first)},hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("mousemove",(function(e){return t.onDrag(e)}),!1,s["\u0275\u0275resolveDocument"])("mouseup",(function(e){return t.onStopDrag(e)}),!1,s["\u0275\u0275resolveDocument"])("keydown",(function(e){return t.arrowAdjustVolume(e)}))},inputs:{vgFor:"vgFor"},decls:5,vars:9,consts:[["tabindex","0","role","slider","aria-label","volume level","aria-level","polite","aria-valuemin","0","aria-valuemax","100","aria-orientation","horizontal",1,"volumeBar",3,"click","mousedown"],["volumeBar",""],[1,"volumeBackground",3,"ngClass"],[1,"volumeValue"],[1,"volumeKnob"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0,1),s["\u0275\u0275listener"]("click",(function(e){return t.onClick(e)}))("mousedown",(function(e){return t.onMouseDown(e)})),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275element"](3,"div",3),s["\u0275\u0275element"](4,"div",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275attribute"]("aria-valuenow",t.ariaValue)("aria-valuetext",t.ariaValue+"%"),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction1"](7,ie,t.isDragging)),s["\u0275\u0275advance"](1),s["\u0275\u0275styleProp"]("width",85*t.getVolume()+"%"),s["\u0275\u0275advance"](1),s["\u0275\u0275styleProp"]("left",85*t.getVolume()+"%"))},directives:[i.m],styles:["\n      vg-volume {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        height: 50px;\n        width: 100px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n      }\n      vg-volume .volumeBar {\n        position: relative;\n        display: flex;\n        flex-grow: 1;\n        align-items: center;\n      }\n      vg-volume .volumeBackground {\n        display: flex;\n        flex-grow: 1;\n        height: 5px;\n        pointer-events: none;\n        background-color: #333;\n      }\n      vg-volume .volumeValue {\n        display: flex;\n        height: 5px;\n        pointer-events: none;\n        background-color: #fff;\n        transition: all 0.2s ease-out;\n      }\n      vg-volume .volumeKnob {\n        position: absolute;\n        width: 15px;\n        height: 15px;\n        left: 0;\n        top: 50%;\n        transform: translateY(-50%);\n        border-radius: 15px;\n        pointer-events: none;\n        background-color: #fff;\n        transition: all 0.2s ease-out;\n      }\n      vg-volume .volumeBackground.dragging .volumeValue,\n      vg-volume .volumeBackground.dragging .volumeKnob {\n        transition: none;\n      }\n    "],encapsulation:2}),ke),Pe=((Ce=function(){function e(t,n){_classCallCheck2(this,e),this.API=n,this.subscriptions=[],this.elem=t.nativeElement}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe((function(){return e.onPlayerReady()})))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor);var e=Array.from(this.API.getMasterMedia().elem.children).filter((function(e){return"TRACK"===e.tagName})).filter((function(e){return"subtitles"===e.kind})).map((function(e){return{label:e.label,selected:!0===e.default,id:e.srclang}}));this.tracks=[].concat(_toConsumableArray(e),[{id:null,label:"Off",selected:e.every((function(e){return!1===e.selected}))}]);var t=this.tracks.filter((function(e){return!0===e.selected}))[0];this.trackSelected=t.id,this.ariaValue=t.label}},{key:"selectTrack",value:function(e){var t=this;this.trackSelected="null"===e?null:e,this.ariaValue="No track selected",Array.from(this.API.getMasterMedia().elem.textTracks).forEach((function(n){n.language===e?(t.ariaValue=n.label,n.mode="showing"):n.mode="hidden"}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||Ce)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](Y))},Ce.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Ce,selectors:[["vg-track-selector"]],inputs:{vgFor:"vgFor"},decls:5,vars:5,consts:[[1,"container"],[1,"track-selected"],["tabindex","0","aria-label","track selector",1,"trackSelector",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"select",2),s["\u0275\u0275listener"]("change",(function(e){return t.selectTrack(e.target.value)})),s["\u0275\u0275template"](4,re,2,3,"option",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275classProp"]("vg-icon-closed_caption",!t.trackSelected),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",t.trackSelected||""," "),s["\u0275\u0275advance"](1),s["\u0275\u0275attribute"]("aria-valuetext",t.ariaValue),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",t.tracks))},directives:[i.n],styles:["\n      vg-track-selector {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        width: 50px;\n        height: 50px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n      }\n      vg-track-selector .container {\n        position: relative;\n        display: flex;\n        flex-grow: 1;\n        align-items: center;\n        padding: 0;\n        margin: 5px;\n      }\n      vg-track-selector select.trackSelector {\n        width: 50px;\n        padding: 5px 8px;\n        border: none;\n        background: none;\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        appearance: none;\n        color: transparent;\n        font-size: 16px;\n      }\n      vg-track-selector select.trackSelector::-ms-expand {\n        display: none;\n      }\n      vg-track-selector select.trackSelector option {\n        color: #000;\n      }\n      vg-track-selector .track-selected {\n        position: absolute;\n        width: 100%;\n        height: 50px;\n        top: -6px;\n        text-align: center;\n        text-transform: uppercase;\n        font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n        padding-top: 2px;\n        pointer-events: none;\n      }\n      vg-track-selector .vg-icon-closed_caption:before {\n        width: 100%;\n      }\n    "],encapsulation:2}),Ce),Oe=((Se=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"transform",value:function(e,t){var n=new Date(e),i=t,r=n.getUTCSeconds(),a=n.getUTCMinutes(),o=n.getUTCHours();return r<10&&(r="0"+r),a<10&&(a="0"+a),o<10&&(o="0"+o),i=(i=(i=i.replace(/ss/g,r)).replace(/mm/g,a)).replace(/hh/g,o)}}]),e}()).\u0275fac=function(e){return new(e||Se)},Se.\u0275pipe=s["\u0275\u0275definePipe"]({name:"vgUtc",type:Se,pure:!0}),Se),Me=((xe=function(){function e(t,n){_classCallCheck2(this,e),this.API=n,this.vgProperty="current",this.vgFormat="mm:ss",this.subscriptions=[],this.elem=t.nativeElement}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe((function(){return e.onPlayerReady()})))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor)}},{key:"getTime",value:function(){var e=0;return this.target&&(e=Math.round(this.target.time[this.vgProperty]),e=isNaN(e)||this.target.isLive?0:e),e}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||xe)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](Y))},xe.\u0275cmp=s["\u0275\u0275defineComponent"]({type:xe,selectors:[["vg-time-display"]],inputs:{vgProperty:"vgProperty",vgFormat:"vgFormat",vgFor:"vgFor"},ngContentSelectors:te,decls:3,vars:2,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(s["\u0275\u0275projectionDef"](),s["\u0275\u0275template"](0,ae,2,0,"span",0),s["\u0275\u0275template"](1,oe,3,4,"span",0),s["\u0275\u0275projection"](2)),2&e&&(s["\u0275\u0275property"]("ngIf",null==t.target?null:t.target.isLive),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!(null!=t.target&&t.target.isLive)))},directives:[i.o],pipes:[Oe],styles:["\n      vg-time-display {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        height: 50px;\n        width: 60px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n        pointer-events: none;\n        font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n      }\n    "],encapsulation:2}),xe),Ae=((ye=function(){function e(t,n,i){var r=this;_classCallCheck2(this,e),this.API=n,this.hideScrubBar=!1,this.vgSlider=!0,this.isSeeking=!1,this.wasPlaying=!1,this.subscriptions=[],this.elem=t.nativeElement,this.subscriptions.push(i.isHidden.subscribe((function(e){return r.onHideScrubBar(e)})))}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe((function(){return e.onPlayerReady()})))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor)}},{key:"seekStart",value:function(){this.target.canPlay&&(this.isSeeking=!0,this.target.state===X.VG_PLAYING&&(this.wasPlaying=!0),this.target.pause())}},{key:"seekMove",value:function(e){if(this.isSeeking){var t=Math.max(Math.min(100*e/this.elem.scrollWidth,99.9),0);this.target.time.current=t*this.target.time.total/100,this.target.seekTime(t,!0)}}},{key:"seekEnd",value:function(e){if(this.isSeeking=!1,this.target.canPlay){var t=Math.max(Math.min(100*e/this.elem.scrollWidth,99.9),0);this.target.seekTime(t,!0),this.wasPlaying&&(this.wasPlaying=!1,this.target.play())}}},{key:"touchEnd",value:function(){this.isSeeking=!1,this.wasPlaying&&(this.wasPlaying=!1,this.target.play())}},{key:"getTouchOffset",value:function(e){for(var t=0,n=e.target;n;)t+=n.offsetLeft,n=n.offsetParent;return e.touches[0].pageX-t}},{key:"onMouseDownScrubBar",value:function(e){this.target&&(this.target.isLive||(this.vgSlider?this.seekStart():this.seekEnd(e.offsetX)))}},{key:"onMouseMoveScrubBar",value:function(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.seekMove(e.offsetX)}},{key:"onMouseUpScrubBar",value:function(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.seekEnd(e.offsetX)}},{key:"onTouchStartScrubBar",value:function(e){this.target&&(this.target.isLive||(this.vgSlider?this.seekStart():this.seekEnd(this.getTouchOffset(e))))}},{key:"onTouchMoveScrubBar",value:function(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.seekMove(this.getTouchOffset(e))}},{key:"onTouchCancelScrubBar",value:function(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.touchEnd()}},{key:"onTouchEndScrubBar",value:function(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.touchEnd()}},{key:"arrowAdjustVolume",value:function(e){this.target&&(38===e.keyCode||39===e.keyCode?(e.preventDefault(),this.target.seekTime((this.target.time.current+5e3)/1e3,!1)):37!==e.keyCode&&40!==e.keyCode||(e.preventDefault(),this.target.seekTime((this.target.time.current-5e3)/1e3,!1)))}},{key:"getPercentage",value:function(){return this.target?Math.round(100*this.target.time.current/this.target.time.total)+"%":"0%"}},{key:"onHideScrubBar",value:function(e){this.hideScrubBar=e}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||ye)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](Y),s["\u0275\u0275directiveInject"]($))},ye.\u0275cmp=s["\u0275\u0275defineComponent"]({type:ye,selectors:[["vg-scrub-bar"]],hostVars:2,hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("mousedown",(function(e){return t.onMouseDownScrubBar(e)}))("mousemove",(function(e){return t.onMouseMoveScrubBar(e)}),!1,s["\u0275\u0275resolveDocument"])("mouseup",(function(e){return t.onMouseUpScrubBar(e)}),!1,s["\u0275\u0275resolveDocument"])("touchstart",(function(e){return t.onTouchStartScrubBar(e)}))("touchmove",(function(e){return t.onTouchMoveScrubBar(e)}),!1,s["\u0275\u0275resolveDocument"])("touchcancel",(function(e){return t.onTouchCancelScrubBar(e)}),!1,s["\u0275\u0275resolveDocument"])("touchend",(function(e){return t.onTouchEndScrubBar(e)}),!1,s["\u0275\u0275resolveDocument"])("keydown",(function(e){return t.arrowAdjustVolume(e)})),2&e&&s["\u0275\u0275classProp"]("hide",t.hideScrubBar)},inputs:{vgSlider:"vgSlider",vgFor:"vgFor"},ngContentSelectors:te,decls:2,vars:2,consts:[["tabindex","0","role","slider","aria-label","scrub bar","aria-level","polite","aria-valuemin","0","aria-valuemax","100",1,"scrubBar"]],template:function(e,t){1&e&&(s["\u0275\u0275projectionDef"](),s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275projection"](1),s["\u0275\u0275elementEnd"]()),2&e&&s["\u0275\u0275attribute"]("aria-valuenow",t.getPercentage())("aria-valuetext",t.getPercentage())},styles:["\n      vg-scrub-bar {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        position: absolute;\n        width: 100%;\n        height: 5px;\n        bottom: 50px;\n        margin: 0;\n        cursor: pointer;\n        align-items: center;\n        background: rgba(0, 0, 0, 0.75);\n        z-index: 250;\n        -webkit-transition: bottom 1s, opacity 0.5s;\n        -khtml-transition: bottom 1s, opacity 0.5s;\n        -moz-transition: bottom 1s, opacity 0.5s;\n        -ms-transition: bottom 1s, opacity 0.5s;\n        transition: bottom 1s, opacity 0.5s;\n      }\n      vg-scrub-bar .scrubBar {\n        position: relative;\n        display: flex;\n        flex-grow: 1;\n        align-items: center;\n        height: 100%;\n      }\n      vg-controls vg-scrub-bar {\n        position: relative;\n        bottom: 0;\n        background: transparent;\n        height: 50px;\n        flex-grow: 1;\n        flex-basis: 0;\n        margin: 0 10px;\n        -webkit-transition: initial;\n        -khtml-transition: initial;\n        -moz-transition: initial;\n        -ms-transition: initial;\n        transition: initial;\n      }\n      vg-scrub-bar.hide {\n        bottom: 0;\n        opacity: 0;\n      }\n      vg-controls vg-scrub-bar.hide {\n        bottom: initial;\n        opacity: initial;\n      }\n    "],encapsulation:2}),ye),Ie=((be=function(){function e(t,n,i){_classCallCheck2(this,e),this.API=n,this.cdr=i,this.subscriptions=[],this.ariaValue=1,this.elem=t.nativeElement,this.playbackValues=["0.5","1.0","1.5","2.0"],this.playbackIndex=1}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe((function(){return e.onPlayerReady()})))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor)}},{key:"onClick",value:function(){this.updatePlaybackSpeed()}},{key:"onKeyDown",value:function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),this.updatePlaybackSpeed())}},{key:"updatePlaybackSpeed",value:function(){this.playbackIndex=++this.playbackIndex%this.playbackValues.length,this.target instanceof Y?this.target.playbackRate=this.playbackValues[this.playbackIndex]:this.target.playbackRate[this.vgFor]=this.playbackValues[this.playbackIndex],this.detectChanges()}},{key:"getPlaybackRate",value:function(){return this.ariaValue=this.target?this.target.playbackRate:1,this.ariaValue}},{key:"detectChanges",value:function(){try{this.cdr.detectChanges()}catch(e){console.warn(e)}}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||be)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](Y),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef))},be.\u0275cmp=s["\u0275\u0275defineComponent"]({type:be,selectors:[["vg-playback-button"]],hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("click",(function(){return t.onClick()}))("keydown",(function(e){return t.onKeyDown(e)}))},inputs:{playbackValues:"playbackValues",vgFor:"vgFor"},decls:2,vars:2,consts:[["tabindex","0","role","button","aria-label","playback speed button",1,"button"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span",0),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275attribute"]("aria-valuetext",t.ariaValue),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",t.getPlaybackRate(),"x "))},styles:["\n      vg-playback-button {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        height: 50px;\n        width: 50px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n        font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n      }\n      vg-playback-button .button {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 50px;\n      }\n    "],encapsulation:2}),be),Te=((ve=function(){function e(t,n){_classCallCheck2(this,e),this.API=n,this.subscriptions=[],this.ariaValue=X.VG_PAUSED,this.elem=t.nativeElement}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe((function(){return e.onPlayerReady()})))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor)}},{key:"onClick",value:function(){this.playPause()}},{key:"onKeyDown",value:function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),this.playPause())}},{key:"playPause",value:function(){switch(this.getState()){case X.VG_PLAYING:this.target.pause();break;case X.VG_PAUSED:case X.VG_ENDED:this.target.play()}}},{key:"getState",value:function(){return this.ariaValue=this.target?this.target.state:X.VG_PAUSED,this.ariaValue}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||ve)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](Y))},ve.\u0275cmp=s["\u0275\u0275defineComponent"]({type:ve,selectors:[["vg-play-pause"]],hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("click",(function(){return t.onClick()}))("keydown",(function(e){return t.onKeyDown(e)}))},inputs:{vgFor:"vgFor"},decls:1,vars:6,consts:[["tabindex","0","role","button",1,"icon"]],template:function(e,t){1&e&&s["\u0275\u0275element"](0,"div",0),2&e&&(s["\u0275\u0275classProp"]("vg-icon-pause","playing"===t.getState())("vg-icon-play_arrow","paused"===t.getState()||"ended"===t.getState()),s["\u0275\u0275attribute"]("aria-label","paused"===t.getState()?"play":"pause")("aria-valuetext",t.ariaValue))},styles:["\n      vg-play-pause {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -khtml-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        height: 50px;\n        width: 50px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n      }\n      vg-play-pause .icon {\n        pointer-events: none;\n      }\n    "],encapsulation:2}),ve),je=((ge=function(){function e(t,n){_classCallCheck2(this,e),this.API=n,this.subscriptions=[],this.ariaValue="unmuted",this.elem=t.nativeElement}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe((function(){return e.onPlayerReady()})))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor),this.currentVolume=this.target.volume}},{key:"onClick",value:function(){this.changeMuteState()}},{key:"onKeyDown",value:function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),this.changeMuteState())}},{key:"changeMuteState",value:function(){var e=this.getVolume();0===e?(0===this.target.volume&&0===this.currentVolume&&(this.currentVolume=1),this.target.volume=this.currentVolume):(this.currentVolume=e,this.target.volume=0)}},{key:"getVolume",value:function(){var e=this.target?this.target.volume:0;return this.ariaValue=e?"unmuted":"muted",e}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||ge)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](Y))},ge.\u0275cmp=s["\u0275\u0275defineComponent"]({type:ge,selectors:[["vg-mute"]],hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("click",(function(){return t.onClick()}))("keydown",(function(e){return t.onKeyDown(e)}))},inputs:{vgFor:"vgFor"},decls:1,vars:9,consts:[["tabindex","0","role","button","aria-label","mute button",1,"icon"]],template:function(e,t){1&e&&s["\u0275\u0275element"](0,"div",0),2&e&&(s["\u0275\u0275classProp"]("vg-icon-volume_up",t.getVolume()>=.75)("vg-icon-volume_down",t.getVolume()>=.25&&t.getVolume()<.75)("vg-icon-volume_mute",t.getVolume()>0&&t.getVolume()<.25)("vg-icon-volume_off",0===t.getVolume()),s["\u0275\u0275attribute"]("aria-valuetext",t.ariaValue))},styles:["\n      vg-mute {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -khtml-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        height: 50px;\n        width: 50px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n      }\n      vg-mute .icon {\n        pointer-events: none;\n      }\n    "],encapsulation:2}),ge),Le=((me=function(){function e(t,n,i){_classCallCheck2(this,e),this.API=n,this.fsAPI=i,this.isFullscreen=!1,this.subscriptions=[],this.ariaValue="normal mode",this.elem=t.nativeElement,this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this)))}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe((function(){return e.onPlayerReady()})))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor)}},{key:"onChangeFullscreen",value:function(e){this.ariaValue=e?"fullscreen mode":"normal mode",this.isFullscreen=e}},{key:"onClick",value:function(){this.changeFullscreenState()}},{key:"onKeyDown",value:function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),this.changeFullscreenState())}},{key:"changeFullscreenState",value:function(){var e=this.target;this.target instanceof Y&&(e=null),this.fsAPI.toggleFullscreen(e)}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||me)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](Y),s["\u0275\u0275directiveInject"](q))},me.\u0275cmp=s["\u0275\u0275defineComponent"]({type:me,selectors:[["vg-fullscreen"]],hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("click",(function(){return t.onClick()}))("keydown",(function(e){return t.onKeyDown(e)}))},decls:1,vars:5,consts:[["tabindex","0","role","button","aria-label","fullscreen button",1,"icon"]],template:function(e,t){1&e&&s["\u0275\u0275element"](0,"div",0),2&e&&(s["\u0275\u0275classProp"]("vg-icon-fullscreen",!t.isFullscreen)("vg-icon-fullscreen_exit",t.isFullscreen),s["\u0275\u0275attribute"]("aria-valuetext",t.ariaValue))},styles:["\n      vg-fullscreen {\n        -webkit-touch-callout: none;\n        -webkit-user-select: none;\n        -khtml-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: flex;\n        justify-content: center;\n        height: 50px;\n        width: 50px;\n        cursor: pointer;\n        color: white;\n        line-height: 50px;\n      }\n      vg-fullscreen .icon {\n        pointer-events: none;\n      }\n    "],encapsulation:2}),me),De=((fe=function(){function e(t,n){_classCallCheck2(this,e),this.API=n,this.subscriptions=[],this.elem=t.nativeElement}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe((function(){return e.onPlayerReady()})))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor)}},{key:"getBufferTime",value:function(){var e="0%";return this.target&&this.target.buffer&&this.target.buffered.length&&(e=0===this.target.time.total?"0%":this.target.buffer.end/this.target.time.total*100+"%"),e}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||fe)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](Y))},fe.\u0275cmp=s["\u0275\u0275defineComponent"]({type:fe,selectors:[["vg-scrub-bar-buffering-time"]],inputs:{vgFor:"vgFor"},decls:1,vars:2,consts:[[1,"background"]],template:function(e,t){1&e&&s["\u0275\u0275element"](0,"div",0),2&e&&s["\u0275\u0275styleProp"]("width",t.getBufferTime())},styles:["\n      vg-scrub-bar-buffering-time {\n        display: flex;\n        width: 100%;\n        height: 5px;\n        pointer-events: none;\n        position: absolute;\n      }\n      vg-scrub-bar-buffering-time .background {\n        background-color: rgba(255, 255, 255, 0.3);\n      }\n      vg-controls vg-scrub-bar-buffering-time {\n        position: absolute;\n        top: calc(50% - 3px);\n      }\n      vg-controls vg-scrub-bar-buffering-time .background {\n        -webkit-border-radius: 2px;\n        -moz-border-radius: 2px;\n        border-radius: 2px;\n      }\n    "],encapsulation:2}),fe),Fe=((pe=function(){function e(t,n){_classCallCheck2(this,e),this.API=n,this.vgSlider=!1,this.subscriptions=[],this.elem=t.nativeElement}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe((function(){return e.onPlayerReady()})))}},{key:"onPlayerReady",value:function(){this.target=this.API.getMediaById(this.vgFor)}},{key:"getPercentage",value:function(){return this.target?Math.round(100*this.target.time.current/this.target.time.total)+"%":"0%"}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||pe)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](Y))},pe.\u0275cmp=s["\u0275\u0275defineComponent"]({type:pe,selectors:[["vg-scrub-bar-current-time"]],inputs:{vgSlider:"vgSlider",vgFor:"vgFor"},decls:2,vars:3,consts:[[1,"background"],["class","slider",4,"ngIf"],[1,"slider"]],template:function(e,t){1&e&&(s["\u0275\u0275element"](0,"div",0),s["\u0275\u0275template"](1,se,1,0,"span",1)),2&e&&(s["\u0275\u0275styleProp"]("width",t.getPercentage()),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.vgSlider))},directives:[i.o],styles:["\n      vg-scrub-bar-current-time {\n        display: flex;\n        width: 100%;\n        height: 5px;\n        pointer-events: none;\n        position: absolute;\n      }\n      vg-scrub-bar-current-time .background {\n        background-color: white;\n      }\n      vg-controls vg-scrub-bar-current-time {\n        position: absolute;\n        top: calc(50% - 3px);\n        -webkit-border-radius: 2px;\n        -moz-border-radius: 2px;\n        border-radius: 2px;\n      }\n      vg-controls vg-scrub-bar-current-time .background {\n        border: 1px solid white;\n        -webkit-border-radius: 2px;\n        -moz-border-radius: 2px;\n        border-radius: 2px;\n      }\n      vg-scrub-bar-current-time .slider {\n        background: white;\n        height: 15px;\n        width: 15px;\n        border-radius: 50%;\n        box-shadow: 0px 0px 10px black;\n        margin-top: -5px;\n        margin-left: -10px;\n      }\n    "],encapsulation:2}),pe),Re=((he=function e(){_classCallCheck2(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:he}),he.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||he)},imports:[[i.c,ee]]}),he),Be=((de=function(){function e(t,n,i,r){_classCallCheck2(this,e),this.API=n,this.fsAPI=i,this.controlsHidden=r,this.isNativeFullscreen=!1,this.areControlsHidden=!1,this.subscriptions=[],this.isBuffering=!1,this.elem=t.nativeElement}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe((function(){return e.onPlayerReady()})))}},{key:"onPlayerReady",value:function(){var e=this;this.target=this.API.getMediaById(this.vgFor),this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this))),this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this))),this.subscriptions.push(this.target.subscriptions.bufferDetected.subscribe((function(t){return e.onUpdateBuffer(t)})))}},{key:"onUpdateBuffer",value:function(e){this.isBuffering=e}},{key:"onChangeFullscreen",value:function(e){this.fsAPI.nativeFullscreen&&(this.isNativeFullscreen=e)}},{key:"onHideControls",value:function(e){this.areControlsHidden=e}},{key:"onClick",value:function(){switch(this.getState()){case X.VG_PLAYING:this.target.pause();break;case X.VG_PAUSED:case X.VG_ENDED:this.target.play()}}},{key:"getState",value:function(){var e=X.VG_PAUSED;if(this.target)if(this.target.state instanceof Array){for(var t=0,n=this.target.state.length;t<n;t++)if(this.target.state[t]===X.VG_PLAYING){e=X.VG_PLAYING;break}}else e=this.target.state;return e}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||de)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](Y),s["\u0275\u0275directiveInject"](q),s["\u0275\u0275directiveInject"]($))},de.\u0275cmp=s["\u0275\u0275defineComponent"]({type:de,selectors:[["vg-overlay-play"]],hostVars:2,hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("click",(function(){return t.onClick()})),2&e&&s["\u0275\u0275classProp"]("is-buffering",t.isBuffering)},inputs:{vgFor:"vgFor"},decls:2,vars:6,consts:[[1,"vg-overlay-play"],[1,"overlay-play-container"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275element"](1,"div",1),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275classProp"]("native-fullscreen",t.isNativeFullscreen)("controls-hidden",t.areControlsHidden),s["\u0275\u0275advance"](1),s["\u0275\u0275classProp"]("vg-icon-play_arrow","playing"!==t.getState()))},styles:["\n      vg-overlay-play {\n        z-index: 200;\n      }\n      vg-overlay-play.is-buffering {\n        display: none;\n      }\n      vg-overlay-play .vg-overlay-play {\n        transition: all 0.5s;\n        cursor: pointer;\n        position: absolute;\n        display: block;\n        color: white;\n        width: 100%;\n        height: 100%;\n        font-size: 80px;\n        filter: alpha(opacity=60);\n        opacity: 0.6;\n      }\n      vg-overlay-play .vg-overlay-play.native-fullscreen.controls-hidden {\n        cursor: none;\n      }\n      vg-overlay-play\n        .vg-overlay-play\n        .overlay-play-container.vg-icon-play_arrow {\n        pointer-events: none;\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 80px;\n      }\n      vg-overlay-play .vg-overlay-play:hover {\n        filter: alpha(opacity=100);\n        opacity: 1;\n      }\n      vg-overlay-play\n        .vg-overlay-play:hover\n        .overlay-play-container.vg-icon-play_arrow:before {\n        transform: scale(1.2);\n      }\n    "],encapsulation:2}),de),Ne=((ue=function e(){_classCallCheck2(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:ue}),ue.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||ue)},imports:[[i.c,ee]]}),ue),Ve=((ce=function(){function e(t,n){_classCallCheck2(this,e),this.API=n,this.checkInterval=50,this.currentPlayPos=0,this.lastPlayPos=0,this.subscriptions=[],this.isBuffering=!1,this.elem=t.nativeElement}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe((function(){return e.onPlayerReady()})))}},{key:"onPlayerReady",value:function(){var e=this;this.target=this.API.getMediaById(this.vgFor),this.subscriptions.push(this.target.subscriptions.bufferDetected.subscribe((function(t){return e.onUpdateBuffer(t)})))}},{key:"onUpdateBuffer",value:function(e){this.isBuffering=e}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||ce)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](Y))},ce.\u0275cmp=s["\u0275\u0275defineComponent"]({type:ce,selectors:[["vg-buffering"]],hostVars:2,hostBindings:function(e,t){2&e&&s["\u0275\u0275classProp"]("is-buffering",t.isBuffering)},inputs:{vgFor:"vgFor"},decls:3,vars:0,consts:[[1,"vg-buffering"],[1,"bufferingContainer"],[1,"loadingSpinner"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275element"](2,"div",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())},styles:["\n      vg-buffering {\n        display: none;\n        z-index: 201;\n      }\n      vg-buffering.is-buffering {\n        display: block;\n      }\n\n      .vg-buffering {\n        position: absolute;\n        display: block;\n        width: 100%;\n        height: 100%;\n      }\n      .vg-buffering .bufferingContainer {\n        width: 100%;\n        position: absolute;\n        cursor: pointer;\n        top: 50%;\n        margin-top: -50px;\n        zoom: 1;\n        filter: alpha(opacity=60);\n        opacity: 0.6;\n      }\n      /* Loading Spinner\n        * http://www.alessioatzeni.com/blog/css3-loading-animation-loop/\n        */\n      .vg-buffering .loadingSpinner {\n        background-color: rgba(0, 0, 0, 0);\n        border: 5px solid rgba(255, 255, 255, 1);\n        opacity: 0.9;\n        border-top: 5px solid rgba(0, 0, 0, 0);\n        border-left: 5px solid rgba(0, 0, 0, 0);\n        border-radius: 50px;\n        box-shadow: 0 0 35px #ffffff;\n        width: 50px;\n        height: 50px;\n        margin: 0 auto;\n        -moz-animation: spin 0.5s infinite linear;\n        -webkit-animation: spin 0.5s infinite linear;\n      }\n      .vg-buffering .loadingSpinner .stop {\n        -webkit-animation-play-state: paused;\n        -moz-animation-play-state: paused;\n      }\n      @-moz-keyframes spin {\n        0% {\n          -moz-transform: rotate(0deg);\n        }\n        100% {\n          -moz-transform: rotate(360deg);\n        }\n      }\n      @-moz-keyframes spinoff {\n        0% {\n          -moz-transform: rotate(0deg);\n        }\n        100% {\n          -moz-transform: rotate(-360deg);\n        }\n      }\n      @-webkit-keyframes spin {\n        0% {\n          -webkit-transform: rotate(0deg);\n        }\n        100% {\n          -webkit-transform: rotate(360deg);\n        }\n      }\n      @-webkit-keyframes spinoff {\n        0% {\n          -webkit-transform: rotate(0deg);\n        }\n        100% {\n          -webkit-transform: rotate(-360deg);\n        }\n      }\n    "],encapsulation:2}),ce),ze=((le=function e(){_classCallCheck2(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:le}),le.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||le)},imports:[[i.c,ee]]}),le),Ge=n("aceb"),Ue=n("tR1z"),He=n("RS3s"),Xe=n("z+eI");function Ye(e,t){if(1&e&&s["\u0275\u0275element"](0,"div",5),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275propertyInterpolate1"]("ngClass","ngx-org-connector-",n.direction,"")}}var $e=function(e){return{"background-image":e}};function We(e,t){if(1&e&&s["\u0275\u0275element"](0,"div",6),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("ngStyle",s["\u0275\u0275pureFunction1"](1,$e,"url('"+(null==n.node?null:n.node.image)+"')"))}}function qe(e,t){if(1&e&&s["\u0275\u0275element"](0,"div",5),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275propertyInterpolate1"]("ngClass","ngx-org-connector-",n.direction,"")}}function Ke(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"ngx-chart-node",2),s["\u0275\u0275listener"]("itemClick",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().itemClick.emit(e)})),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275propertyInterpolate1"]("ngClass","ngx-org-",i.direction,""),s["\u0275\u0275property"]("node",i.node)("hasParent",i.hasParent)("direction",i.direction)}}function Je(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"div",5),s["\u0275\u0275elementStart"](2,"div",6),s["\u0275\u0275element"](3,"div",7),s["\u0275\u0275element"](4,"div",8),s["\u0275\u0275element"](5,"div",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"ngx-chart-designer",9),s["\u0275\u0275listener"]("itemClick",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).itemClick.emit(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=t.$implicit,r=t.first,a=t.last,o=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275propertyInterpolate1"]("ngClass","ngx-org-org-container-",o.direction,""),s["\u0275\u0275advance"](1),s["\u0275\u0275propertyInterpolate1"]("ngClass","ngx-org-connector-container-",o.direction,""),s["\u0275\u0275advance"](1),s["\u0275\u0275styleProp"]("border-color",r?"transparent":""),s["\u0275\u0275advance"](2),s["\u0275\u0275styleProp"]("border-color",a?"transparent":""),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("node",i)("hasParent",!0)("direction",o.direction)}}function Qe(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",3),s["\u0275\u0275template"](1,Je,7,9,"ng-container",4),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275propertyInterpolate1"]("ngClass","ngx-org-reports-",n.direction,""),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",null==n.node?null:n.node.childs)}}function Ze(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"div"),s["\u0275\u0275elementStart"](2,"ngx-chart-designer",2),s["\u0275\u0275listener"]("itemClick",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"](2).itemClick.emit(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()}if(2&e){var i=t.$implicit,r=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275classMapInterpolate1"]("ngx-org-self-",r.direction,""),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("node",i)("direction",r.direction)}}function et(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275template"](1,Ze,3,5,"ng-container",1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",n.nodes)}}var tt,nt,it,rt,at,ot,st=((ot=function e(){_classCallCheck2(this,e),this.hasParent=!1,this.direction="vertical",this.itemClick=new s.EventEmitter}).\u0275fac=function(e){return new(e||ot)},ot.\u0275cmp=s["\u0275\u0275defineComponent"]({type:ot,selectors:[["ngx-chart-node"]],inputs:{hasParent:"hasParent",direction:"direction",node:"node"},outputs:{itemClick:"itemClick"},decls:9,vars:6,consts:[["class","ngx-org-border",3,"ngClass",4,"ngIf"],[1,"ngx-org-box","ngx-org-border","ngx-org-background",3,"ngClass","click"],["class","ngx-org-image ngx-org-border",3,"ngStyle",4,"ngIf"],[1,"ngx-org-name"],[1,"ngx-org-title"],[1,"ngx-org-border",3,"ngClass"],[1,"ngx-org-image","ngx-org-border",3,"ngStyle"]],template:function(e,t){1&e&&(s["\u0275\u0275template"](0,Ye,1,1,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275listener"]("click",(function(){return t.itemClick.emit(t.node)})),s["\u0275\u0275template"](2,We,1,3,"div",2),s["\u0275\u0275elementStart"](3,"div"),s["\u0275\u0275elementStart"](4,"div",3),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",4),s["\u0275\u0275text"](7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](8,qe,1,1,"div",0)),2&e&&(s["\u0275\u0275property"]("ngIf",t.hasParent),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngClass",null==t.node?null:t.node.cssClass),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==t.node?null:t.node.image),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate"](null==t.node?null:t.node.name),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](null==t.node?null:t.node.title),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==t.node?null:null==t.node.childs?null:t.node.childs.length))},directives:[i.o,i.m,i.p],styles:["[_nghost-%COMP%]{display:flex;align-items:center}.ngx-org-box[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}"]}),ot),lt=((at=function e(){_classCallCheck2(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:at,bootstrap:function(){return[st]}}),at.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||at)},imports:[[i.c]]}),at),ct=((rt=function(){function e(){_classCallCheck2(this,e),this.hasParent=!1,this.direction="vertical",this.itemClick=new s.EventEmitter}return _createClass2(e,[{key:"hostClass",get:function(){return"vertical"===this.direction?"column":""}}]),e}()).\u0275fac=function(e){return new(e||rt)},rt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:rt,selectors:[["ngx-chart-designer"]],hostVars:2,hostBindings:function(e,t){2&e&&s["\u0275\u0275styleProp"]("flex-direction",t.hostClass)},inputs:{hasParent:"hasParent",direction:"direction",node:"node"},outputs:{itemClick:"itemClick"},decls:2,vars:2,consts:[[3,"ngClass","node","hasParent","direction","itemClick",4,"ngIf"],["class","ngx-org-reports",3,"ngClass",4,"ngIf"],[3,"ngClass","node","hasParent","direction","itemClick"],[1,"ngx-org-reports",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"ngx-org-org-container",3,"ngClass"],[1,"ngx-org-connector-container",3,"ngClass"],[1,"ngx-org-connector","ngx-org-border"],[1,"ngx-org-border"],[3,"node","hasParent","direction","itemClick"]],template:function(e,t){1&e&&(s["\u0275\u0275template"](0,Ke,1,4,"ngx-chart-node",0),s["\u0275\u0275template"](1,Qe,2,2,"div",1)),2&e&&(s["\u0275\u0275property"]("ngIf",t.node),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==t.node?null:null==t.node.childs?null:t.node.childs.length))},directives:[i.o,st,i.m,i.n,rt],styles:["[_nghost-%COMP%]{display:flex;align-items:center;flex:1}.ngx-org-vertical[_ngcontent-%COMP%]{flex-direction:column}.ngx-org-org-container[_ngcontent-%COMP%]{display:flex}.ngx-org-org-container-vertical[_ngcontent-%COMP%]{flex-direction:column}.ngx-org-connector[_ngcontent-%COMP%]{flex:1}.ngx-org-connector-container[_ngcontent-%COMP%]{display:flex}.ngx-org-connector-container-horizontal[_ngcontent-%COMP%]{flex-direction:column}.ngx-org-reports[_ngcontent-%COMP%]{display:flex;flex:1}.ngx-org-reports-horizontal[_ngcontent-%COMP%]{flex-direction:column}"]}),rt),ut=((it=function e(){_classCallCheck2(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:it,bootstrap:function(){return[ct]}}),it.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||it)},imports:[[i.c,lt]]}),it),dt=((nt=function e(){_classCallCheck2(this,e),this.hasParent=!1,this.direction="vertical",this.itemClick=new s.EventEmitter}).\u0275fac=function(e){return new(e||nt)},nt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:nt,selectors:[["ngx-org-chart"]],inputs:{hasParent:"hasParent",direction:"direction",nodes:"nodes"},outputs:{itemClick:"itemClick"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"node","direction","itemClick"]],template:function(e,t){1&e&&s["\u0275\u0275template"](0,et,2,1,"div",0),2&e&&s["\u0275\u0275property"]("ngIf",null==t.nodes?null:t.nodes.length)},directives:[i.o,i.n,ct],styles:['body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{display:flex;flex:1}.ngx-org-name[_ngcontent-%COMP%]{font-family:"Patua One",cursive}.ngx-org-title[_ngcontent-%COMP%]{font-family:Oswald,sans-serif}.ngx-org-border[_ngcontent-%COMP%]{border-color:#9e9e9e}.ngx-org-box[_ngcontent-%COMP%]{color:#000;width:10em}.ngx-org-self-vertical[_ngcontent-%COMP%]{margin-bottom:2%}']}),nt),ht=((tt=function e(){_classCallCheck2(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:tt,bootstrap:function(){return[dt]}}),tt.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||tt)},imports:[[i.c,ut]]}),tt),pt=n("zQsl"),ft=n("7pIB"),mt=(n("YsXA"),function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[]]}),e}()),gt=n("tyNb"),vt=n("Vcg+"),bt=n("LMZs");function yt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"li"),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275elementStart"](2,"strong"),s["\u0275\u0275text"](3,"Correo electr\xf3nico:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"br"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",n.consumer.email," ")}}function xt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"li"),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275elementStart"](2,"strong"),s["\u0275\u0275text"](3,"Estrato:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"br"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",n.consumer.estrato," ")}}function St(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"li"),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275elementStart"](2,"strong"),s["\u0275\u0275text"](3,"G\xe9nero:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"br"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",n.consumer.genero," ")}}function Ct(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"li"),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275elementStart"](2,"strong"),s["\u0275\u0275text"](3,"Hijos:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"br"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",n.consumer.hijos?n.consumer.cantidadHijos:"Sin hijos"," ")}}function kt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"li"),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275elementStart"](2,"strong"),s["\u0275\u0275text"](3,"Mascotas:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"br"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",n.consumer.mascotas?"Si":"No"," ")}}function Et(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"li"),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275elementStart"](2,"strong"),s["\u0275\u0275text"](3,"Estado civil:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"br"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",n.consumer.estadoCivil," ")}}function _t(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"li"),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275elementStart"](2,"strong"),s["\u0275\u0275text"](3,"Nivel educativo:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"br"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",n.consumer.nivelEducativo," ")}}function wt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",13),s["\u0275\u0275element"](1,"ng2-smart-table",14),s["\u0275\u0275elementStart"](2,"nb-card",15),s["\u0275\u0275elementStart"](3,"h5"),s["\u0275\u0275text"](4),s["\u0275\u0275pipe"](5,"currency"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("source",n.source)("settings",n.settings),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("Total de cr\xe9ditos: ",s["\u0275\u0275pipeBind1"](5,3,n.totalCredits),"")}}function Pt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-card-body"),s["\u0275\u0275elementStart"](1,"div",8),s["\u0275\u0275elementStart"](2,"h4",9),s["\u0275\u0275text"](3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275elementStart"](5,"section",10),s["\u0275\u0275elementStart"](6,"ul"),s["\u0275\u0275template"](7,yt,6,1,"li",11),s["\u0275\u0275template"](8,xt,6,1,"li",11),s["\u0275\u0275template"](9,St,6,1,"li",11),s["\u0275\u0275template"](10,Ct,6,1,"li",11),s["\u0275\u0275template"](11,kt,6,1,"li",11),s["\u0275\u0275template"](12,Et,6,1,"li",11),s["\u0275\u0275template"](13,_t,6,1,"li",11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](14,wt,6,5,"div",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](),i=s["\u0275\u0275reference"](10);s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate2"]("",null==n.consumer?null:n.consumer.nombre," ",null==n.consumer?null:n.consumer.apellido,""),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",n.consumer.email),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.consumer.estrato),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.consumer.genero),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.consumer.hijos),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.consumer.mascotas),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.consumer.estadoCivil),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.consumer.nivelEducativo),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.interests.length>0)("ngIfElse",i)}}function Ot(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",16),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275text"](2,"No hay registro de intereses para este usuario."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function Mt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",17),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"p"),s["\u0275\u0275text"](3,"\xbfEst\xe1s seguro eliminar a este usuario?"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"nb-card-footer",18),s["\u0275\u0275elementStart"](5,"button",19),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275text"](6,"Cancelar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"button",20),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.dialogRef;return s["\u0275\u0275nextContext"]().onDelete(e)})),s["\u0275\u0275text"](8,"Eliminar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function At(e,t){if(1&e&&s["\u0275\u0275element"](0,"nb-card",21),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("nbSpinner",n.loading)}}var It,Tt=((It=function(){function e(t,n,i,r){_classCallCheck2(this,e),this.mainService=t,this.activatedRoute=n,this.dialogService=i,this.generalService=r,this.API_USUARIO="api/user",this.API_RECOMPENSA_BY_USER="api/recompensa/user",this.loading=!0,this.consumer={},this.interests=[],this.totalCredits=0,this.settings={noDataMessage:"Ning\xfan elemento encontrado",actions:!1,columns:{interests:{filter:!1,title:"Intereses",width:"65%",valuePrepareFunction:function(e){return e.charAt(0).toLocaleUpperCase()+e.substr(1).toLocaleLowerCase()}},ranking:{title:"Ranking",filter:!1,width:"15%"},credits:{title:"Cr\xe9ditos",filter:!1,width:"15%",valuePrepareFunction:function(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})}}}}}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this.activatedRoute.snapshot.paramMap.get("user");this.source=new He.a,this.getUser({uid:e}),this.getInterest({uid:e})}},{key:"getUser",value:function(e){var t=this,n=e.uid;this.mainService.get({api:"".concat(this.API_USUARIO,"/").concat(n)}).then((function(e){t.consumer=e,console.log(e)})).finally((function(){return t.loading=!1}))}},{key:"getInterest",value:function(e){var t=this,n=e.uid;this.mainService.get({api:"".concat(this.API_RECOMPENSA_BY_USER,"/").concat(n)}).then((function(e){e.length>0&&(t.interests=e.map((function(e){return{interests:e.sector?e.sector.nombre:"null",ranking:e.ranking,credits:e.creditos,id:e._id}})),t.totalCredits=t.interests.reduce((function(e,t){return e+t.credits}),0),t.source.load(t.interests))}))}},{key:"openConfirmationDialog",value:function(e){this.dialogService.open(e)}},{key:"onDelete",value:function(e){var t=this;this.mainService.delete({api:"".concat(this.API_USUARIO,"/").concat(this.activatedRoute.snapshot.paramMap.get("user"))}).then((function(n){e.close(),t.goBack()}))}},{key:"closeDialog",value:function(e){e.close()}},{key:"goBack",value:function(){this.generalService.goBack()}}]),e}()).\u0275fac=function(e){return new(e||It)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](gt.a),s["\u0275\u0275directiveInject"](Ge.x),s["\u0275\u0275directiveInject"](vt.a))},It.\u0275cmp=s["\u0275\u0275defineComponent"]({type:It,selectors:[["ngx-consumer-detail"]],decls:15,vars:2,consts:[[1,"d-flex","justify-content-between"],[1,"fa","fa-arrow-left","pointer",3,"click"],["nbButton","","status","danger","size","small",3,"click"],["icon","trash-2-outline"],[4,"ngIf","ngIfElse"],["emptyTable",""],["dialogDeleteUserAtDetailComponent",""],["loadingName",""],[1,"row"],[1,"consumer-name","pl-3"],[1,"col-4","basic-info","pr-4"],[4,"ngIf"],["class","table-container col-8 pt-3",4,"ngIf","ngIfElse"],[1,"table-container","col-8","pt-3"],[3,"source","settings"],[1,"total"],[1,"empty-table","d-flex","justify-content-center","mt-3","ml-3"],[1,"dialog"],[1,"footer","btnOptions"],["nbButton","",3,"click"],["nbButton","","status","danger",3,"click"],["size","medium","nbSpinnerSize","large","nbSpinnerMessage","",1,"col",3,"nbSpinner"]],template:function(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header",0),s["\u0275\u0275elementStart"](2,"h4"),s["\u0275\u0275elementStart"](3,"i",1),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](4," Detalle del usuario "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"button",2),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=s["\u0275\u0275reference"](12);return t.openConfirmationDialog(e)})),s["\u0275\u0275element"](6,"nb-icon",3),s["\u0275\u0275text"](7," Eliminar usuario "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](8,Pt,15,11,"nb-card-body",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](9,Ot,3,0,"ng-template",null,5,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](11,Mt,9,0,"ng-template",null,6,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](13,At,1,1,"ng-template",null,7,s["\u0275\u0275templateRefExtractor"])}if(2&e){var i=s["\u0275\u0275reference"](14);s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("ngIf",!t.loading)("ngIfElse",i)}},directives:[Ge.o,Ge.q,Ge.j,Ge.A,i.o,Ge.n,He.b,Ge.p,Ge.cb],pipes:[i.d],styles:["h3[_ngcontent-%COMP%]{min-width:200px}i[_ngcontent-%COMP%]{font-size:25px;margin-right:10px;cursor:pointer}.consumer-name[_ngcontent-%COMP%]{text-transform:capitalize}.empty-table[_ngcontent-%COMP%]{text-align:center;width:50%}.total[_ngcontent-%COMP%]{padding:1rem;margin:1rem 0;text-align:right}.total[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1rem}.basic-info[_ngcontent-%COMP%]{padding:1em}.basic-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:4px}.dialog[_ngcontent-%COMP%]{max-width:420px}.dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin:.4rem;right:0;position:absolute}.dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;padding:4rem 1rem 1rem}.dialog[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{text-align:center}.dialog[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#200081;font-weight:bolder;text-transform:capitalize}.btnOptions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),It),jt=["deleteEmpresaDialogFromDetail"];function Lt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",16),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=s["\u0275\u0275nextContext"](),t=s["\u0275\u0275reference"](34);return e.openDialog(t)})),s["\u0275\u0275element"](1,"nb-icon",17),s["\u0275\u0275text"](2," Eliminar empresa "),s["\u0275\u0275elementEnd"]()}}function Dt(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-list-item"),s["\u0275\u0275element"](1,"nb-user",18),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("name",n.sector.nombre)("picture",n.sector.icono)}}function Ft(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",19),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().goToPosts()})),s["\u0275\u0275text"](1," Ver publicaciones "),s["\u0275\u0275elementEnd"]()}}function Rt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",20),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().approveEmpresa()})),s["\u0275\u0275text"](1," Aprobar registro "),s["\u0275\u0275elementEnd"]()}}function Bt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",21),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"button",22),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275element"](3,"nb-icon",23),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",24),s["\u0275\u0275elementStart"](5,"p"),s["\u0275\u0275text"](6," \xbfEst\xe1s seguro de eliminar "),s["\u0275\u0275elementStart"](7,"span",25),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](9," ? "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"p"),s["\u0275\u0275text"](11,"El administrador correspondiente a esta empresa ser\xe1 deshabilitado."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"nb-card-footer",26),s["\u0275\u0275elementStart"](13,"button",27),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.dialogRef;return s["\u0275\u0275nextContext"]().deleteEmpresa(e)})),s["\u0275\u0275text"](14,"Eliminar empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;s["\u0275\u0275advance"](8),s["\u0275\u0275textInterpolate"](i.text)}}var Nt,Vt,zt=((Vt=function(){function e(t,n,i,r){_classCallCheck2(this,e),this.mainService=t,this.activatedRoute=n,this.generalService=i,this.dialogService=r,this.API_EMPRESA="api/empresa",this.API_SECTOR="api/sector",this.empresa={},this.loading=!1,this.sectores=[]}return _createClass2(e,[{key:"ngOnInit",value:function(){this.getSectores()}},{key:"fetchEmpresa",value:function(e){var t=this,n=e.id;this.loading=!0,this.mainService.get({api:"".concat(this.API_EMPRESA,"/").concat(n)}).then((function(e){t.empresa=e,t.empresa.sectores=t.empresa.sectores.map((function(e){return{sector:t.sectores.find((function(t){return t._id===e._id}))}}))})).finally((function(){t.loading=!0}))}},{key:"goBack",value:function(){this.generalService.goBack()}},{key:"onEdit",value:function(){this.generalService.routerNavigateTo({path:"index/empresas/editar/".concat(this.empresa._id)})}},{key:"getSectores",value:function(){var e=this;this.mainService.get({api:this.API_SECTOR}).then((function(t){e.sectores=t})).finally((function(){var t=e.activatedRoute.snapshot.paramMap.get("id");e.fetchEmpresa({id:t})}))}},{key:"approveEmpresa",value:function(){var e=this,t=this.empresa._id;this.loading=!0,this.mainService.put({api:"".concat(this.API_EMPRESA,"/").concat(t),data:{estado:"aprobado"}}).then((function(t){t&&(e.fetchEmpresa({id:t._id}),e.generalService.showToastr({title:"Empresa aprobada",message:"",status:"success"})),e.goBack()})).finally((function(){e.loading=!1}))}},{key:"goToPosts",value:function(){this.generalService.routerNavigateTo({path:"/index/publicaciones/empresa/".concat(this.empresa._id)})}},{key:"openDialog",value:function(e){this.dialogRefEmpresa=this.dialogService.open(this.deleteEmpresaDialogFromDetail,{context:{text:"".concat(this.empresa.nombre)}})}},{key:"deleteEmpresa",value:function(e){var t=this;this.mainService.delete({api:"".concat(this.API_EMPRESA,"/").concat(this.empresa._id)}).finally((function(){t.dialogRefEmpresa.close(),t.goBack()}))}}]),e}()).\u0275fac=function(e){return new(e||Vt)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](gt.a),s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](Ge.x))},Vt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Vt,selectors:[["ngx-empresa-detail"]],viewQuery:function(e,t){var n;1&e&&s["\u0275\u0275staticViewQuery"](jt,!0),2&e&&s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.deleteEmpresaDialogFromDetail=n.first)},decls:35,vars:10,consts:[[3,"nbSpinner"],[1,"d-flex","justify-content-between"],[1,"fa","fa-arrow-left","pointer",3,"click"],["nbButton","","status","primary","size","small",1,"m-1",3,"click"],["icon","edit-2-outline"],["nbButton","","status","danger","size","small","class","m-1",3,"click",4,"ngIf"],[1,"empresa","m-4"],[1,"row","header-row"],[1,"logo","p-3",3,"src","alt"],[1,"row"],[1,"col-12","center"],[1,"p-2","my-2","container-empresa"],[4,"ngFor","ngForOf"],["nbButton","","size","medium","class","ml-auto verPublicacion",3,"click",4,"ngIf"],["nbButton","","size","medium","status","success","class","mx-auto my-2",3,"click",4,"ngIf"],["deleteEmpresaDialogFromDetail",""],["nbButton","","status","danger","size","small",1,"m-1",3,"click"],["icon","trash-outline"],[3,"name","picture"],["nbButton","","size","medium",1,"ml-auto","verPublicacion",3,"click"],["nbButton","","size","medium","status","success",1,"mx-auto","my-2",3,"click"],[1,"dialog"],["nbButton","","ghost","","status","primary",1,"close",3,"click"],["icon","close-outline"],[1,"text-container","mx-auto"],[1,"username"],[1,"footer"],["nbButton","","status","danger",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header",1),s["\u0275\u0275elementStart"](2,"h3"),s["\u0275\u0275elementStart"](3,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](4," Detalle de la empresa "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div"),s["\u0275\u0275elementStart"](6,"button",3),s["\u0275\u0275listener"]("click",(function(){return t.onEdit()})),s["\u0275\u0275element"](7,"nb-icon",4),s["\u0275\u0275text"](8," Editar registro "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](9,Lt,3,0,"button",5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"nb-card-body",6),s["\u0275\u0275elementStart"](11,"div",7),s["\u0275\u0275element"](12,"img",8),s["\u0275\u0275elementStart"](13,"h4"),s["\u0275\u0275text"](14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",9),s["\u0275\u0275elementStart"](16,"div",10),s["\u0275\u0275elementStart"](17,"section",11),s["\u0275\u0275elementStart"](18,"h5"),s["\u0275\u0275text"](19,"Nombre de la empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"p"),s["\u0275\u0275text"](21),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"h5"),s["\u0275\u0275text"](23,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](24,"p"),s["\u0275\u0275text"](25),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"h5"),s["\u0275\u0275text"](27,"Sectores:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"nb-list"),s["\u0275\u0275template"](29,Dt,2,2,"nb-list-item",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](30,Ft,2,0,"button",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](31,"div",9),s["\u0275\u0275template"](32,Rt,2,0,"button",14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](33,Bt,15,1,"ng-template",null,15,s["\u0275\u0275templateRefExtractor"])),2&e&&(s["\u0275\u0275property"]("nbSpinner",!t.loading),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("ngIf","aprobado"===t.empresa.estado),s["\u0275\u0275advance"](3),s["\u0275\u0275propertyInterpolate"]("src",t.empresa.logo,s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275propertyInterpolate"]("alt",t.empresa.nombre),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](t.empresa.nombre),s["\u0275\u0275advance"](7),s["\u0275\u0275textInterpolate"](t.empresa.nombre),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](t.empresa.descripcion),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngForOf",t.empresa.sectores),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","aprobado"===t.empresa.estado),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf","pendiente"===t.empresa.estado))},directives:[Ge.o,Ge.cb,Ge.q,Ge.j,Ge.A,i.o,Ge.n,Ge.M,i.n,Ge.N,Ge.rb,Ge.p],styles:[".header-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}i[_ngcontent-%COMP%]{font-size:25px;margin-right:10px}  .nb-theme-default nb-layout #remove-padding .layout .layout-container .content .columns nb-layout-column{padding:0}.logo[_ngcontent-%COMP%]{max-height:120px;border-radius:8px;width:auto;margin-right:10px}.short-btn[_ngcontent-%COMP%]{height:50px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.img-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.first-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900}a[_ngcontent-%COMP%]:hover{cursor:pointer}.dialog[_ngcontent-%COMP%]{max-width:420px}.dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin:.2rem;right:0;position:absolute}.dialog[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]{margin-top:3.2rem;text-align:center;max-width:80%}.dialog[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#200081;font-weight:bolder;text-transform:capitalize}.dialog[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{text-align:center}.container-empresa[_ngcontent-%COMP%]{max-width:800px}.verPublicacion[_ngcontent-%COMP%]{margin-top:20px}"]}),Vt),Gt=((Nt=function(){function e(){_classCallCheck2(this,e),this.description="Por definir",this.value="0"}return _createClass2(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Nt)},Nt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Nt,selectors:[["ngx-kpi-card"]],inputs:{description:"description",value:"value"},decls:5,vars:2,consts:[[1,"kpi-card","d-flex","justify-content-center","align-items-center"],[1,"value"],[1,"description"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"p",1),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"p",2),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](t.value),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](t.description))},directives:[Ge.o],styles:[".kpi-card[_ngcontent-%COMP%]{text-align:center;margin:0;padding:1rem;min-height:100px;height:100%}.kpi-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:2.6rem;color:grey;padding:4px}.kpi-card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin:0;padding:0;font-weight:700;font-size:1rem}"]}),Nt);function Ut(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",3),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"button",4),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275element"](3,"nb-icon",5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",6),s["\u0275\u0275elementStart"](5,"p"),s["\u0275\u0275text"](6,"\xbfEst\xe1s seguro de eliminar "),s["\u0275\u0275elementStart"](7,"span",7),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](9,"?"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"p"),s["\u0275\u0275text"](11,"El administrador correspondiente a esta empresa ser\xe1 deshabilitado."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"nb-card-footer",8),s["\u0275\u0275elementStart"](13,"button",9),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.dialogRef,i=t.$implicit;return s["\u0275\u0275nextContext"]().onDeleteEmpresa(e,i.id)})),s["\u0275\u0275text"](14," Eliminar empresa "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;s["\u0275\u0275advance"](8),s["\u0275\u0275textInterpolate"](i.text)}}var Ht,Xt=((Ht=function(){function e(t,n,i){_classCallCheck2(this,e),this.generalService=t,this.mainService=n,this.dialogService=i,this.update=new s.EventEmitter,this.API_EMPRESA="api/empresa"}return _createClass2(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){this.source=e.source.currentValue}},{key:"onCustomAction",value:function(e,t){var n=e.event;switch(n.action){case"ver":this.generalService.routerNavigateTo({path:"/index/empresa/".concat(n.data._id)});break;case"aprobar":this.approveEmpresa({id:n.data._id});break;case"rechazar":this.rejectEmpresa({id:n.data._id});break;case"publicaciones":this.generalService.routerNavigateTo({path:"/index/publicaciones/empresa/".concat(n.data._id)});break;case"eliminar":this.dialogRef=this.dialogService.open(t,{context:{text:"".concat(n.data.nombre),id:n.data._id}})}}},{key:"closeDialog",value:function(e){e.close()}},{key:"rejectEmpresa",value:function(e){var t=this,n=e.id;this.mainService.put({api:"".concat(this.API_EMPRESA,"/").concat(n),data:{estado:"rechazado"}}).then((function(e){e&&(t.generalService.showToastr({title:"Empresa rechazada",message:"",status:"danger"}),t.update.emit())}))}},{key:"approveEmpresa",value:function(e){var t=this,n=e.id;this.mainService.put({api:"".concat(this.API_EMPRESA,"/").concat(n),data:{estado:"aprobado"}}).then((function(e){e&&(t.generalService.showToastr({title:"Empresa aprobada",message:"",status:"success"}),t.update.emit())}))}},{key:"onDeleteEmpresa",value:function(e,t){var n=this;this.closeDialog(e),this.mainService.delete({api:"".concat(this.API_EMPRESA,"/").concat(t)}).finally((function(){return n.update.emit()}))}}]),e}()).\u0275fac=function(e){return new(e||Ht)(s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](Ge.x))},Ht.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Ht,selectors:[["ngx-empresas-table"]],inputs:{source:"source",settings:"settings"},outputs:{update:"update"},features:[s["\u0275\u0275NgOnChangesFeature"]],decls:4,vars:2,consts:[[1,"table"],[3,"source","settings","custom"],["deleteEmpresaDialog",""],[1,"dialog"],["nbButton","","ghost","","status","primary",1,"close",3,"click"],["icon","close-outline"],[1,"text-container","mx-auto"],[1,"username"],[1,"footer"],["nbButton","","status","danger",3,"click"]],template:function(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"ng2-smart-table",1),s["\u0275\u0275listener"]("custom",(function(e){s["\u0275\u0275restoreView"](n);var i=s["\u0275\u0275reference"](3);return t.onCustomAction({event:e},i)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](2,Ut,15,1,"ng-template",null,2,s["\u0275\u0275templateRefExtractor"])}2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("source",t.source)("settings",t.settings))},directives:[He.b,Ge.o,Ge.n,Ge.j,Ge.A,Ge.p],styles:["[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:18px;height:18px;margin:8px 8px 10px 12px;float:left;font-size:1rem}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i{padding-top:10px;font-size:18px;color:#08003d}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i:hover{color:#200081}.dialog[_ngcontent-%COMP%]{max-width:420px}.dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin:.4rem;right:0;position:absolute}.dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{width:100%;padding:4rem 1rem 1rem;text-align:center}.dialog[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{text-align:center}.dialog[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#200081;font-weight:bolder;text-transform:capitalize}"]}),Ht);function Yt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"ngx-empresas-table",8),s["\u0275\u0275listener"]("update",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().fetchEmpresas()})),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("settings",i.empresas.pending.settings)("source",i.empresas.pending.source)}}function $t(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",10),s["\u0275\u0275element"](1,"nb-icon",11),s["\u0275\u0275elementStart"](2,"p",12),s["\u0275\u0275text"](3,"No hay solicitudes pendientes."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}var Wt,qt,Kt=((qt=function(){function e(t,n){_classCallCheck2(this,e),this.mainService=t,this.iconLibraries=n,this.API_EMPRESAS="api/empresa",this.API_EMPRESAS_REGISTRADAS="api/empresa/count",this.API_EMPRESAS_ACTIVAS="api/empresa/active/count",this.loading=!1,this.registeredCompanies=0,this.activeCompanies=0,this.empresas={approved:{settings:{noDataMessage:"Ning\xfan elemento encontrado.",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"publicaciones",title:'<i class="fas fa-search" title="Ver publicaciones"></i>'},{name:"ver",title:'<i class="fas fa-pen" title="Ver empresa"></i>'},{name:"eliminar",title:'<i class="fas fa-trash" title="Eliminar empresa"></i>'}]},columns:{nombre:{title:"Nombre",width:"80%"}},mode:"external"},source:[]},pending:{settings:{noDataMessage:"Ning\xfan elemento pendiente.",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"ver",title:'<i class="fa fa-search" title="Ver empresa"></i>'},{name:"rechazar",title:'<i class="fa fa-times" title="Rechazar"></i>'},{name:"aprobar",title:'<i class="fa fa-check" title="Aprobar"></i>'}]},columns:{nombre:{title:"Nombre",width:"80%"}},mode:"external"},source:[]}},this.iconLibraries.registerFontPack("font-awesome",{iconClassPrefix:"fa",packClass:"fas"})}return _createClass2(e,[{key:"ngOnInit",value:function(){this.fetchEmpresas(),this.fetchKpis()}},{key:"fetchEmpresas",value:function(){var e=this;this.loading=!0,this.mainService.get({api:this.API_EMPRESAS,hide404:!0}).then((function(t){e.setEmpresasTable({data:t})})).finally((function(){e.loading=!1}))}},{key:"setEmpresasTable",value:function(e){var t=e.data;this.empresas.approved.source=t.filter((function(e){return"aprobado"===e.estado})),this.empresas.pending.source=t.filter((function(e){return"pendiente"===e.estado}))}},{key:"fetchKpis",value:function(){var e=this;this.mainService.get({api:this.API_EMPRESAS_ACTIVAS}).then((function(t){e.activeCompanies=t})),this.mainService.get({api:this.API_EMPRESAS_REGISTRADAS}).then((function(t){e.registeredCompanies=t}))}}]),e}()).\u0275fac=function(e){return new(e||qt)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](Ge.B))},qt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:qt,selectors:[["ngx-empresas"]],decls:19,vars:7,consts:[[1,"row","mb-3"],[1,"col-3"],["description","Empresas registradas",3,"value"],["description","Empresas activas",3,"value"],[1,"tabset",3,"nbSpinner"],[1,"col","mb-4"],[3,"settings","source","update",4,"ngIf","ngIfElse"],[1,"col"],[3,"settings","source","update"],["noPendingItemsBlock",""],[1,"empty","p-2"],["icon","checkmark-outline",1,"mx-auto","mt-2"],[1,"mx-auto"]],template:function(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"h3"),s["\u0275\u0275text"](1,"Empresas"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275element"](4,"ngx-kpi-card",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",1),s["\u0275\u0275element"](6,"ngx-kpi-card",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"nb-card",4),s["\u0275\u0275elementStart"](8,"nb-card-body"),s["\u0275\u0275elementStart"](9,"div",5),s["\u0275\u0275elementStart"](10,"h5"),s["\u0275\u0275text"](11,"Pendientes"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](12,Yt,1,2,"ngx-empresas-table",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",7),s["\u0275\u0275elementStart"](14,"h5"),s["\u0275\u0275text"](15,"Aprobadas"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"ngx-empresas-table",8),s["\u0275\u0275listener"]("update",(function(){return t.fetchEmpresas()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](17,$t,4,0,"ng-template",null,9,s["\u0275\u0275templateRefExtractor"])),2&e){var n=s["\u0275\u0275reference"](18);s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("value",t.registeredCompanies),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",t.activeCompanies),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngIf",t.empresas.pending.source.length>0)("ngIfElse",n),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("settings",t.empresas.approved.settings)("source",t.empresas.approved.source)}},directives:[Gt,Ge.o,Ge.cb,Ge.n,i.o,Xt,Ge.A],styles:[""]}),qt),Jt=((Wt=function(){function e(){_classCallCheck2(this,e),this.loading=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Wt)},Wt.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Wt,selectors:[["ngx-notificaciones"]],decls:7,vars:1,consts:[[1,"main-card",3,"nbSpinner"],[1,"header-row"],[1,"row"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"h4"),s["\u0275\u0275text"](4,"Notificaciones"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"nb-card-body"),s["\u0275\u0275element"](6,"div",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&s["\u0275\u0275property"]("nbSpinner",t.loading)},directives:[Ge.o,Ge.cb,Ge.q,Ge.n],styles:[""]}),Wt),Qt=n("6Ak/");function Zt(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",13),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().toggleEdit()})),s["\u0275\u0275element"](1,"nb-icon",14),s["\u0275\u0275text"](2," Editar "),s["\u0275\u0275elementEnd"]()}}function en(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275text"](2,"* Por favor ingresa un correo electr\xf3nico v\xe1lido"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function tn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",15),s["\u0275\u0275template"](1,en,3,0,"div",16),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.updateEmailForm.controls.email.errors.email)}}function nn(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",17),s["\u0275\u0275elementStart"](1,"div",18),s["\u0275\u0275elementStart"](2,"button",19),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().toggleEdit()})),s["\u0275\u0275text"](3,"Cancelar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"button",20),s["\u0275\u0275text"](5," Guardar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("disabled",i.updateEmailForm.invalid)}}function rn(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",21),s["\u0275\u0275elementStart"](1,"button",13),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().toggleEditPassword()})),s["\u0275\u0275element"](2,"nb-icon",22),s["\u0275\u0275text"](3," Cambiar contrase\xf1a "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function an(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275text"](2,"* Por favor ingresa una contrase\xf1a de m\xednimo 6 caracteres."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function on(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",15),s["\u0275\u0275template"](1,an,3,0,"div",16),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",n.updatePasswordForm.controls.passwordNueva.errors.minlength)}}function sn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",15),s["\u0275\u0275elementStart"](1,"p"),s["\u0275\u0275text"](2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](n.changePasswordHelpMessage)}}function ln(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"form",23),s["\u0275\u0275listener"]("ngSubmit",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onSubmitPasswordUpdate()})),s["\u0275\u0275elementStart"](1,"label",24),s["\u0275\u0275text"](2,"Contrase\xf1a actual:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"nb-form-field"),s["\u0275\u0275element"](4,"input",25),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"label",26),s["\u0275\u0275text"](6,"Contrase\xf1a nueva:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"nb-form-field"),s["\u0275\u0275element"](8,"input",27),s["\u0275\u0275elementStart"](9,"button",28),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().toggleShowPassword()})),s["\u0275\u0275element"](10,"nb-icon",29),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](11,on,2,1,"div",8),s["\u0275\u0275template"](12,sn,3,1,"div",8),s["\u0275\u0275elementStart"](13,"div",17),s["\u0275\u0275elementStart"](14,"div",18),s["\u0275\u0275elementStart"](15,"button",19),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().toggleEditPassword()})),s["\u0275\u0275text"](16," Cancelar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"button",20),s["\u0275\u0275text"](18," Guardar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("formGroup",i.updatePasswordForm),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("type",i.getInputType()),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("icon",i.showPassword?"eye-outline":"eye-off-2-outline"),s["\u0275\u0275attribute"]("aria-label",i.showPassword?"hide password":"show password"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",i.updatePasswordForm.controls.passwordNueva.invalid&&(i.updatePasswordForm.controls.passwordNueva.dirty||i.updatePasswordForm.controls.passwordNueva.touched)),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",i.changePasswordHelpMessage),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("disabled",i.updatePasswordForm.invalid)}}function cn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-list-item"),s["\u0275\u0275element"](1,"nb-user",39),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("name",n.nombre)("picture",n.icono)}}function un(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",30),s["\u0275\u0275elementStart"](1,"div",31),s["\u0275\u0275elementStart"](2,"h6",2),s["\u0275\u0275text"](3,"Informaci\xf3n de la empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"button",32),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().editEmpresa()})),s["\u0275\u0275text"](5,"Editar registro"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",33),s["\u0275\u0275elementStart"](7,"div",34),s["\u0275\u0275element"](8,"img",35),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",36),s["\u0275\u0275elementStart"](10,"section",37),s["\u0275\u0275elementStart"](11,"h6"),s["\u0275\u0275text"](12,"Nombre de la empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"p"),s["\u0275\u0275text"](14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"h6"),s["\u0275\u0275text"](16,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"p"),s["\u0275\u0275text"](18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"h6"),s["\u0275\u0275text"](20,"Sectores:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"nb-list"),s["\u0275\u0275template"](22,cn,2,2,"nb-list-item",38),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](8),s["\u0275\u0275propertyInterpolate1"]("src","",i.user.empresa.logo,"\n          ",s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275propertyInterpolate1"]("alt","",i.user.empresa.logo," logo"),s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate"](i.user.empresa.nombre),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](i.user.empresa.descripcion),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngForOf",i.sectoresPopulated)}}var dn,hn=((dn=function(){function e(t,n,i,r,a){_classCallCheck2(this,e),this.mainService=t,this.generalService=n,this.authService=i,this.route=r,this.fb=a,this.API_SECTOR="api/sector",this.API_USUARIOS="api/user",this.API_CHANGE_PASSWORD="users/change_pass",this.onEditEmail=!1,this.onEditPassword=!1,this.sectores=[],this.showPassword=!1,this.updateEmailForm=this.fb.group({email:[{value:"",disabled:!0},[o.x.required,o.x.email]]}),this.updatePasswordForm=this.fb.group({password:["",o.x.required],passwordNueva:["",[o.x.required,o.x.minLength(6)]]})}return _createClass2(e,[{key:"ngOnInit",value:function(){this.user=JSON.parse(localStorage.getItem("_user")),this.getUserFromServer(this.user._id)}},{key:"getInputType",value:function(){return this.showPassword?"text":"password"}},{key:"toggleShowPassword",value:function(){this.showPassword=!this.showPassword}},{key:"getUserFromServer",value:function(e){var t=this;this.mainService.get({api:"".concat(this.API_USUARIOS,"/").concat(e)}).then((function(e){t.user=e,t.user.empresa&&t.getSectores(t.user.empresa.sectores),t.updateEmailForm.setValue({email:e.email})}))}},{key:"getSectores",value:function(e){var t=this;this.mainService.get({api:this.API_SECTOR}).then((function(n){t.sectores=n,t.sectoresPopulated=e.map((function(e){return t.sectores.find((function(t){return t._id===e}))}))}))}},{key:"onSubmitEmailUpdate",value:function(){var e=this;this.mainService.put({api:"".concat(this.API_USUARIOS,"/").concat(this.user._id),data:{email:this.updateEmailForm.value.email},hide404:!0}).then((function(){e.generalService.handleSuccess({text:"Email actualizado correctamente"}),e.toggleEdit(),e.getUserFromServer(e.user._id)}))}},{key:"onSubmitPasswordUpdate",value:function(){var e=this;this.mainService.changePassword({api:this.API_CHANGE_PASSWORD,data:{email:this.user.email,password:this.updatePasswordForm.value.password,passwordNueva:this.updatePasswordForm.value.passwordNueva}}).subscribe((function(t){!1===t.success?e.generalService.handleErrorWithCustomizedText({text:t.msg}):(e.generalService.handleSuccess({text:"Contrase\xf1a actualizada correctamente"}),e.toggleEditPassword(),e.getUserFromServer(e.user._id))}))}},{key:"editEmpresa",value:function(){this.generalService.routerNavigateTo({path:"index/empresas/editar/".concat(this.user.empresa._id)})}},{key:"toggleEdit",value:function(){this.onEditEmail=!this.onEditEmail,this.onEditEmail?this.updateEmailForm.controls.email.enable():this.updateEmailForm.controls.email.disable(),this.updateEmailForm.setValue({email:this.user.email})}},{key:"toggleEditPassword",value:function(){this.onEditPassword=!this.onEditPassword}}]),e}()).\u0275fac=function(e){return new(e||dn)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](Qt.a),s["\u0275\u0275directiveInject"](gt.a),s["\u0275\u0275directiveInject"](o.c))},dn.\u0275cmp=s["\u0275\u0275defineComponent"]({type:dn,selectors:[["ngx-profile"]],decls:23,vars:10,consts:[[1,"capitalize"],[1,"row","m-1","p-3"],[1,"px-3"],[1,"col-md-12","col-lg-6",3,"formGroup","ngSubmit"],["for","email"],[1,"d-flex","flex-row"],["type","text","nbInput","","id","email","formControlName","email","placeholder","Correo electr\xf3nico","fullWidth",""],["nbButton","","ghost","","status","primary","type","button",3,"click",4,"ngIf"],["class","form-errors",4,"ngIf"],["class","row m-2 p-2",4,"ngIf"],["class","col-md-12 col-lg-6 my-4",4,"ngIf","ngIfElse"],["editPasswordBlock",""],["class","m-1 p-1 mt-3",4,"ngIf"],["nbButton","","ghost","","status","primary","type","button",3,"click"],["icon","edit"],[1,"form-errors"],[4,"ngIf"],[1,"row","m-2","p-2"],[1,"d-flex","justify-content-center","align-content-center","button-container"],["nbButton","","status","basic","type","button",1,"mx-2",3,"click"],["nbButton","","status","primary","type","submit",1,"mx-2",3,"disabled"],[1,"col-md-12","col-lg-6","my-4"],["icon","chevron-down-outline"],[1,"col-md-12","col-lg-6","my-4",3,"formGroup","ngSubmit"],["for","password",1,"my-2"],["type","password","nbInput","","id","password","formControlName","password","placeholder","********","fullWidth",""],["for","passwordNueva",1,"my-2"],["nbInput","","id","passwordNueva","formControlName","passwordNueva","placeholder","*******","fullWidth","",3,"type"],["nbSuffix","","nbButton","","ghost","","type","button",3,"click"],[3,"icon"],[1,"m-1","p-1","mt-3"],[1,"row","d-flex","justify-content-between","p-3"],["nbButton","","status","primary","type","button",1,"mr-4",3,"click"],[1,"row"],[1,"col","container-img"],[3,"src","alt"],[1,"col"],[1,"p-2","my-2","empresa-detail"],[4,"ngFor","ngForOf"],[3,"name","picture"]],template:function(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"h2"),s["\u0275\u0275text"](1,"Perfil"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](2,"nb-card"),s["\u0275\u0275elementStart"](3,"nb-card-body"),s["\u0275\u0275elementStart"](4,"h3",0),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"h4",0),s["\u0275\u0275text"](7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"nb-card",1),s["\u0275\u0275elementStart"](9,"h6",2),s["\u0275\u0275text"](10,"Informaci\xf3n de usuario"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"form",3),s["\u0275\u0275listener"]("ngSubmit",(function(){return t.onSubmitEmailUpdate()})),s["\u0275\u0275elementStart"](12,"label",4),s["\u0275\u0275text"](13,"Correo electr\xf3nico:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"div",5),s["\u0275\u0275element"](15,"input",6),s["\u0275\u0275template"](16,Zt,3,0,"button",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](17,tn,2,1,"div",8),s["\u0275\u0275template"](18,nn,6,1,"div",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](19,rn,4,0,"div",10),s["\u0275\u0275template"](20,ln,19,7,"ng-template",null,11,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](22,un,23,5,"nb-card",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275reference"](21);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate2"]("",t.user.nombre," ",t.user.apellido,""),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](t.user.tipo),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("formGroup",t.updateEmailForm),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngIf",!t.onEditEmail),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.updateEmailForm.controls.email.invalid&&(t.updateEmailForm.controls.email.dirty||t.updateEmailForm.controls.email.touched)),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.onEditEmail),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",!t.onEditPassword)("ngIfElse",n),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf","administrador"===t.user.tipo)}},directives:[Ge.o,Ge.n,o.z,o.o,o.g,Ge.D,o.b,o.n,o.f,i.o,Ge.j,Ge.A,Ge.y,Ge.gb,Ge.M,i.n,Ge.N,Ge.rb],styles:[".button-container[_ngcontent-%COMP%]{width:100%}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}h2[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;line-height:2.5rem;margin-bottom:1rem}h3[_ngcontent-%COMP%]{font-size:1.6rem;margin-bottom:0}h4[_ngcontent-%COMP%]{font-size:1rem;color:grey;margin-top:0}.container-img[_ngcontent-%COMP%]{max-width:160px}.container-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;-o-object-fit:cover;object-fit:cover}.form-errors[_ngcontent-%COMP%]{width:100%}.form-errors[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;color:grey}.empresa-detail[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:0}"]}),dn);function pn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",5),s["\u0275\u0275element"](1,"ngx-kpi-card",30),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("value",null==n.publicacion?null:n.publicacion.vtr)}}function fn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",5),s["\u0275\u0275element"](1,"ngx-kpi-card",31),s["\u0275\u0275pipe"](2,"currency"),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind1"](2,1,n.cpv))}}function mn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",22),s["\u0275\u0275elementStart"](1,"strong"),s["\u0275\u0275text"](2,"Sector de inter\xe9s de la publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"label"),s["\u0275\u0275text"](4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](null==n.publicacion?null:n.publicacion.sector.nombre)}}function gn(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",22),s["\u0275\u0275elementStart"](1,"p",32),s["\u0275\u0275element"](2,"nb-icon",33),s["\u0275\u0275text"](3," Publicaci\xf3n inactiva "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"p",34),s["\u0275\u0275text"](5," El sector relacionado a esta publicaci\xf3n fue eliminado y por lo tanto esta no est\xe1 disponible. "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function vn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",35),s["\u0275\u0275element"](1,"img",36),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("src",null==n.publicacion?null:n.publicacion.foto,s["\u0275\u0275sanitizeUrl"])}}function bn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",37),s["\u0275\u0275elementStart"](1,"vg-player"),s["\u0275\u0275element"](2,"vg-overlay-play"),s["\u0275\u0275element"](3,"vg-buffering"),s["\u0275\u0275elementStart"](4,"vg-scrub-bar"),s["\u0275\u0275element"](5,"vg-scrub-bar-current-time"),s["\u0275\u0275element"](6,"vg-scrub-bar-buffering-time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"vg-controls"),s["\u0275\u0275element"](8,"vg-play-pause"),s["\u0275\u0275element"](9,"vg-playback-button"),s["\u0275\u0275element"](10,"vg-time-display",38),s["\u0275\u0275element"](11,"vg-scrub-bar",39),s["\u0275\u0275element"](12,"vg-time-display",40),s["\u0275\u0275element"](13,"vg-time-display",41),s["\u0275\u0275element"](14,"vg-track-selector"),s["\u0275\u0275element"](15,"vg-mute"),s["\u0275\u0275element"](16,"vg-volume"),s["\u0275\u0275element"](17,"vg-fullscreen"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"video",42,43),s["\u0275\u0275element"](20,"source",44),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275reference"](19),i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](18),s["\u0275\u0275property"]("vgMedia",n),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("src",null==i.publicacion?null:i.publicacion.video,s["\u0275\u0275sanitizeUrl"])}}var yn,xn=((yn=function(){function e(t,n,i){_classCallCheck2(this,e),this.generalService=t,this.mainService=n,this.activatedRoute=i,this.pubId="data",this.API_PUBLICACION="api/publicacion",this.publicacion={},this.empresa={},this.likes=0,this.compartir=0,this.comentarios=0,this.clicks=0,this.loading=!1,this.cpv=0,this.ctr=0}return _createClass2(e,[{key:"ngOnInit",value:function(){var e;e="data"==this.pubId?this.activatedRoute.snapshot.paramMap.get("id"):this.pubId,this.user=JSON.parse(localStorage.getItem("_user")),this.fetchPost({id:e}),this.countLikesByPublicacion({id:e}),this.countCompartirByPublicacion({id:e}),this.countClicksByPublicacion({id:e}),this.countComentariosByPublicacion({id:e})}},{key:"goBack",value:function(){this.generalService.goBack()}},{key:"toggleDestacar",value:function(){this.highlightPost(this.publicacion.destacada?{id:this.publicacion._id,destacar:!1}:{id:this.publicacion._id,destacar:!0})}},{key:"fetchPost",value:function(e){var t=this,n=e.id;this.loading=!0,this.mainService.get({api:"".concat(this.API_PUBLICACION,"/").concat(n)}).then((function(e){console.log(e),t.publicacion=e,t.empresa=t.publicacion.empresa||{},t.cpv=e.inversion/e.vtr,t.cpv==1/0&&(t.cpv=0)})).finally((function(){t.loading=!1}))}},{key:"onEdit",value:function(){this.generalService.routerNavigateTo({path:"index/publicaciones/editar/".concat(this.publicacion._id)})}},{key:"highlightPost",value:function(e){var t=this,n=e.id,i=e.destacar;this.loading=!0,this.mainService.put({api:"".concat(this.API_PUBLICACION,"/").concat(n),data:{destacada:i}}).then((function(e){t.publicacion=e})).finally((function(){t.loading=!1}))}},{key:"countLikesByPublicacion",value:function(e){var t=this,n=e.id;this.mainService.get({api:"api/like/publicacion/".concat(n)}).then((function(e){t.likes=e}))}},{key:"countComentariosByPublicacion",value:function(e){var t=this,n=e.id;this.mainService.get({api:"api/comentario/publicacion-contar/".concat(n)}).then((function(e){t.comentarios=e}))}},{key:"countCompartirByPublicacion",value:function(e){var t=this,n=e.id;this.mainService.get({api:"api/compartir/publicacion/".concat(n)}).then((function(e){t.compartir=e}))}},{key:"countClicksByPublicacion",value:function(e){var t=this,n=e.id;this.mainService.get({api:"api/click/publicacion/".concat(n)}).then((function(e){t.clicks=e}))}}]),e}()).\u0275fac=function(e){return new(e||yn)(s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](gt.a))},yn.\u0275cmp=s["\u0275\u0275defineComponent"]({type:yn,selectors:[["ngx-publicacion-detail"]],inputs:{pubId:"pubId"},decls:82,vars:26,consts:[[3,"nbSpinner"],[1,"row-space-between"],[1,"header-row"],[1,"fa","fa-arrow-left","pointer",3,"click"],[1,"row","mb-3","cardsKPI"],[1,"col"],["description","Comentarios",3,"value"],["description","Likes",3,"value"],["description","Shares",3,"value"],["description","Clicks",3,"value"],["class","col",4,"ngIf"],["description","CPC",3,"value"],["description","CTR",3,"value"],["description","Engagement",3,"value"],[1,"p-4"],[1,"first-row","pb-4"],[1,"img-name"],[1,"logo",3,"src"],["nbButton","","status","primary","size","medium",1,"float-right","pull-right",3,"click"],["icon","edit-outline"],[1,"row","p-2"],[1,"row"],[1,"col","info"],["class","col info",4,"ngIf","ngIfElse"],["inactivaBlock",""],[1,"row","info"],["target","_blank",3,"href"],["class","img-wraper mt-4",4,"ngIf"],["class","video-wraper",4,"ngIf"],[1,"col","eliminar"],["description","VTR",3,"value"],["description","CPV",3,"value"],[1,"warning"],["icon","alert-triangle-outline"],[1,"warning-description"],[1,"img-wraper","mt-4"],[3,"src"],[1,"video-wraper"],["vgProperty","current","vgFormat","mm:ss"],[2,"pointer-events","none"],["vgProperty","left","vgFormat","mm:ss"],["vgProperty","total","vgFormat","mm:ss"],["id","singleVideo","preload","auto","crossorigin","",3,"vgMedia"],["media",""],["type","video/mp4",3,"src"]],template:function(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275elementStart"](3,"i",3),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"h3"),s["\u0275\u0275text"](5,"Publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](6,"br"),s["\u0275\u0275elementStart"](7,"div",4),s["\u0275\u0275elementStart"](8,"div",5),s["\u0275\u0275element"](9,"ngx-kpi-card",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"div",5),s["\u0275\u0275element"](11,"ngx-kpi-card",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",5),s["\u0275\u0275element"](13,"ngx-kpi-card",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"div",5),s["\u0275\u0275element"](15,"ngx-kpi-card",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](16,pn,2,1,"div",10),s["\u0275\u0275elementStart"](17,"div",5),s["\u0275\u0275element"](18,"ngx-kpi-card",11),s["\u0275\u0275pipe"](19,"currency"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](20,fn,3,3,"div",10),s["\u0275\u0275elementStart"](21,"div",5),s["\u0275\u0275element"](22,"ngx-kpi-card",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"div",5),s["\u0275\u0275element"](24,"ngx-kpi-card",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"nb-card"),s["\u0275\u0275elementStart"](26,"nb-card-body",14),s["\u0275\u0275elementStart"](27,"div",15),s["\u0275\u0275elementStart"](28,"div",16),s["\u0275\u0275element"](29,"img",17),s["\u0275\u0275elementStart"](30,"h5"),s["\u0275\u0275text"](31),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](32,"button",18),s["\u0275\u0275listener"]("click",(function(){return t.onEdit()})),s["\u0275\u0275element"](33,"nb-icon",19),s["\u0275\u0275text"](34," Editar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"div",20),s["\u0275\u0275elementStart"](36,"div",5),s["\u0275\u0275elementStart"](37,"div",21),s["\u0275\u0275elementStart"](38,"div",22),s["\u0275\u0275elementStart"](39,"strong"),s["\u0275\u0275text"](40,"Nombre de la publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](41,"label"),s["\u0275\u0275text"](42),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](43,mn,5,1,"div",23),s["\u0275\u0275template"](44,gn,6,0,"ng-template",null,24,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](46,"br"),s["\u0275\u0275elementStart"](47,"div",21),s["\u0275\u0275elementStart"](48,"div",22),s["\u0275\u0275elementStart"](49,"strong"),s["\u0275\u0275text"](50,"Publicaci\xf3n impulsada"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](51,"label"),s["\u0275\u0275text"](52,"No"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](53,"div",22),s["\u0275\u0275elementStart"](54,"strong"),s["\u0275\u0275text"](55,"Fecha de publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](56,"label"),s["\u0275\u0275text"](57),s["\u0275\u0275pipe"](58,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](59,"br"),s["\u0275\u0275elementStart"](60,"div",5),s["\u0275\u0275elementStart"](61,"div",25),s["\u0275\u0275elementStart"](62,"strong"),s["\u0275\u0275text"](63,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](64,"label"),s["\u0275\u0275text"](65),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](66,"br"),s["\u0275\u0275elementStart"](67,"div",25),s["\u0275\u0275elementStart"](68,"strong"),s["\u0275\u0275text"](69,"Link de la publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](70,"a",26),s["\u0275\u0275text"](71),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](72,"div",5),s["\u0275\u0275elementStart"](73,"strong"),s["\u0275\u0275text"](74,"Media de la publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](75,vn,2,1,"div",27),s["\u0275\u0275template"](76,bn,21,2,"div",28),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](77,"br"),s["\u0275\u0275elementStart"](78,"div",21),s["\u0275\u0275elementStart"](79,"div",29),s["\u0275\u0275elementStart"](80,"a"),s["\u0275\u0275text"](81,"Eliminar publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275reference"](45);s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("value",null==t.publicacion?null:t.publicacion.comentarios),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",null==t.publicacion?null:null==t.publicacion.likes?null:t.publicacion.likes.length),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",null==t.publicacion?null:t.publicacion.interacted),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",null==t.publicacion?null:t.publicacion.linkClicks),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==t.publicacion?null:t.publicacion.video),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",s["\u0275\u0275pipeBind2"](19,21,null==t.publicacion?null:t.publicacion.cpc,"USD")),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",null==t.publicacion?null:t.publicacion.video),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",((null==t.publicacion?null:t.publicacion.ctr)||0)+"%"),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",((null==t.publicacion?null:t.publicacion.engagement)||0)+"%"),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("src",null==t.empresa?null:t.empresa.logo,s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](null==t.empresa?null:t.empresa.nombre),s["\u0275\u0275advance"](11),s["\u0275\u0275textInterpolate"](null==t.publicacion?null:t.publicacion.titulo),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null!=(null==t.publicacion?null:t.publicacion.sector))("ngIfElse",n),s["\u0275\u0275advance"](14),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](58,24,null==t.publicacion?null:t.publicacion.createdAt)),s["\u0275\u0275advance"](8),s["\u0275\u0275textInterpolate"](null==t.publicacion?null:t.publicacion.texto),s["\u0275\u0275advance"](5),s["\u0275\u0275propertyInterpolate"]("href",null==t.publicacion?null:t.publicacion.link,s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"]((null==t.publicacion?null:t.publicacion.link)||"Sin link"),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",null==t.publicacion?null:t.publicacion.foto),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==t.publicacion?null:t.publicacion.video)}},directives:[Ge.cb,Gt,i.o,Ge.o,Ge.n,Ge.j,Ge.A,Q,Be,Ve,Ae,Fe,De,_e,Te,Ie,Me,Pe,je,we,Le,J],pipes:[i.d,i.f],styles:[".header-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}h3[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:0;padding:0}i[_ngcontent-%COMP%]{font-size:25px;margin-right:10px}i[_ngcontent-%COMP%]   .highlighted[_ngcontent-%COMP%]{color:#200081}.logo[_ngcontent-%COMP%]{max-height:70px;border-radius:8px;width:auto;margin-right:10px}.short-btn[_ngcontent-%COMP%]{height:50px}.main-card[_ngcontent-%COMP%]{padding-right:400px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.img-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.row-space-between[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.clickable[_ngcontent-%COMP%]:hover   *[_ngcontent-%COMP%]{color:#200081;cursor:pointer}.first-row[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}.first-row[_ngcontent-%COMP%], .flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900}a[_ngcontent-%COMP%]:hover{cursor:pointer}a[_ngcontent-%COMP%], label[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-size:1rem}img[_ngcontent-%COMP%]{display:block;max-width:50vh;width:auto;height:auto}.eliminar[_ngcontent-%COMP%]{cursor:pointer}.eliminar[_ngcontent-%COMP%]:hover{color:red}.warning[_ngcontent-%COMP%]{background-color:#fa0;color:#fff;border:.0625rem solid #fa0;border-radius:1.5rem;font-size:.9375rem;font-weight:600;line-height:1.5rem;padding:.1875rem .9375rem;max-width:240px}.warning-description[_ngcontent-%COMP%]{color:grey}.cardsKPI[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:20px}"]}),yn),Sn=n("mrSG"),Cn=n("SSNz");function kn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",24),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("value",n),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.nombre," ")}}function En(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",5),s["\u0275\u0275elementStart"](1,"label"),s["\u0275\u0275text"](2,"Empresa de la publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"nb-select",22,23),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().empresa=e})),s["\u0275\u0275template"](5,kn,2,2,"nb-option",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngModel",i.empresa),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",i.empresas)}}function _n(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",24),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("value",n._id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.nombre," ")}}function wn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"label",25),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",n.selectedFile.file.name,"")}}var Pn,On=((Pn=function(){function e(t,n,i,r){_classCallCheck2(this,e),this.mainService=t,this.generalService=n,this.s3=i,this.activatedRoute=r,this.API_SECTOR="api/sector",this.API_EMPRESA="api/empresa",this.API_PUBLICACION="api/publicacion",this.sectores=[],this.publicacion={nueva:!1},this.loading=!1,this.empresas=[],this.isSuperAdmin=!1,this.edit=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){this.isSuperAdmin="superadministrador"===JSON.parse(localStorage.getItem("_user")).tipo,this.isSuperAdmin||(this.empresa=JSON.parse(localStorage.getItem("_user")).empresa),this.getEmpresas(),this.getSectores()}},{key:"fetchPost",value:function(e){var t=this,n=e.id;this.loading=!0,this.mainService.get({api:"".concat(this.API_PUBLICACION,"/").concat(n)}).then((function(e){t.publicacion=e,t.publicacion.sector=t.publicacion.sector._id,t.empresa=t.empresas.find((function(e){return e._id==t.publicacion.empresa._id}))})).finally((function(){t.loading=!1}))}},{key:"getEmpresas",value:function(){var e=this;this.loading=!0,this.mainService.get({api:this.API_EMPRESA}).then((function(t){var n=e.activatedRoute.snapshot.paramMap.get("id");e.empresas=t,n&&(e.edit=!0,e.fetchPost({id:n}))})).finally((function(){e.loading=!1}))}},{key:"getSectores",value:function(){var e=this;this.loading=!0,this.mainService.get({api:this.API_SECTOR}).then((function(t){e.sectores=t})).finally((function(){e.loading=!1}))}},{key:"goBack",value:function(){this.generalService.goBack()}},{key:"openFileSelector",value:function(){document.getElementById("media").click()}},{key:"onSubmit",value:function(){var e=this;this.loading=!0,this.selectedFile&&this.selectedFile.file?this.uploadFile({file:this.selectedFile.file,callback:function(t,n){t?(alert("No fue posible subir el archivo, por favor intente m\xe1s tarde"),e.loading=!1):e.createPublicacion({media:n.Location})}}):this.createPublicacion({media:this.publicacion.foto||this.publicacion.video})}},{key:"onChangeMedia",value:function(e){var t=e.event;t.target.files.length>0&&(this.selectedFile={file:t.target.files[0],type:t.target.files[0].type.split("/")[0]})}},{key:"createPublicacion",value:function(e){var t=this,n=e.media;n&&this.publicacion.texto&&this.publicacion.titulo&&this.publicacion.link&&this.publicacion.sector&&this.empresa?(this.publicacion.empresa=this.empresa._id||"",this.selectedFile&&this.selectedFile.type&&("image"===this.selectedFile.type?this.publicacion.foto=n:this.publicacion.video=n),this.edit?this.mainService.put({api:"".concat(this.API_PUBLICACION,"/").concat(this.publicacion._id),data:this.publicacion}).then((function(e){e&&e._id?(t.generalService.handleSuccess({text:"Pubicaci\xf3n editada"}),t.goBack()):t.generalService.handleError({error:"Hubo un error al editar la publicaci\xf3n",titulo:"Error"})})).finally((function(){t.loading=!1})):this.mainService.post({api:this.API_PUBLICACION,data:this.publicacion}).then((function(e){e&&e._id?(t.generalService.handleSuccess({text:"Pubicaci\xf3n creada"}),t.goBack()):t.generalService.handleError({error:"Hubo un error al crear la publicaci\xf3n",titulo:"Error"})})).finally((function(){t.loading=!1}))):(this.loading=!1,this.generalService.handleError({error:"Por favor llena todos los campos",titulo:"Error"}))}},{key:"uploadFile",value:function(e){var t=e.file,n=e.callback;return Object(Sn.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="empresa/".concat(this.empresa.nombre.replace(" ","-"),"/").concat(this.s3.generateKey(),".").concat(t.name.split(".")[1]),e.next=3,this.s3.uploadFile({file:t,key:i,callback:n});case 3:case"end":return e.stop()}}),e,this)})))}},{key:"toggleNueva",value:function(){this.publicacion.nueva=!this.publicacion.nueva}}]),e}()).\u0275fac=function(e){return new(e||Pn)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](Cn.a),s["\u0275\u0275directiveInject"](gt.a))},Pn.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Pn,selectors:[["ngx-publicaciones-crear"]],decls:44,vars:12,consts:[[3,"nbSpinner"],[1,"header-row"],[1,"fa","fa-arrow-left","pointer",3,"click"],[1,"row"],["class","col-sm-5 info",4,"ngIf"],[1,"col-sm-5","info"],["nbInput","","placeholder","Ingresa el t\xedtulo de la  publicaci\xf3n","fullWidth","",3,"ngModel","ngModelChange"],["fullwidth","","name","sector","placeholder","Selecciona...","fieldsize","large","required","",1,"input-full-width","size-large","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["sector","ngModel"],[3,"value",4,"ngFor","ngForOf"],["nbInput","","fullWidth","","placeholder","Ingresa un link de redirecci\xf3n",3,"ngModel","ngModelChange"],["nbButton","",3,"click"],["hidden","","type","file","id","media",3,"change"],["class","label",4,"ngIf"],[1,"header-row","clickable",3,"click"],[3,"ngClass"],[1,"no-margin"],[1,"col"],["nbInput","","fullWidth","","placeholder","Agrega m\xe1s informaci\xf3n referente a tu publicaci\xf3n",3,"ngModel","ngModelChange"],[1,"row","m-3"],[1,"col","d-flex","justify-content-center"],["nbButton","","status","primary",3,"click"],["fullwidth","","name","emp","placeholder","Selecciona...","fieldsize","large","required","",1,"input-full-width","size-large","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["emp","ngModel"],[3,"value"],[1,"label"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"span"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"nb-card-body"),s["\u0275\u0275elementStart"](7,"div",3),s["\u0275\u0275template"](8,En,6,2,"div",4),s["\u0275\u0275elementStart"](9,"div",5),s["\u0275\u0275elementStart"](10,"label"),s["\u0275\u0275text"](11,"T\xedtulo de la publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"input",6),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.publicacion.titulo=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",5),s["\u0275\u0275elementStart"](14,"label"),s["\u0275\u0275text"](15,"Sector de la publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"nb-select",7,8),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.publicacion.sector=e})),s["\u0275\u0275template"](18,_n,2,2,"nb-option",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",5),s["\u0275\u0275elementStart"](20,"label"),s["\u0275\u0275text"](21,"Link de redirecci\xf3n de publicidad"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"input",10),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.publicacion.link=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"div",5),s["\u0275\u0275elementStart"](24,"label"),s["\u0275\u0275text"](25,"Contenido multimedia"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"button",11),s["\u0275\u0275listener"]("click",(function(){return t.openFileSelector()})),s["\u0275\u0275text"](27,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"input",12),s["\u0275\u0275listener"]("change",(function(e){return t.onChangeMedia({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](29,wn,2,1,"label",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"div",5),s["\u0275\u0275elementStart"](31,"div",14),s["\u0275\u0275listener"]("click",(function(){return t.toggleNueva()})),s["\u0275\u0275element"](32,"i",15),s["\u0275\u0275elementStart"](33,"label",16),s["\u0275\u0275text"](34),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"div",3),s["\u0275\u0275elementStart"](36,"div",17),s["\u0275\u0275elementStart"](37,"label"),s["\u0275\u0275text"](38,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](39,"textarea",18),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.publicacion.texto=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](40,"div",19),s["\u0275\u0275elementStart"](41,"div",20),s["\u0275\u0275elementStart"](42,"button",21),s["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),s["\u0275\u0275text"](43),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"]("",t.edit?"Editar":"Crear"," publicaci\xf3n"),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",t.isSuperAdmin),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.publicacion.titulo),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.publicacion.sector),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",t.sectores),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.publicacion.link),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngIf",t.selectedFile),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngClass",!0===t.publicacion.nueva?"fas fa-star highlighted":"far fa-star"),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",null!=t.publicacion&&t.publicacion.nueva?"Marcar como no nueva":"Marcar como nueva"," "),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.publicacion.texto),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](t.edit?"Guardar cambios":"Crear publicaci\xf3n"))},directives:[Ge.o,Ge.cb,Ge.q,Ge.n,i.o,Ge.D,o.b,o.n,o.q,Ge.X,o.v,i.n,Ge.j,i.m,Ge.S],styles:[".header-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.header-row[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:1.1rem}i[_ngcontent-%COMP%]{margin-right:10px}.short-btn[_ngcontent-%COMP%]{height:50px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.img-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:20px}.clickable[_ngcontent-%COMP%]:hover   *[_ngcontent-%COMP%]{color:#200081;cursor:pointer}.first-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900}a[_ngcontent-%COMP%]:hover{cursor:pointer}.no-margin[_ngcontent-%COMP%]{margin-bottom:0}"]}),Pn),Mn=n("wd/R");function An(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",21),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("value",n),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](n)}}var In,Tn=((In=function(){function e(t,n,i){_classCallCheck2(this,e),this.mainService=t,this.activatedRoute=n,this.generalService=i,this.API_EMPRESAS="api/empresa",this.API_PUBLICACION="api/publicacion",this.API_POSTS_BY_EMPRESA="api/publicacion/empresa",this.empresa={},this.publicaciones=[],this.years=[],this.filterPublicaciones={year:(new Date).getFullYear(),publicaciones:[]},this.loading=!1,this.source=[],this.settings={noDataMessage:"Ning\xfan registro encontrado",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"ver",title:'<i class="fa fa-search" title="Ver publicaci\xf3n"></i>'}]},columns:{titulo:{title:"Publicaci\xf3n",width:"80%"}},mode:"external"},this.chartConfig={data:[],showXAxis:!0,showYAxis:!0,gradient:!1,showLegend:!1,showXAxisLabel:!0,xAxisLabel:"Meses",showYAxisLabel:!0,yAxisLabel:"# Publicaciones",animations:!0,view:[void 0,400],colorScheme:{domain:["#200081"]}}}return _createClass2(e,[{key:"ngOnInit",value:function(){for(var e=(new Date).getFullYear()-5;e<=(new Date).getFullYear();e++)this.years.push(e);var t=this.activatedRoute.snapshot.paramMap.get("empresa");this.fetchEmpresaAndPosts(t)}},{key:"goBack",value:function(){this.generalService.goBack()}},{key:"fetchEmpresaAndPosts",value:function(e){var t=this;this.loading=!0,this.mainService.get({api:"".concat(this.API_EMPRESAS,"/").concat(e)}).then((function(n){t.empresa=n,t.mainService.get({api:"".concat(t.API_POSTS_BY_EMPRESA,"/").concat(e)}).then((function(e){t.publicaciones=e,t.source=t.publicaciones,t.filterPublicaciones.publicaciones=t.publicaciones,t.setUpChart()}))})).finally((function(){t.loading=!1}))}},{key:"highlightPost",value:function(e){var t=this,n=e.id,i=e.destacar;this.loading=!0,this.mainService.put({api:"".concat(this.API_PUBLICACION,"/").concat(n),data:{destacada:i}}).then((function(e){})).finally((function(){t.loading=!1}))}},{key:"onCustomAction",value:function(e){var t=e.event;"ver"===t.action&&this.generalService.routerNavigateTo({path:"index/publicaciones/".concat(t.data._id)})}},{key:"onChangeYear",value:function(){var e=this;this.filterPublicaciones.publicaciones=this.publicaciones.filter((function(t){return parseInt(Mn(t.createdAt).format("Y"))===e.filterPublicaciones.year})),this.setUpChart()}},{key:"setUpChart",value:function(){var e=[],t=parseInt(Mn().format("Y"));if(this.filterPublicaciones.year===t)for(var n=parseInt(Mn().format("M")),i=1;i<=n;i++){var r={value:0,name:""};switch(i){case 1:r.name="Enero";break;case 2:r.name="Febrero";break;case 3:r.name="Marzo";break;case 4:r.name="Abril";break;case 5:r.name="Mayo";break;case 6:r.name="Junio";break;case 7:r.name="Julio";break;case 8:r.name="Agosto";break;case 9:r.name="Septiembre";break;case 10:r.name="Octubre";break;case 11:r.name="Noviembre";break;case 12:r.name="Diciembre"}e.push(r)}else e=[{name:"Enero",value:0},{name:"Febrero",value:0},{name:"Marzo",value:0},{name:"Abril",value:0},{name:"Mayo",value:0},{name:"Junio",value:0},{name:"Julio",value:0},{name:"Agosto",value:0},{name:"Septiembre",value:0},{name:"Octubre",value:0},{name:"Noviembre",value:0},{name:"Diciembre",value:0}];try{this.filterPublicaciones.publicaciones.length>0&&this.filterPublicaciones.publicaciones.forEach((function(t){var n=parseInt(Mn(t.createdAt).format("M"));e[n-1].value+=1})),this.chartConfig.data=e}catch(a){}}}]),e}()).\u0275fac=function(e){return new(e||In)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](gt.a),s["\u0275\u0275directiveInject"](vt.a))},In.\u0275cmp=s["\u0275\u0275defineComponent"]({type:In,selectors:[["ngx-publicaciones-empresa"]],decls:40,vars:19,consts:[[3,"nbSpinner"],[1,"header-row"],[1,"fa","fa-arrow-left","pointer",3,"click"],[1,"row","mb-3"],[1,"col"],["description","Click through rate"],["description","View through rate"],["description","Costo por clicks"],["description","Costo por impresiones"],[1,"first-row"],[1,"img-name"],[1,"logo",3,"src"],["nbInput","","placeholder","Buscar"],[1,"flex-row"],[3,"source","settings","custom"],[1,"col","center"],[1,"flex-row","space-between"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex-row","center"],[3,"view","results","scheme","gradient","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","animations"],[3,"value"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"h3"),s["\u0275\u0275text"](4,"Estad\xedsticas de publicaciones de empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](5,"br"),s["\u0275\u0275elementStart"](6,"div",3),s["\u0275\u0275elementStart"](7,"div",4),s["\u0275\u0275element"](8,"ngx-kpi-card",5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",4),s["\u0275\u0275element"](10,"ngx-kpi-card",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"div",4),s["\u0275\u0275element"](12,"ngx-kpi-card",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",4),s["\u0275\u0275element"](14,"ngx-kpi-card",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"nb-card"),s["\u0275\u0275elementStart"](16,"nb-card-body"),s["\u0275\u0275elementStart"](17,"div",9),s["\u0275\u0275elementStart"](18,"div",10),s["\u0275\u0275element"](19,"img",11),s["\u0275\u0275elementStart"](20,"h5"),s["\u0275\u0275text"](21),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](22,"input",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](23,"br"),s["\u0275\u0275element"](24,"br"),s["\u0275\u0275elementStart"](25,"div",13),s["\u0275\u0275elementStart"](26,"div",4),s["\u0275\u0275elementStart"](27,"h5"),s["\u0275\u0275text"](28,"Listado"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](29,"br"),s["\u0275\u0275elementStart"](30,"ng2-smart-table",14),s["\u0275\u0275listener"]("custom",(function(e){return t.onCustomAction({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](31,"div",15),s["\u0275\u0275elementStart"](32,"div",16),s["\u0275\u0275elementStart"](33,"h5"),s["\u0275\u0275text"](34,"Publicaciones por mes"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"nb-select",17),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.filterPublicaciones.year=e}))("ngModelChange",(function(){return t.onChangeYear()})),s["\u0275\u0275template"](36,An,2,2,"nb-option",18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](37,"br"),s["\u0275\u0275elementStart"](38,"div",19),s["\u0275\u0275element"](39,"ngx-charts-bar-vertical",20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](19),s["\u0275\u0275property"]("src",null==t.empresa?null:t.empresa.logo,s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](null==t.empresa?null:t.empresa.nombre),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("source",t.source)("settings",t.settings),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.filterPublicaciones.year),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",t.years),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("view",t.chartConfig.view)("results",t.chartConfig.data)("scheme",t.chartConfig.colorScheme)("gradient",t.chartConfig.gradient)("xAxis",t.chartConfig.showXAxis)("yAxis",t.chartConfig.showYAxis)("legend",t.chartConfig.showLegend)("showXAxisLabel",t.chartConfig.showXAxisLabel)("showYAxisLabel",t.chartConfig.showYAxisLabel)("xAxisLabel",t.chartConfig.xAxisLabel)("yAxisLabel",t.chartConfig.yAxisLabel)("animations",t.chartConfig.animations))},directives:[Ge.cb,Gt,Ge.o,Ge.n,Ge.D,He.b,Ge.X,o.n,o.q,i.n,pt.b,Ge.S],styles:[".header-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}h3[_ngcontent-%COMP%]{margin:0;padding:0}i[_ngcontent-%COMP%]{font-size:25px}.logo[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{margin-right:10px}.logo[_ngcontent-%COMP%]{max-height:70px;border-radius:8px;width:auto}.short-btn[_ngcontent-%COMP%]{height:50px}.main-card[_ngcontent-%COMP%]{padding-right:400px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.img-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.first-row[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}.first-row[_ngcontent-%COMP%], .flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900}a[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   nb-tab[_ngcontent-%COMP%]{padding:1.25rem}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:12px;height:12px;margin:26px 15px 26px 20px;vertical-align:middle;text-align:center;font-size:1em;float:left}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom .fa, [_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom .far{font-size:22px}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#200081}h2[_ngcontent-%COMP%]{font-weight:500}.component-search-row[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-bottom:1.5rem}.icon[_ngcontent-%COMP%]{color:#200081}.space-between[_ngcontent-%COMP%]{justify-content:space-between}.full-width[_ngcontent-%COMP%]{width:100%}.center[_ngcontent-%COMP%]{justify-content:center;align-items:center}"]}),In);function jn(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",24),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("value",n),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"](n)}}var Ln,Dn,Fn=((Dn=function(){function e(t,n,i){_classCallCheck2(this,e),this.mainService=t,this.activatedRoute=n,this.generalService=i,this.API_EMPRESAS="api/empresa",this.API_PUBLICACION="api/publicacion",this.API_POSTS_BY_EMPRESA="api/publicacion/empresa",this.empresa={},this.publicaciones=[],this.years=[],this.filterPublicaciones={year:(new Date).getFullYear(),publicaciones:[]},this.loading=!1,this.source=[],this.settings={noDataMessage:"Ning\xfan registro encontrado",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"ver",title:'<i class="fa fa-search" title="Ver publicaci\xf3n"></i>'}]},columns:{titulo:{title:"Publicaci\xf3n",width:"80%"}},mode:"external"},this.chartConfig={data:[],showXAxis:!0,showYAxis:!0,gradient:!1,showLegend:!1,showXAxisLabel:!0,xAxisLabel:"Meses",showYAxisLabel:!0,yAxisLabel:"# Publicaciones",animations:!0,view:[void 0,400],colorScheme:{domain:["#200081"]}}}return _createClass2(e,[{key:"ngOnInit",value:function(){for(var e=(new Date).getFullYear()-5;e<=(new Date).getFullYear();e++)this.years.push(e);var t=JSON.parse(localStorage.getItem("_user")).empresa._id;this.fetchEmpresaAndPosts(t)}},{key:"goBack",value:function(){this.generalService.goBack()}},{key:"goToPagos",value:function(){this.generalService.routerNavigateTo({path:"index/pagos"})}},{key:"fetchEmpresaAndPosts",value:function(e){var t=this;this.loading=!0,this.mainService.get({api:"".concat(this.API_EMPRESAS,"/").concat(e)}).then((function(n){t.empresa=n,t.mainService.get({api:"".concat(t.API_POSTS_BY_EMPRESA,"/").concat(e)}).then((function(e){t.publicaciones=e,t.source=t.publicaciones,t.filterPublicaciones.publicaciones=t.publicaciones,t.setUpChart()}))})).finally((function(){t.loading=!1}))}},{key:"highlightPost",value:function(e){var t=this,n=e.id,i=e.destacar;this.loading=!0,this.mainService.put({api:"".concat(this.API_PUBLICACION,"/").concat(n),data:{destacada:i}}).then((function(e){})).finally((function(){t.loading=!1}))}},{key:"onCustomAction",value:function(e){var t=e.event;"ver"===t.action&&this.generalService.routerNavigateTo({path:"index/publicaciones/".concat(t.data._id)})}},{key:"onChangeYear",value:function(){var e=this;this.filterPublicaciones.publicaciones=this.publicaciones.filter((function(t){return parseInt(Mn(t.createdAt).format("Y"))===e.filterPublicaciones.year})),this.setUpChart()}},{key:"setUpChart",value:function(){var e=[],t=parseInt(Mn().format("Y"));if(this.filterPublicaciones.year===t)for(var n=parseInt(Mn().format("M")),i=1;i<=n;i++){var r={value:0,name:""};switch(i){case 1:r.name="Enero";break;case 2:r.name="Febrero";break;case 3:r.name="Marzo";break;case 4:r.name="Abril";break;case 5:r.name="Mayo";break;case 6:r.name="Junio";break;case 7:r.name="Julio";break;case 8:r.name="Agosto";break;case 9:r.name="Septiembre";break;case 10:r.name="Octubre";break;case 11:r.name="Noviembre";break;case 12:r.name="Diciembre"}e.push(r)}else e=[{name:"Enero",value:0},{name:"Febrero",value:0},{name:"Marzo",value:0},{name:"Abril",value:0},{name:"Mayo",value:0},{name:"Junio",value:0},{name:"Julio",value:0},{name:"Agosto",value:0},{name:"Septiembre",value:0},{name:"Octubre",value:0},{name:"Noviembre",value:0},{name:"Diciembre",value:0}];try{this.filterPublicaciones.publicaciones.length>0&&this.filterPublicaciones.publicaciones.forEach((function(t){var n=parseInt(Mn(t.createdAt).format("M"));e[n-1].value+=1})),this.chartConfig.data=e}catch(a){}}}]),e}()).\u0275fac=function(e){return new(e||Dn)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](gt.a),s["\u0275\u0275directiveInject"](vt.a))},Dn.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Dn,selectors:[["ngx-publicaciones"]],decls:44,vars:19,consts:[[3,"nbSpinner"],[1,"d-flex","flex-row","justify-content-between"],[1,"header-row"],[1,"fa","fa-arrow-left","pointer",3,"click"],["nbButton","","status","primary",3,"click"],["icon","credit-card-outline"],[1,"row","mb-3"],[1,"col"],["description","Click through rate"],["description","View through rate"],["description","Costo por clicks"],["description","Costo por impresiones"],[1,"first-row"],[1,"img-name"],[1,"logo",3,"src"],["nbInput","","placeholder","Buscar"],[1,"flex-row"],[3,"source","settings","custom"],[1,"col","center"],[1,"flex-row","space-between"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex-row","center"],[3,"view","results","scheme","gradient","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","animations"],[3,"value"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275elementStart"](3,"i",3),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"h3"),s["\u0275\u0275text"](5,"Estad\xedsticas de publicaciones de empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"button",4),s["\u0275\u0275listener"]("click",(function(){return t.goToPagos()})),s["\u0275\u0275element"](7,"nb-icon",5),s["\u0275\u0275text"](8," Pagos "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](9,"br"),s["\u0275\u0275elementStart"](10,"div",6),s["\u0275\u0275elementStart"](11,"div",7),s["\u0275\u0275element"](12,"ngx-kpi-card",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",7),s["\u0275\u0275element"](14,"ngx-kpi-card",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",7),s["\u0275\u0275element"](16,"ngx-kpi-card",10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"div",7),s["\u0275\u0275element"](18,"ngx-kpi-card",11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"nb-card"),s["\u0275\u0275elementStart"](20,"nb-card-body"),s["\u0275\u0275elementStart"](21,"div",12),s["\u0275\u0275elementStart"](22,"div",13),s["\u0275\u0275element"](23,"img",14),s["\u0275\u0275elementStart"](24,"h5"),s["\u0275\u0275text"](25),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](26,"input",15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](27,"br"),s["\u0275\u0275element"](28,"br"),s["\u0275\u0275elementStart"](29,"div",16),s["\u0275\u0275elementStart"](30,"div",7),s["\u0275\u0275elementStart"](31,"h5"),s["\u0275\u0275text"](32,"Listado"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](33,"br"),s["\u0275\u0275elementStart"](34,"ng2-smart-table",17),s["\u0275\u0275listener"]("custom",(function(e){return t.onCustomAction({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"div",18),s["\u0275\u0275elementStart"](36,"div",19),s["\u0275\u0275elementStart"](37,"h5"),s["\u0275\u0275text"](38,"Publicaciones por mes"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](39,"nb-select",20),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.filterPublicaciones.year=e}))("ngModelChange",(function(){return t.onChangeYear()})),s["\u0275\u0275template"](40,jn,2,2,"nb-option",21),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](41,"br"),s["\u0275\u0275elementStart"](42,"div",22),s["\u0275\u0275element"](43,"ngx-charts-bar-vertical",23),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](23),s["\u0275\u0275property"]("src",null==t.empresa?null:t.empresa.logo,s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](null==t.empresa?null:t.empresa.nombre),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("source",t.source)("settings",t.settings),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.filterPublicaciones.year),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",t.years),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("view",t.chartConfig.view)("results",t.chartConfig.data)("scheme",t.chartConfig.colorScheme)("gradient",t.chartConfig.gradient)("xAxis",t.chartConfig.showXAxis)("yAxis",t.chartConfig.showYAxis)("legend",t.chartConfig.showLegend)("showXAxisLabel",t.chartConfig.showXAxisLabel)("showYAxisLabel",t.chartConfig.showYAxisLabel)("xAxisLabel",t.chartConfig.xAxisLabel)("yAxisLabel",t.chartConfig.yAxisLabel)("animations",t.chartConfig.animations))},directives:[Ge.cb,Ge.j,Ge.A,Gt,Ge.o,Ge.n,Ge.D,He.b,Ge.X,o.n,o.q,i.n,pt.b,Ge.S],styles:[".header-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}h3[_ngcontent-%COMP%]{margin:0;padding:0}i[_ngcontent-%COMP%]{font-size:25px}.logo[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{margin-right:10px}.logo[_ngcontent-%COMP%]{max-height:70px;border-radius:8px;width:auto}.short-btn[_ngcontent-%COMP%]{height:50px}.main-card[_ngcontent-%COMP%]{padding-right:400px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.img-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.first-row[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}.first-row[_ngcontent-%COMP%], .flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900}a[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   nb-tab[_ngcontent-%COMP%]{padding:1.25rem}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:12px;height:12px;margin:26px 15px 26px 20px;vertical-align:middle;text-align:center;font-size:1em;float:left}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom .fa, [_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom .far{font-size:22px}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#200081}h2[_ngcontent-%COMP%]{font-weight:500}.component-search-row[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-bottom:1.5rem}.icon[_ngcontent-%COMP%]{color:#200081}.space-between[_ngcontent-%COMP%]{justify-content:space-between}.full-width[_ngcontent-%COMP%]{width:100%}.center[_ngcontent-%COMP%]{justify-content:center;align-items:center}"]}),Dn),Rn=((Ln=function(){function e(t,n){_classCallCheck2(this,e),this.mainService=t,this.generalService=n,this.publicaciones=[],this.settings={}}return _createClass2(e,[{key:"ngOnInit",value:function(){this.getPublicaciones(),this.setSettings()}},{key:"getPublicaciones",value:function(){var e=this;this.mainService.get({api:"api/publicacion"}).then((function(t){e.publicaciones=t,e.setAttributes(),e.source=new He.a(e.publicaciones)}))}},{key:"onCustomAction",value:function(e){var t=e.event;"ver"===t.action&&this.generalService.routerNavigateTo({path:"index/publicaciones/".concat(t.data._id)})}},{key:"onRegister",value:function(){this.generalService.routerNavigateTo({path:"index/publicaciones/crear"})}},{key:"setAttributes",value:function(){this.publicaciones.forEach((function(e){e.nombreEmpresa=e.empresa?e.empresa.nombre:"N/A",e.nombreSector=e.sector?e.sector.nombre:"N/A"}))}},{key:"setSettings",value:function(){this.settings={noDataMessage:"Ning\xfan registro encontrado",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"ver",title:'<i class="fa fa-search" title="Ver publicaci\xf3n"></i>'}]},columns:{titulo:{title:"Nombre"},nombreEmpresa:{title:"Empresa"},nombreSector:{title:"Sector"}},mode:"external"}}}]),e}()).\u0275fac=function(e){return new(e||Ln)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](vt.a))},Ln.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Ln,selectors:[["ngx-publicaciones"]],decls:11,vars:2,consts:[[1,"row"],[1,"col-sm-12"],[1,"d-flex","justify-content-between","align-items-center"],["nbButton","","status","primary","size","medium",1,"float-right","pull-right",3,"click"],["icon","plus-outline"],[3,"source","settings","custom"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"nb-card"),s["\u0275\u0275elementStart"](3,"nb-card-header",2),s["\u0275\u0275elementStart"](4,"h5"),s["\u0275\u0275text"](5,"Publicaciones"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"button",3),s["\u0275\u0275listener"]("click",(function(){return t.onRegister()})),s["\u0275\u0275element"](7,"nb-icon",4),s["\u0275\u0275text"](8,"Agregar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"nb-card-body"),s["\u0275\u0275elementStart"](10,"ng2-smart-table",5),s["\u0275\u0275listener"]("custom",(function(e){return t.onCustomAction({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("source",t.source)("settings",t.settings))},directives:[Ge.o,Ge.q,Ge.j,Ge.A,Ge.n,He.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:12px;height:12px;margin:26px 15px 26px 20px;vertical-align:middle;text-align:center;font-size:1em;float:left}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom .fa, [_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom .far{font-size:22px}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#200081}"]}),Ln);function Bn(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",5),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"button",6),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275element"](3,"nb-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275elementStart"](5,"p"),s["\u0275\u0275text"](6,"\xbfEst\xe1s seguro de eliminar este usuario?"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"nb-card-footer",9),s["\u0275\u0275elementStart"](8,"button",10),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.dialogRef,i=t.$implicit;return s["\u0275\u0275nextContext"]().onDelete(e,i.id)})),s["\u0275\u0275text"](9,"Eliminar usuario"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function Nn(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",5),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"button",6),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275element"](3,"nb-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275elementStart"](5,"p"),s["\u0275\u0275text"](6," \xbfEst\xe1s seguro de eliminar "),s["\u0275\u0275elementStart"](7,"span",11),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](9," ? "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"p"),s["\u0275\u0275text"](11,"El administrador correspondiente a esta empresa ser\xe1 deshabilitado."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"nb-card-footer",9),s["\u0275\u0275elementStart"](13,"button",10),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.dialogRef,i=t.$implicit;return s["\u0275\u0275nextContext"]().onDeleteEmpresa(e,i.id)})),s["\u0275\u0275text"](14,"Eliminar empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;s["\u0275\u0275advance"](8),s["\u0275\u0275textInterpolate"](i.text)}}function Vn(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",5),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"button",6),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275element"](3,"nb-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275elementStart"](5,"p"),s["\u0275\u0275text"](6," \xbfEst\xe1s seguro de deshabilitar como administrador a "),s["\u0275\u0275elementStart"](7,"span",11),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](9," ? "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"nb-card-footer",9),s["\u0275\u0275elementStart"](11,"button",10),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.dialogRef,i=t.$implicit;return s["\u0275\u0275nextContext"]().onDeleteAdmin(e,i.id)})),s["\u0275\u0275text"](12,"Deshabilitar administrador"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;s["\u0275\u0275advance"](8),s["\u0275\u0275textInterpolate"](i.text)}}var zn,Gn,Un=((Gn=function(){function e(t,n,i){_classCallCheck2(this,e),this.generalService=t,this.mainService=n,this.dialogService=i,this.updateViewEvent=new s.EventEmitter,this.API_USUARIO="api/user",this.API_EMPRESA="api/empresa",this.API_ADMIN="api/admin"}return _createClass2(e,[{key:"ngOnInit",value:function(){}},{key:"onCustomAction",value:function(e,t,n,i){var r=e.event;switch(r.action){case"ver-consumidor":this.generalService.routerNavigateTo({path:"/index/consumer/".concat(r.data._id)});break;case"borrar-consumidor":this.dialogRef=this.dialogService.open(t,{context:{text:"".concat(r.data.nombre," ").concat(r.data.apellido),id:r.data._id}});break;case"ver-empresa":this.generalService.routerNavigateTo({path:"/index/empresa/".concat(r.data.empresa._id)});break;case"borrar-empresa":this.dialogRef=this.dialogService.open(n,{context:{text:"".concat(r.data.empresa.nombre),id:r.data.empresa._id}});break;case"deshabilitar-admin":this.dialogRef=this.dialogService.open(i,{context:{text:"".concat(r.data.nombre," ").concat(r.data.apellido),id:r.data._id}})}}},{key:"onDelete",value:function(e,t){var n=this;this.dialogRef.close(),this.mainService.delete({api:"".concat(this.API_USUARIO,"/").concat(t)}).finally((function(){return n.updateViewEvent.emit()}))}},{key:"onDeleteEmpresa",value:function(e,t){var n=this;this.closeDialog(e),this.mainService.delete({api:"".concat(this.API_EMPRESA,"/").concat(t)}).finally((function(){return n.updateViewEvent.emit()}))}},{key:"onDeleteAdmin",value:function(e,t){var n=this;this.closeDialog(e),this.mainService.delete({api:"".concat(this.API_ADMIN,"/").concat(t)}).finally((function(){return n.updateViewEvent.emit()}))}},{key:"closeDialog",value:function(e){e.close()}}]),e}()).\u0275fac=function(e){return new(e||Gn)(s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](Ge.x))},Gn.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Gn,selectors:[["ngx-usuarios-table"]],inputs:{source:"source",settings:"settings"},outputs:{updateViewEvent:"updateViewEvent"},decls:8,vars:2,consts:[[1,"table"],[3,"source","settings","custom"],["deleteUserDialog",""],["deleteEmpresaDialog",""],["disableAdminDialogUnique",""],[1,"dialog"],["nbButton","","ghost","","status","primary",1,"close",3,"click"],["icon","close-outline"],[1,"text-container","mx-auto"],[1,"footer"],["nbButton","","status","danger",3,"click"],[1,"username"]],template:function(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"ng2-smart-table",1),s["\u0275\u0275listener"]("custom",(function(e){s["\u0275\u0275restoreView"](n);var i=s["\u0275\u0275reference"](3),r=s["\u0275\u0275reference"](5),a=s["\u0275\u0275reference"](7);return t.onCustomAction({event:e},i,r,a)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](2,Bn,10,0,"ng-template",null,2,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](4,Nn,15,1,"ng-template",null,3,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275template"](6,Vn,13,1,"ng-template",null,4,s["\u0275\u0275templateRefExtractor"])}2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("source",t.source)("settings",t.settings))},directives:[He.b,Ge.o,Ge.n,Ge.j,Ge.A,Ge.p],styles:["[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:18px;height:18px;margin:8px 8px 10px 12px;float:left;font-size:1rem}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i{padding-top:10px;font-size:18px;color:#08003d}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i:hover{color:#200081}.dialog[_ngcontent-%COMP%]{max-width:420px;text-align:center}.dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin:.2rem;right:0;position:absolute}.dialog[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]{margin-top:3.2rem;text-align:center;max-width:80%}.dialog[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{text-align:center}.username[_ngcontent-%COMP%]{color:#200081;font-weight:bolder;text-transform:capitalize}"]}),Gn),Hn=((zn=function(){function e(t,n){_classCallCheck2(this,e),this.mainService=t,this.iconLibraries=n,this.API_USUARIO="api/user",this.API_USERS_COUNT="api/user/count",this.API_USERS_ACTIVE_COUNT="api/user/active/count",this.loading=!1,this.kpiLoading=!1,this.activeUsers=0,this.userCount=0,this.consumers={settings:{noDataMessage:"Ning\xfan registro encontrado.",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"ver-consumidor",title:'<i title="Editar usuario" class="fas fa-pen"></i>'},{name:"borrar-consumidor",title:'<i title="Eliminar usuario" class="fas fa-trash"></i>'}]},columns:{age:{title:"Edad"},genero:{title:"G\xe9nero",valuePrepareFunction:function(e){return e.replace(/(^\w{1})|(\s+\w{1})/g,(function(e){return e.toUpperCase()}))}},email:{title:"Email",width:"90%"}},mode:"external"},source:[]},this.empresas={settings:{noDataMessage:"Ning\xfan registro encontrado.",actions:{columnTitle:"Acciones",filter:!0,width:"100px",add:!1,edit:!1,delete:!1,custom:[{name:"ver-empresa",title:'<i title="Editar empresa" class="fas fa-pen"></i>'},{name:"borrar-empresa",title:'<i title="Eliminar empresa" class="fas fa-trash"></i>'}]},columns:{nombre:{title:"Nombre (s)",width:"15%",valuePrepareFunction:function(e){return e.replace(/(^\w{1})|(\s+\w{1})/g,(function(e){return e.toUpperCase()}))}},apellido:{title:"Apellido",width:"15%",valuePrepareFunction:function(e){return e.replace(/(^\w{1})|(\s+\w{1})/g,(function(e){return e.toUpperCase()}))}},email:{title:"Email"},nombreEmpresa:{title:"Empresa"}},mode:"external"},source:[]},this.admin={settings:{noDataMessage:"Ning\xfan registro encontrado.",actions:{columnTitle:"Acciones",filter:!0,add:!1,width:"100px",edit:!1,delete:!1,custom:[{name:"deshabilitar-admin",title:'<i title="Deshabilitar administrador" class="fas fa-user-slash"></i>'}]},columns:{nombre:{title:"Nombre (s)",valuePrepareFunction:function(e){return e.replace(/(^\w{1})|(\s+\w{1})/g,(function(e){return e.toUpperCase()}))}},apellido:{title:"Apellido",valuePrepareFunction:function(e){return e.replace(/(^\w{1})|(\s+\w{1})/g,(function(e){return e.toUpperCase()}))}},email:{title:"Email",width:"30%"}},mode:"external"},source:[]},this.iconLibraries.registerFontPack("font-awesome",{iconClassPrefix:"fa",packClass:"fas"})}return _createClass2(e,[{key:"ngOnInit",value:function(){this.refresh()}},{key:"refresh",value:function(){this.fetchKpi(),this.fetchUsers()}},{key:"fetchUsers",value:function(){var e=this;this.loading=!0,this.mainService.get({api:this.API_USUARIO,hide404:!0}).then((function(t){var n=t.filter((function(e){return"consumidor"===e.tipo})),i=t.filter((function(e){return"administrador"===e.tipo}));i=i.map((function(e){return Object.assign(Object.assign({},e),{nombreEmpresa:e.empresa.nombre})}));var r=t.filter((function(e){return"superadministrador"===e.tipo}));e.setUsersTable({consumers:n,empresas:i,admin:r})})).finally((function(){e.loading=!1}))}},{key:"fetchKpi",value:function(){var e=this;this.mainService.get({api:this.API_USERS_COUNT,hide404:!0}).then((function(t){e.userCount=t})),this.mainService.get({api:this.API_USERS_ACTIVE_COUNT}).then((function(t){e.activeUsers=t}))}},{key:"setUsersTable",value:function(e){var t=e.consumers,n=e.empresas,i=e.admin;this.consumers.source=t,this.empresas.source=n,this.admin.source=i}}]),e}()).\u0275fac=function(e){return new(e||zn)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](Ge.B))},zn.\u0275cmp=s["\u0275\u0275defineComponent"]({type:zn,selectors:[["ngx-usuarios"]],decls:31,vars:9,consts:[[1,"row","mb-3"],[1,"col-3"],["description","Usuarios registrados",3,"value"],["description","Usuarios activos",3,"value"],[1,"tabset",3,"nbSpinner"],["tabTitle","Consumidores"],[1,"my-4"],[3,"settings","source","updateViewEvent"],["tabTitle","Empresas"],["tabTitle","Administradores"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"h3"),s["\u0275\u0275text"](1,"Usuarios"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"div",1),s["\u0275\u0275element"](4,"ngx-kpi-card",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",1),s["\u0275\u0275element"](6,"ngx-kpi-card",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"nb-card",4),s["\u0275\u0275elementStart"](8,"nb-card-body"),s["\u0275\u0275elementStart"](9,"nb-tabset"),s["\u0275\u0275elementStart"](10,"nb-tab",5),s["\u0275\u0275elementStart"](11,"p",6),s["\u0275\u0275text"](12,"Lista de "),s["\u0275\u0275elementStart"](13,"strong"),s["\u0275\u0275text"](14,"consumidores"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](15,"."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"ngx-usuarios-table",7),s["\u0275\u0275listener"]("updateViewEvent",(function(){return t.refresh()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"nb-tab",8),s["\u0275\u0275elementStart"](18,"p",6),s["\u0275\u0275text"](19," Lista de "),s["\u0275\u0275elementStart"](20,"strong"),s["\u0275\u0275text"](21,"administradores de empresas"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](22,". "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"ngx-usuarios-table",7),s["\u0275\u0275listener"]("updateViewEvent",(function(){return t.refresh()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](24,"nb-tab",9),s["\u0275\u0275elementStart"](25,"p",6),s["\u0275\u0275text"](26,"Lista de "),s["\u0275\u0275elementStart"](27,"strong"),s["\u0275\u0275text"](28,"administradores"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](29,"."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"ngx-usuarios-table",7),s["\u0275\u0275listener"]("updateViewEvent",(function(){return t.refresh()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("value",t.userCount),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",t.activeUsers),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("settings",t.consumers.settings)("source",t.consumers.source),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("settings",t.empresas.settings)("source",t.empresas.source),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("settings",t.admin.settings)("source",t.admin.source))},directives:[Gt,Ge.o,Ge.cb,Ge.n,Ge.jb,Ge.ib,Un],styles:[""]}),zn),Xn=n("vC38");function Yn(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275elementStart"](1,"nb-select",10),s["\u0275\u0275elementStart"](2,"nb-option",11),s["\u0275\u0275text"](3,"Cargando ..."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}var $n,Wn,qn,Kn,Jn=((Kn=function(){function e(t,n,i,r,a){_classCallCheck2(this,e),this.sidebarService=t,this.menuService=n,this.layoutService=i,this.authService=r,this.generalService=a,this.destroy$=new u.a,this.user={},this.userMenu=[],this.user=this.authService.getUser()}return _createClass2(e,[{key:"ngOnInit",value:function(){this.onInitMenu(),this.onSetUser()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"onInitMenu",value:function(){this.userMenu=[{title:"Perfil",data:{id:"perfil"}},{title:"Cerrar sesi\xf3n",data:{id:"salir"}}]}},{key:"onSetUser",value:function(){var e=this;this.menuService.onItemClick().pipe(Object(k.a)((function(e){return"user-menu"===e.tag})),Object(E.a)((function(e){return e.item.title}))).subscribe((function(t){switch(t){case"Perfil":e.generalService.routerNavigateTo({path:"/index/dashboard/profile/detail"});break;case"Cerrar sesi\xf3n":e.onLogout(),e.generalService.routerNavigateTo({path:"/login"})}}))}},{key:"toggleSidebar",value:function(){return this.sidebarService.toggle(!0,"menu-sidebar"),this.layoutService.changeLayoutSize(),!1}},{key:"navigateHome",value:function(){return this.menuService.navigateHome(),!1}},{key:"onLogout",value:function(){this.authService.logout()}}]),e}()).\u0275fac=function(e){return new(e||Kn)(s["\u0275\u0275directiveInject"](Ge.bb),s["\u0275\u0275directiveInject"](Ge.R),s["\u0275\u0275directiveInject"](Xn.b),s["\u0275\u0275directiveInject"](Qt.a),s["\u0275\u0275directiveInject"](vt.a))},Kn.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Kn,selectors:[["ngx-header"]],decls:14,vars:7,consts:[[1,"header-container"],[1,"logo-container"],["href","#",1,"sidebar-toggle",3,"click"],["icon","menu-2-outline"],["href","/index"],["src","../../../../assets/images/logo-persing.svg","alt","Logo",1,"logo"],["size","small"],[1,"user-action"],["nbContextMenuTag","user-menu","nbContextMenuTrigger","click",3,"nbContextMenu","name"],["loading",""],["placeholder","Cargando ...","disabled","",1,"mw-100"],["valur","Cargando"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"a",2),s["\u0275\u0275listener"]("click",(function(){return t.toggleSidebar()})),s["\u0275\u0275element"](3,"nb-icon",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"a",4),s["\u0275\u0275element"](5,"img",5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",0),s["\u0275\u0275elementStart"](7,"nb-actions",6),s["\u0275\u0275elementStart"](8,"nb-action",7),s["\u0275\u0275element"](9,"nb-user",8),s["\u0275\u0275pipe"](10,"titlecase"),s["\u0275\u0275pipe"](11,"titlecase"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](12,Yn,4,0,"ng-template",null,9,s["\u0275\u0275templateRefExtractor"])),2&e&&(s["\u0275\u0275advance"](9),s["\u0275\u0275propertyInterpolate2"]("name","",s["\u0275\u0275pipeBind1"](10,3,null==t.user?null:t.user.nombre)," ",s["\u0275\u0275pipeBind1"](11,5,null==t.user?null:t.user.apellido),""),s["\u0275\u0275property"]("nbContextMenu",t.userMenu))},directives:[Ge.A,Ge.e,Ge.d,Ge.rb,Ge.t,Ge.X,Ge.S],pipes:[i.w],styles:[".nb-theme-default   [_nghost-%COMP%]{display:flex;justify-content:space-between;width:100%}.nb-theme-default   [_nghost-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:14.75rem}.nb-theme-default   [_nghost-%COMP%]   .mw-300p[_ngcontent-%COMP%]{min-width:180px}.nb-theme-default   [_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]{height:auto;display:flex;align-content:center}.nb-theme-default   [_nghost-%COMP%]   nb-user[_ngcontent-%COMP%]{cursor:pointer}.nb-theme-default   [_nghost-%COMP%]     nb-search button{padding:0!important}.nb-theme-default   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:auto}.nb-theme-default   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{text-decoration:none;color:#8f9bb3}[dir=ltr]   .nb-theme-default   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-right:1.25rem}[dir=rtl]   .nb-theme-default   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-left:1.25rem}.nb-theme-default   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.75rem}.nb-theme-default   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:36px}.nb-theme-default   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .mw-300p[_ngcontent-%COMP%]{min-width:180px}@media (max-width:767.98px){.nb-theme-default   [_nghost-%COMP%]   .control-item[_ngcontent-%COMP%]{display:none}.nb-theme-default   [_nghost-%COMP%]   .user-action[_ngcontent-%COMP%]{border:none;padding:0}}@media (max-width:575.98px){.nb-theme-default   [_nghost-%COMP%]   nb-select[_ngcontent-%COMP%]{display:none}}.nb-theme-dark   [_nghost-%COMP%]{display:flex;justify-content:space-between;width:100%}.nb-theme-dark   [_nghost-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:14.75rem}.nb-theme-dark   [_nghost-%COMP%]   .mw-300p[_ngcontent-%COMP%]{min-width:180px}.nb-theme-dark   [_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]{height:auto;display:flex;align-content:center}.nb-theme-dark   [_nghost-%COMP%]   nb-user[_ngcontent-%COMP%]{cursor:pointer}.nb-theme-dark   [_nghost-%COMP%]     nb-search button{padding:0!important}.nb-theme-dark   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:auto}.nb-theme-dark   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{text-decoration:none;color:#8f9bb3}[dir=ltr]   .nb-theme-dark   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-right:1.25rem}[dir=rtl]   .nb-theme-dark   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-left:1.25rem}.nb-theme-dark   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.75rem}.nb-theme-dark   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:36px}.nb-theme-dark   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .mw-300p[_ngcontent-%COMP%]{min-width:180px}@media (max-width:767.98px){.nb-theme-dark   [_nghost-%COMP%]   .control-item[_ngcontent-%COMP%]{display:none}.nb-theme-dark   [_nghost-%COMP%]   .user-action[_ngcontent-%COMP%]{border:none;padding:0}}@media (max-width:575.98px){.nb-theme-dark   [_nghost-%COMP%]   nb-select[_ngcontent-%COMP%]{display:none}}.nb-theme-cosmic   [_nghost-%COMP%]{display:flex;justify-content:space-between;width:100%}.nb-theme-cosmic   [_nghost-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:14.75rem}.nb-theme-cosmic   [_nghost-%COMP%]   .mw-300p[_ngcontent-%COMP%]{min-width:180px}.nb-theme-cosmic   [_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]{height:auto;display:flex;align-content:center}.nb-theme-cosmic   [_nghost-%COMP%]   nb-user[_ngcontent-%COMP%]{cursor:pointer}.nb-theme-cosmic   [_nghost-%COMP%]     nb-search button{padding:0!important}.nb-theme-cosmic   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:auto}.nb-theme-cosmic   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{text-decoration:none;color:#b4b4db}[dir=ltr]   .nb-theme-cosmic   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-right:1.25rem}[dir=rtl]   .nb-theme-cosmic   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-left:1.25rem}.nb-theme-cosmic   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.75rem}.nb-theme-cosmic   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:36px}.nb-theme-cosmic   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .mw-300p[_ngcontent-%COMP%]{min-width:180px}@media (max-width:767.98px){.nb-theme-cosmic   [_nghost-%COMP%]   .control-item[_ngcontent-%COMP%]{display:none}.nb-theme-cosmic   [_nghost-%COMP%]   .user-action[_ngcontent-%COMP%]{border:none;padding:0}}@media (max-width:575.98px){.nb-theme-cosmic   [_nghost-%COMP%]   nb-select[_ngcontent-%COMP%]{display:none}}.nb-theme-corporate   [_nghost-%COMP%]{display:flex;justify-content:space-between;width:100%}.nb-theme-corporate   [_nghost-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:14.75rem}.nb-theme-corporate   [_nghost-%COMP%]   .mw-300p[_ngcontent-%COMP%]{min-width:180px}.nb-theme-corporate   [_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]{height:auto;display:flex;align-content:center}.nb-theme-corporate   [_nghost-%COMP%]   nb-user[_ngcontent-%COMP%]{cursor:pointer}.nb-theme-corporate   [_nghost-%COMP%]     nb-search button{padding:0!important}.nb-theme-corporate   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:auto}.nb-theme-corporate   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{text-decoration:none;color:#8f9bb3}[dir=ltr]   .nb-theme-corporate   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-right:1.25rem}[dir=rtl]   .nb-theme-corporate   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-left:1.25rem}.nb-theme-corporate   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.75rem}.nb-theme-corporate   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:36px}.nb-theme-corporate   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .mw-300p[_ngcontent-%COMP%]{min-width:180px}@media (max-width:767.98px){.nb-theme-corporate   [_nghost-%COMP%]   .control-item[_ngcontent-%COMP%]{display:none}.nb-theme-corporate   [_nghost-%COMP%]   .user-action[_ngcontent-%COMP%]{border:none;padding:0}}@media (max-width:575.98px){.nb-theme-corporate   [_nghost-%COMP%]   nb-select[_ngcontent-%COMP%]{display:none}}"]}),Kn),Qn=((qn=function e(){_classCallCheck2(this,e)}).\u0275fac=function(e){return new(e||qn)},qn.\u0275cmp=s["\u0275\u0275defineComponent"]({type:qn,selectors:[["ngx-footer"]],decls:6,vars:0,consts:[[1,"authors"],["href","https://www.imagineapps.co/es/home","target","_blank"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275text"](1," \xa0\n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](2,"div",0),s["\u0275\u0275elementStart"](3,"b"),s["\u0275\u0275elementStart"](4,"a",1),s["\u0275\u0275text"](5,"Imagine Apps"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())},styles:[".nb-theme-default   [_nghost-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.nb-theme-default   [_nghost-%COMP%]   .authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.4rem;color:#8f9bb3;transition:color .1s ease-out;text-decoration:none}.nb-theme-default   [_nghost-%COMP%]   .authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#200081}@media (max-width:575.98px){.nb-theme-default   [_nghost-%COMP%]   .socials[_ngcontent-%COMP%]{font-size:1.5rem}}.nb-theme-dark   [_nghost-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.nb-theme-dark   [_nghost-%COMP%]   .authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.4rem;color:#8f9bb3;transition:color .1s ease-out;text-decoration:none}.nb-theme-dark   [_nghost-%COMP%]   .authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#36f}@media (max-width:575.98px){.nb-theme-dark   [_nghost-%COMP%]   .socials[_ngcontent-%COMP%]{font-size:1.5rem}}.nb-theme-cosmic   [_nghost-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.nb-theme-cosmic   [_nghost-%COMP%]   .authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.4rem;color:#b4b4db;transition:color .1s ease-out;text-decoration:none}.nb-theme-cosmic   [_nghost-%COMP%]   .authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#a16eff}@media (max-width:575.98px){.nb-theme-cosmic   [_nghost-%COMP%]   .socials[_ngcontent-%COMP%]{font-size:1.5rem}}.nb-theme-corporate   [_nghost-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.nb-theme-corporate   [_nghost-%COMP%]   .authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.4rem;color:#8f9bb3;transition:color .1s ease-out;text-decoration:none}.nb-theme-corporate   [_nghost-%COMP%]   .authors[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#36f}@media (max-width:575.98px){.nb-theme-corporate   [_nghost-%COMP%]   .socials[_ngcontent-%COMP%]{font-size:1.5rem}}"]}),qn),Zn=((Wn=function(){function e(t){_classCallCheck2(this,e),this.authService=t,this.isSuperAdmin=!1,this.menu=[{title:"CARGANDO",group:!0}]}return _createClass2(e,[{key:"ngOnInit",value:function(){this.isSuperAdmin="superadministrador"===JSON.parse(localStorage.getItem("_user")).tipo,this.setUpMenu()}},{key:"setUpMenu",value:function(){this.menu=[{title:"Inicio",icon:"home-outline",link:"/index",home:!0},{title:"Usuarios",icon:"people-outline",link:"/index/usuarios",hidden:!this.isSuperAdmin},{title:"Empresas",icon:"briefcase-outline",link:"/index/empresas",hidden:!this.isSuperAdmin},{title:"Pagos",icon:"credit-card-outline",link:"/index/pagos"},{title:"Publicaciones",icon:"briefcase-outline",link:"/index/publicaciones",hidden:this.isSuperAdmin},{title:"Notificaciones",icon:"bell-outline",link:"/index/notificaciones",hidden:this.isSuperAdmin},{title:"MVP",icon:"cube-outline",hidden:!this.isSuperAdmin,children:[{title:"Publicaciones",icon:"image-outline",link:"/index/mvp/publicaciones",hidden:!this.isSuperAdmin},{title:"Sectores",icon:"hash-outline",link:"/index/mvp/sector",hidden:!this.isSuperAdmin},{title:"Productos",icon:"gift-outline",link:"/index/mvp/productos",hidden:!this.isSuperAdmin},{title:"Destacados",icon:"star-outline",children:[{title:"Post",link:"/index/mvp/destacados",icon:"image-outline",hidden:!this.isSuperAdmin},{title:"Secciones",link:"/index/mvp/destacados/seccion",icon:"menu-2-outline",hidden:!this.isSuperAdmin}]}]}]}}]),e}()).\u0275fac=function(e){return new(e||Wn)(s["\u0275\u0275directiveInject"](Qt.a))},Wn.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Wn,selectors:[["ngx-index"]],decls:9,vars:1,consts:[["windowMode",""],["fixed",""],["tag","menu-sidebar","responsive","",1,"menu-sidebar"],[3,"items"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-layout",0),s["\u0275\u0275elementStart"](1,"nb-layout-header",1),s["\u0275\u0275element"](2,"ngx-header"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"nb-sidebar",2),s["\u0275\u0275element"](4,"nb-menu",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"nb-layout-column"),s["\u0275\u0275element"](6,"router-outlet"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"nb-layout-footer",1),s["\u0275\u0275element"](8,"ngx-footer"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("items",t.menu))},directives:[Ge.G,Ge.K,Jn,Ge.Z,Ge.P,Ge.F,gt.h,Ge.J,Qn],styles:[".nb-theme-default   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@-webkit-keyframes fade{0%{opacity:0}to{opacity:1}}.nb-theme-corporate   [_nghost-%COMP%]     router-outlet+*, .nb-theme-cosmic   [_nghost-%COMP%]     router-outlet+*, .nb-theme-dark   [_nghost-%COMP%]     router-outlet+*{display:block;-webkit-animation:fade 1s;animation:fade 1s}@keyframes fade{0%{opacity:0}to{opacity:1}}"]}),Wn),ei=(($n=function(){function e(t,n){_classCallCheck2(this,e),this.mainService=t,this.generalService=n,this.productos=[],this.settings={}}return _createClass2(e,[{key:"ngOnInit",value:function(){this.getproductos(),this.setSettings()}},{key:"getproductos",value:function(){var e=this;this.mainService.get({api:"api/producto"}).then((function(t){e.productos=t,e.setAttributes(),e.source=new He.a(e.productos)}))}},{key:"onCustomAction",value:function(e){var t=e.event;"ver"===t.action&&this.generalService.routerNavigateTo({path:"index/mvp/productos/".concat(t.data._id)})}},{key:"onRegister",value:function(){this.generalService.routerNavigateTo({path:"index/mvp/productos/crear"})}},{key:"setAttributes",value:function(){this.productos.forEach((function(e){e.nombreSector=e.sector?e.sector.nombre:"N/A"}))}},{key:"setSettings",value:function(){this.settings={noDataMessage:"Ning\xfan registro encontrado",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"ver",title:'<i class="fa fa-search" title="Ver publicaci\xf3n"></i>'}]},columns:{titulo:{title:"T\xedtulo"},compras:{title:"Compras realizadas"},nombreSector:{title:"Sector"},precio:{title:"Precio",valuePrepareFunction:function(e){return Intl.NumberFormat("en-US",{style:"currency",maximumFractionDigits:20,currency:"USD"}).format(e)}},precioDescuento:{title:"Precio descuento",valuePrepareFunction:function(e,t){return e&&t.descuento?Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e):"N/A"}},foto:{title:"Foto",type:"html",valuePrepareFunction:function(e){return'<img class="product-thumbnail" src=\''.concat(e,"'/>")}}},mode:"external"}}}]),e}()).\u0275fac=function(e){return new(e||$n)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](vt.a))},$n.\u0275cmp=s["\u0275\u0275defineComponent"]({type:$n,selectors:[["ngx-productos"]],decls:11,vars:2,consts:[[1,"row"],[1,"col-sm-12"],[1,"d-flex","justify-content-between","align-items-center"],["nbButton","","status","primary","size","medium",1,"float-right","pull-right",3,"click"],["icon","plus-outline"],[3,"source","settings","custom"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"nb-card"),s["\u0275\u0275elementStart"](3,"nb-card-header",2),s["\u0275\u0275elementStart"](4,"h5"),s["\u0275\u0275text"](5,"Productos"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"button",3),s["\u0275\u0275listener"]("click",(function(){return t.onRegister()})),s["\u0275\u0275element"](7,"nb-icon",4),s["\u0275\u0275text"](8,"Agregar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"nb-card-body"),s["\u0275\u0275elementStart"](10,"ng2-smart-table",5),s["\u0275\u0275listener"]("custom",(function(e){return t.onCustomAction({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("source",t.source)("settings",t.settings))},directives:[Ge.o,Ge.q,Ge.j,Ge.A,Ge.n,He.b],styles:["[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:12px;height:12px;margin:42px 15px 26px 32px;vertical-align:middle;text-align:center;font-size:1em;float:left}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom .fa, [_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom .far{font-size:22px}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#200081}"]}),$n);function ti(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",21),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("value",n._id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.nombre," ")}}function ni(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"label",22),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",n.selectedFile.file.name,"")}}function ii(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",4),s["\u0275\u0275elementStart"](1,"label"),s["\u0275\u0275text"](2,"Precio en descuento del producto"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"input",23),s["\u0275\u0275listener"]("ngModelChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().producto.precioDescuento=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngModel",i.producto.precioDescuento)}}function ri(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",24),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onSubmit()})),s["\u0275\u0275text"](1,"Crear"),s["\u0275\u0275elementEnd"]()}}function ai(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",24),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onSubmit()})),s["\u0275\u0275text"](1,"Guardar"),s["\u0275\u0275elementEnd"]()}}var oi,si=((oi=function(){function e(t,n,i,r){_classCallCheck2(this,e),this.mainService=t,this.generalService=n,this.s3=i,this.activatedRoute=r,this.API_SECTOR="api/sector",this.API_EMPRESA="api/empresa",this.API_PRODUCTO="api/producto",this.sectores=[],this.producto={descuento:!1},this.loading=!1,this.edit=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this.activatedRoute.snapshot.paramMap.get("id");e&&(this.edit=!0,this.fetchProduct({id:e})),this.getSectores()}},{key:"getSectores",value:function(){var e=this;this.loading=!0,this.mainService.get({api:this.API_SECTOR}).then((function(t){e.sectores=t})).finally((function(){e.loading=!1}))}},{key:"fetchProduct",value:function(e){var t=this,n=e.id;this.loading=!0,this.mainService.get({api:"".concat(this.API_PRODUCTO,"/").concat(n)}).then((function(e){t.producto=e,t.producto.sector=t.producto.sector._id})).finally((function(){t.loading=!1}))}},{key:"goBack",value:function(){this.generalService.goBack()}},{key:"openFileSelector",value:function(){document.getElementById("media").click()}},{key:"onSubmit",value:function(){var e=this;this.loading=!0,this.selectedFile&&this.selectedFile.file?this.uploadFile({file:this.selectedFile.file,callback:function(t,n){t?(alert("No fue posible subir el archivo, por favor intente m\xe1s tarde"),e.loading=!1):e.createProducto({media:n.Location})}}):this.createProducto({media:this.producto.foto})}},{key:"onChangeMedia",value:function(e){var t=e.event;t.target.files.length>0&&(this.selectedFile={file:t.target.files[0],type:t.target.files[0].type.split("/")[0]})}},{key:"createProducto",value:function(e){var t=this,n=e.media;n&&this.producto.descripcion&&this.producto.titulo&&this.producto.sector&&this.producto.precio?(this.producto.foto=n,this.edit?this.mainService.put({api:"".concat(this.API_PRODUCTO,"/").concat(this.producto._id),data:this.producto}).then((function(e){e&&e._id?(t.generalService.handleSuccess({text:"Producto editado"}),t.goBack()):t.generalService.handleError({error:"Hubo un error al editar el producto",titulo:"Error"})})).finally((function(){t.loading=!1})):this.mainService.post({api:this.API_PRODUCTO,data:this.producto}).then((function(e){e&&e._id?(t.generalService.handleSuccess({text:"Producto creado"}),t.goBack()):t.generalService.handleError({error:"Hubo un error al crear el producto",titulo:"Error"})})).finally((function(){t.loading=!1}))):(this.loading=!1,this.generalService.handleError({error:"Por favor llena todos los campos",titulo:"Error"}))}},{key:"toggleDescuento",value:function(){this.producto.descuento=!this.producto.descuento}},{key:"uploadFile",value:function(e){var t=e.file,n=e.callback;return Object(Sn.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="producto/".concat(this.producto.sector,"/").concat(this.s3.generateKey(),".").concat(t.name.split(".")[1]),e.next=3,this.s3.uploadFile({file:t,key:i,callback:n});case 3:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||oi)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](Cn.a),s["\u0275\u0275directiveInject"](gt.a))},oi.\u0275cmp=s["\u0275\u0275defineComponent"]({type:oi,selectors:[["ngx-productos-crear"]],decls:43,vars:13,consts:[[3,"nbSpinner"],[1,"header-row"],[1,"fa","fa-arrow-left","pointer",3,"click"],[1,"row"],[1,"col-sm-5","info"],["nbInput","","fullWidth","","placeholder","Nombre del producto",3,"ngModel","ngModelChange"],["fullwidth","","name","sector","placeholder","Selecciona...","fieldsize","large","required","",1,"input-full-width","size-large","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["sector","ngModel"],[3,"value",4,"ngFor","ngForOf"],["nbButton","",3,"click"],["hidden","","type","file","id","media","accept","image/*",3,"change"],["class","label",4,"ngIf"],["nbInput","","type","number","fullWidth","","placeholder","Valor neto del producto",3,"ngModel","ngModelChange"],[1,"header-row","clickable",3,"click"],[3,"ngClass"],[1,"no-margin"],["class","col-sm-5 info",4,"ngIf"],[1,"col-sm-10","info"],["nbInput","","fullWidth","","placeholder","A\xf1ade informaci\xf3n detallada de tu producto",3,"ngModel","ngModelChange"],[1,"col"],["nbButton","","status","primary",3,"click",4,"ngIf"],[3,"value"],[1,"label"],["nbInput","","fullWidth","","placeholder","Valor del producto con descuento aplicado",3,"ngModel","ngModelChange"],["nbButton","","status","primary",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"span"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"nb-card-body"),s["\u0275\u0275elementStart"](7,"div",3),s["\u0275\u0275elementStart"](8,"div",4),s["\u0275\u0275elementStart"](9,"label"),s["\u0275\u0275text"](10,"Nombre del producto"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"input",5),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.producto.titulo=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",4),s["\u0275\u0275elementStart"](13,"label"),s["\u0275\u0275text"](14,"Sector del producto"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"nb-select",6,7),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.producto.sector=e})),s["\u0275\u0275template"](17,ti,2,2,"nb-option",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"div",4),s["\u0275\u0275elementStart"](19,"label"),s["\u0275\u0275text"](20,"Foto"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"button",9),s["\u0275\u0275listener"]("click",(function(){return t.openFileSelector()})),s["\u0275\u0275text"](22,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"input",10),s["\u0275\u0275listener"]("change",(function(e){return t.onChangeMedia({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](24,ni,2,1,"label",11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"div",4),s["\u0275\u0275elementStart"](26,"label"),s["\u0275\u0275text"](27,"Precio del producto"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"input",12),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.producto.precio=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](29,"div",4),s["\u0275\u0275elementStart"](30,"div",13),s["\u0275\u0275listener"]("click",(function(){return t.toggleDescuento()})),s["\u0275\u0275element"](31,"i",14),s["\u0275\u0275elementStart"](32,"label",15),s["\u0275\u0275text"](33),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](34,ii,4,1,"div",16),s["\u0275\u0275elementStart"](35,"div",17),s["\u0275\u0275elementStart"](36,"label"),s["\u0275\u0275text"](37,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](38,"textarea",18),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.producto.descripcion=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](39,"div",3),s["\u0275\u0275elementStart"](40,"div",19),s["\u0275\u0275template"](41,ri,2,0,"button",20),s["\u0275\u0275template"](42,ai,2,0,"button",20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](t.edit?"Editar producto":"Crear producto"),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.producto.titulo),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.producto.sector),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",t.sectores),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngIf",t.selectedFile),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.producto.precio),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngClass",!0===t.producto.descuento?"fas fa-star highlighted":"far fa-star"),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" ",null!=t.producto&&t.producto.descuento?"Quitar descuento":"Con descuento"," "),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.producto.descuento),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.producto.descripcion),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("ngIf",!t.edit),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.edit))},directives:[Ge.o,Ge.cb,Ge.q,Ge.n,Ge.D,o.b,o.n,o.q,Ge.X,o.v,i.n,Ge.j,i.o,o.s,i.m,Ge.S],styles:[".header-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.header-row[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:1.1rem}i[_ngcontent-%COMP%]{margin-right:10px}.short-btn[_ngcontent-%COMP%]{height:50px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.img-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:20px}.clickable[_ngcontent-%COMP%]:hover   *[_ngcontent-%COMP%]{color:#200081;cursor:pointer}.no-margin[_ngcontent-%COMP%]{margin-bottom:0}.first-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900}a[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),oi);function li(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"span",17),s["\u0275\u0275text"](1),s["\u0275\u0275pipe"](2,"currency"),s["\u0275\u0275element"](3,"nb-icon",18),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind1"](2,1,null==n.producto?null:n.producto.precioDescuento)," ")}}function ci(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",19),s["\u0275\u0275elementStart"](1,"h6"),s["\u0275\u0275text"](2,"Lista de compradores"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](3,"ng2-smart-table",20),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("settings",n.settingsComprasProducto)("source",n.compras)}}function ui(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",21),s["\u0275\u0275text"](1,"* Este producto a\xfan no tiene ventas registradas."),s["\u0275\u0275elementEnd"]())}function di(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",1),s["\u0275\u0275elementStart"](1,"nb-card-header",2),s["\u0275\u0275elementStart"](2,"div",3),s["\u0275\u0275elementStart"](3,"i",4),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"h5"),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"button",5),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onEdit()})),s["\u0275\u0275element"](7,"nb-icon",6),s["\u0275\u0275text"](8," Editar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"nb-card-body"),s["\u0275\u0275elementStart"](10,"div",7),s["\u0275\u0275elementStart"](11,"div",8),s["\u0275\u0275elementStart"](12,"div",9),s["\u0275\u0275element"](13,"img",10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"div",11),s["\u0275\u0275elementStart"](15,"p",12),s["\u0275\u0275text"](16,"T\xedtulo"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"label"),s["\u0275\u0275text"](18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"p",12),s["\u0275\u0275text"](20,"Precio"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"label"),s["\u0275\u0275elementStart"](22,"span",13),s["\u0275\u0275text"](23),s["\u0275\u0275pipe"](24,"currency"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](25,li,4,3,"span",14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"p",12),s["\u0275\u0275text"](27,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"label"),s["\u0275\u0275text"](29),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"p",12),s["\u0275\u0275text"](31,"Sector"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](32,"label"),s["\u0275\u0275text"](33),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](34,ci,4,2,"div",15),s["\u0275\u0275template"](35,ui,2,0,"ng-template",null,16,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275reference"](36),r=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("nbSpinner",r.loading),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](r.producto.titulo),s["\u0275\u0275advance"](8),s["\u0275\u0275propertyInterpolate"]("src",r.producto.foto,s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](null==r.producto?null:r.producto.titulo),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngClass",!0===r.producto.descuento?"tachado":""),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",s["\u0275\u0275pipeBind4"](24,11,null==r.producto?null:r.producto.precio,"USD","symbol","1.0-20")," "),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",r.producto.descuento),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](null==r.producto?null:r.producto.descripcion),s["\u0275\u0275advance"](4),s["\u0275\u0275textInterpolate"](null==r.producto?null:null==r.producto.sector?null:r.producto.sector.nombre),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",r.compras&&r.compras.length>0)("ngIfElse",i)}}var hi,pi=((hi=function(){function e(t,n,i){_classCallCheck2(this,e),this.activatedRoute=t,this.mainService=n,this.generalService=i,this.API_PRODUCT="api/producto",this.API_COMPRAS_PRODUCTO="api/compra-producto/producto",this.user={},this.loading=!1,this.producto={},this.settingsComprasProducto={actions:!1,noDataMessage:"Cargando lista de clientes...",columns:{email:{title:"Email de comprador"},calificacionApp:{title:"Ranking",filter:!1},quantity:{title:"Cantidad",filter:!1},total:{title:"Total",filter:!1,valuePrepareFunction:function(e){return Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}}}}}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this.activatedRoute.snapshot.paramMap.get("id");this.user=JSON.parse(localStorage.getItem("_user")),this.fetchProduct({id:e}),this.getComprasProducto({id:e})}},{key:"fetchProduct",value:function(e){var t=this,n=e.id;this.loading=!0,this.mainService.get({api:"".concat(this.API_PRODUCT,"/").concat(n)}).then((function(e){t.producto=e})).finally((function(){t.loading=!1}))}},{key:"getComprasProducto",value:function(e){var t=this,n=e.id;this.mainService.get({api:"".concat(this.API_COMPRAS_PRODUCTO,"/").concat(n)}).then((function(e){var n=[];e.forEach((function(e){var t=n.findIndex((function(t){return t._id===e.usuario._id}));t>=0?(n[t].quantity++,n[t].total=n[t].quantity*n[t].total):n.push(Object.assign(Object.assign({},e.usuario),{quantity:1,total:e.producto.precio}))})),t.compras=n}))}},{key:"onEdit",value:function(){this.generalService.routerNavigateTo({path:"index/mvp/productos/editar/".concat(this.producto._id)})}},{key:"goBack",value:function(){this.generalService.goBack()}}]),e}()).\u0275fac=function(e){return new(e||hi)(s["\u0275\u0275directiveInject"](gt.a),s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](vt.a))},hi.\u0275cmp=s["\u0275\u0275defineComponent"]({type:hi,selectors:[["ngx-productos-ver"]],decls:1,vars:1,consts:[[3,"nbSpinner",4,"ngIf"],[3,"nbSpinner"],[1,"d-flex","justify-content-between"],[1,"d-flex","flex-row","justify-content-start","align-items-center","align-content","center"],[1,"fa","fa-arrow-left","pointer","mr-2",3,"click"],["nbButton","","status","primary","size","medium",3,"click"],["icon","edit-outline"],[1,"row","separate","pb-3"],[1,"col","m-3","fixed"],[1,"holo","d-flex","justify-content-center","align-content-center"],["alt","Foto",1,"not-big","p-1",3,"src"],[1,"col","m-3"],[1,"titulo"],[3,"ngClass"],["class","red ml-3",4,"ngIf"],["class","row m-3 flex-column",4,"ngIf","ngIfElse"],["sinVentasBlock",""],[1,"red","ml-3"],["icon","pricetags-outline"],[1,"row","m-3","flex-column"],[1,"mt-2",3,"settings","source"],[1,"mt-4","gray"]],template:function(e,t){1&e&&s["\u0275\u0275template"](0,di,37,16,"nb-card",0),2&e&&s["\u0275\u0275property"]("ngIf",t.producto)},directives:[i.o,Ge.o,Ge.cb,Ge.q,Ge.j,Ge.A,Ge.n,i.m,He.b],pipes:[i.d],styles:[".titulo[_ngcontent-%COMP%]{font-weight:700;margin-bottom:4px;color:#200081}.agrupacion[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.not-big[_ngcontent-%COMP%]{max-width:300px;max-height:300px;-o-object-fit:cover;object-fit:cover}.tachado[_ngcontent-%COMP%]{text-decoration:line-through}.red[_ngcontent-%COMP%]{color:red}.gray[_ngcontent-%COMP%]{color:grey}.holo[_ngcontent-%COMP%]{border-radius:21px;background:#fff;box-shadow:12px 12px 36px #f7f7f7,-12px -12px 36px #fff;width:300px;height:300px}.fixed[_ngcontent-%COMP%]{max-width:300px}.separate[_ngcontent-%COMP%]{border-bottom:.5px solid #edf1f7}.separate[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:1rem}"]}),hi);function fi(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",7),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"button",8),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275element"](3,"nb-icon",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"p"),s["\u0275\u0275text"](5," \xbfEst\xe1s seguro de eliminar la publicaci\xf3n: "),s["\u0275\u0275elementStart"](6,"span",10),s["\u0275\u0275text"](7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](8,"? "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"nb-card-footer",11),s["\u0275\u0275elementStart"](10,"button",12),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.dialogRef,i=t.$implicit;return s["\u0275\u0275nextContext"]().deletePost(e,i.id)})),s["\u0275\u0275text"](11,"Eliminar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;s["\u0275\u0275advance"](7),s["\u0275\u0275textInterpolate"](i.titulo)}}var mi,gi=((mi=function(){function e(t,n,i){_classCallCheck2(this,e),this.mainService=t,this.generalService=n,this.dialogService=i,this.API_DESTACADOS="api/destacado",this.destacados=[],this.settings={}}return _createClass2(e,[{key:"ngOnInit",value:function(){this.getDestacados(),this.setSettings()}},{key:"getDestacados",value:function(){var e=this;this.mainService.get({api:"api/destacado"}).then((function(t){e.destacados=t,e.setAttributes(),e.source=new He.a(e.destacados)}))}},{key:"deletePost",value:function(e,t){var n=this;this.mainService.delete({api:"".concat(this.API_DESTACADOS,"/").concat(t)}).then((function(){e.close(),n.getDestacados()}))}},{key:"onCustomAction",value:function(e){var t=e.event,n=e.dialog;switch(t.action){case"ver":this.generalService.routerNavigateTo({path:"/index/mvp/destacados/ver/".concat(t.data._id)});break;case"eliminar":this.dialogService.open(n,{context:{titulo:t.data.titulo,id:t.data._id}})}}},{key:"onRegister",value:function(){this.generalService.routerNavigateTo({path:"index/mvp/destacados/crear"})}},{key:"setAttributes",value:function(){this.destacados.forEach((function(e){e.nombreSeccion=e.seccion?e.seccion.nombre:"N/A"}))}},{key:"setSettings",value:function(){this.settings={noDataMessage:"Ning\xfan registro encontrado",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"ver",title:'<i class="fa fa-eye" title="Ver post destacado"></i>'},{name:"eliminar",title:'<i class="fa fa-trash" title="Eliminar post destacado"></i>'}]},columns:{titulo:{title:"T\xedtulo"},nombreSeccion:{title:"Secci\xf3n"},texto:{title:"Texto"},likes:{title:"Likes",valuePrepareFunction:function(e){return e.length}}},mode:"external"}}}]),e}()).\u0275fac=function(e){return new(e||mi)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](Ge.x))},mi.\u0275cmp=s["\u0275\u0275defineComponent"]({type:mi,selectors:[["ngx-destacadas"]],decls:13,vars:2,consts:[[1,"row"],[1,"col-sm-12"],[1,"d-flex","flex-row","justify-content-between","align-content-center"],["nbButton","","status","primary","size","medium",1,"float-right","pull-right",3,"click"],["icon","plus-outline"],[3,"source","settings","custom"],["dialogDeletePost",""],[1,"dialog"],["nbButton","","ghost","","status","primary",1,"close",3,"click"],["icon","close-outline"],[1,"titulo"],[1,"footer","d-flex","justify-content-center"],["nbButton","","status","danger",3,"click"]],template:function(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"nb-card"),s["\u0275\u0275elementStart"](3,"nb-card-header",2),s["\u0275\u0275elementStart"](4,"h5"),s["\u0275\u0275text"](5,"Destacados"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"button",3),s["\u0275\u0275listener"]("click",(function(){return t.onRegister()})),s["\u0275\u0275element"](7,"nb-icon",4),s["\u0275\u0275text"](8,"Agregar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"nb-card-body"),s["\u0275\u0275elementStart"](10,"ng2-smart-table",5),s["\u0275\u0275listener"]("custom",(function(e){s["\u0275\u0275restoreView"](n);var i=s["\u0275\u0275reference"](12);return t.onCustomAction({event:e,dialog:i})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](11,fi,12,1,"ng-template",null,6,s["\u0275\u0275templateRefExtractor"])}2&e&&(s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("source",t.source)("settings",t.settings))},directives:[Ge.o,Ge.q,Ge.j,Ge.A,Ge.n,He.b,Ge.p],styles:["h3[_ngcontent-%COMP%]{margin:0;padding:0}i[_ngcontent-%COMP%]{font-size:25px}.logo[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{margin-right:10px}.logo[_ngcontent-%COMP%]{max-height:70px;border-radius:8px;width:auto}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:18px;height:18px;margin:24px 8px 10px 12px;float:left;font-size:1rem}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i{padding-top:10px;font-size:18px;color:#08003d}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i:hover{color:#200081}.dialog[_ngcontent-%COMP%]{max-width:420px}.dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5rem 1rem 2rem;text-align:center}.dialog[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{color:#200081;font-weight:700}"]}),mi);function vi(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",15),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("value",n._id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.nombre," ")}}function bi(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"label",16),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",n.selectedFile.file.name,"")}}var yi,xi=((yi=function(){function e(t,n,i){_classCallCheck2(this,e),this.mainService=t,this.generalService=n,this.s3=i,this.API_SECCION="api/seccion",this.API_DESTACADO="api/destacado",this.secciones=[],this.destacado={},this.loading=!1,this.empresas=[],this.isSuperAdmin=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){this.isSuperAdmin="superadministrador"===JSON.parse(localStorage.getItem("_user")).tipo,this.getSecciones()}},{key:"getSecciones",value:function(){var e=this;this.loading=!0,this.mainService.get({api:this.API_SECCION}).then((function(t){e.secciones=t})).finally((function(){e.loading=!1}))}},{key:"goBack",value:function(){this.generalService.goBack()}},{key:"openFileSelector",value:function(){document.getElementById("media").click()}},{key:"onSubmit",value:function(){var e=this;if(!this.selectedFile)return this.generalService.handleError({error:"Selecciona el contenido multimedia",titulo:"Error"}),!1;this.loading=!0,this.uploadFile({file:this.selectedFile.file,callback:function(t,n){t?(alert("No fue posible subir el archivo, por favor intente m\xe1s tarde"),e.loading=!1):e.createDestacado({media:n.Location})}})}},{key:"onChangeMedia",value:function(e){var t=e.event;t.target.files.length>0&&(this.selectedFile={file:t.target.files[0],type:t.target.files[0].type.split("/")[0]})}},{key:"createDestacado",value:function(e){var t=this,n=e.media;n&&this.destacado.texto&&this.destacado.titulo&&this.destacado.seccion?("image"===this.selectedFile.type?this.destacado.foto=n:this.destacado.video=n,this.mainService.post({api:this.API_DESTACADO,data:this.destacado}).then((function(e){e&&e._id?(t.generalService.handleSuccess({text:"Post destacado creado"}),t.goBack()):t.generalService.handleError({error:"Hubo un error al crear el post",titulo:"Error"})})).finally((function(){t.loading=!1}))):(this.loading=!1,this.generalService.handleError({error:"Por favor llena todos los campos",titulo:"Error"}))}},{key:"uploadFile",value:function(e){var t=e.file,n=e.callback;return Object(Sn.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="destacado/".concat(this.s3.generateKey(),".").concat(t.name.split(".")[1]),e.next=3,this.s3.uploadFile({file:t,key:i,callback:n});case 3:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||yi)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](Cn.a))},yi.\u0275cmp=s["\u0275\u0275defineComponent"]({type:yi,selectors:[["ngx-destacado-crear"]],decls:33,vars:6,consts:[[3,"nbSpinner"],[1,"header-row"],[1,"fa","fa-arrow-left","pointer",3,"click"],[1,"row"],[1,"col-sm-5","info"],["nbInput","","fullWidth","",3,"ngModel","ngModelChange"],["fullwidth","","name","seccion","placeholder","Selecciona...","fieldsize","large","required","",1,"input-full-width","size-large","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["seccion","ngModel"],[3,"value",4,"ngFor","ngForOf"],["nbButton","",3,"click"],["hidden","","type","file","id","media",3,"change"],["class","label",4,"ngIf"],[1,"col-sm-10","info"],[1,"col"],["nbButton","","status","primary",3,"click"],[3,"value"],[1,"label"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"h5"),s["\u0275\u0275text"](5,"Crear destacado"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"nb-card-body"),s["\u0275\u0275elementStart"](7,"div",3),s["\u0275\u0275elementStart"](8,"div",4),s["\u0275\u0275elementStart"](9,"label"),s["\u0275\u0275text"](10,"T\xedtulo del destacado"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"input",5),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.destacado.titulo=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",4),s["\u0275\u0275elementStart"](13,"label"),s["\u0275\u0275text"](14,"Seccion del destacado"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"nb-select",6,7),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.destacado.seccion=e})),s["\u0275\u0275template"](17,vi,2,2,"nb-option",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"div",4),s["\u0275\u0275elementStart"](19,"label"),s["\u0275\u0275text"](20,"Contenido multimedia"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"button",9),s["\u0275\u0275listener"]("click",(function(){return t.openFileSelector()})),s["\u0275\u0275text"](22,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"input",10),s["\u0275\u0275listener"]("change",(function(e){return t.onChangeMedia({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](24,bi,2,1,"label",11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"div",12),s["\u0275\u0275elementStart"](26,"label"),s["\u0275\u0275text"](27,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"textarea",5),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.destacado.texto=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](29,"div",3),s["\u0275\u0275elementStart"](30,"div",13),s["\u0275\u0275elementStart"](31,"button",14),s["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),s["\u0275\u0275text"](32,"Crear"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("ngModel",t.destacado.titulo),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.destacado.seccion),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",t.secciones),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngIf",t.selectedFile),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.destacado.texto))},directives:[Ge.o,Ge.cb,Ge.q,Ge.n,Ge.D,o.b,o.n,o.q,Ge.X,o.v,i.n,Ge.j,i.o,Ge.S],styles:[".header-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.header-row[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:1.1rem}i[_ngcontent-%COMP%]{margin-right:10px}.short-btn[_ngcontent-%COMP%]{height:50px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.img-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:20px}.first-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900}a[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),yi);function Si(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",8),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"button",9),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275element"](3,"nb-icon",10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"p",11),s["\u0275\u0275text"](5," \xbfEst\xe1s seguro de eliminar la secci\xf3n "),s["\u0275\u0275elementStart"](6,"span",12),s["\u0275\u0275text"](7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](8,"? "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"p"),s["\u0275\u0275text"](10,"Todas las publicaciones destacadas relacionadas tambi\xe9n ser\xe1n eliminadas."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"nb-card-footer",13),s["\u0275\u0275elementStart"](12,"button",14),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.dialogRef,i=t.$implicit;return s["\u0275\u0275nextContext"]().deleteSection(e,i.id)})),s["\u0275\u0275text"](13,"Eliminar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;s["\u0275\u0275advance"](7),s["\u0275\u0275textInterpolate"](i.nombre)}}var Ci,ki=((Ci=function(){function e(t,n,i){_classCallCheck2(this,e),this.mainService=t,this.generalService=n,this.dialogService=i,this.API_SECCION="api/seccion",this.secciones=[],this.settings={}}return _createClass2(e,[{key:"ngOnInit",value:function(){this.getSecciones(),this.setSettings()}},{key:"getSecciones",value:function(){var e=this;this.mainService.get({api:this.API_SECCION}).then((function(t){t.pop(),e.secciones=t,e.setAttributes(),e.source=new He.a(e.secciones)}))}},{key:"onCustomAction",value:function(e){var t=e.event,n=e.deleteDialog;switch(t.action){case"editar":this.generalService.routerNavigateTo({path:"/index/mvp/destacados/seccion/editar/".concat(t.data._id)});break;case"eliminar":this.dialogService.open(n,{context:{nombre:t.data.nombre,id:t.data._id}})}}},{key:"deleteSection",value:function(e,t){var n=this;this.mainService.delete({api:"".concat(this.API_SECCION,"/").concat(t)}).then((function(t){e.close(),n.getSecciones()}))}},{key:"onRegister",value:function(){this.generalService.routerNavigateTo({path:"index/mvp/destacados/seccion/crear"})}},{key:"setAttributes",value:function(){this.secciones.forEach((function(e){e.nombreSeccion=e.seccion?e.seccion.nombre:"N/A"}))}},{key:"setSettings",value:function(){this.settings={noDataMessage:"Ning\xfan registro encontrado",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"editar",title:'<i class="fa fa-edit" title="Editar secci\xf3n destacada"></i>'},{name:"eliminar",title:'<i class="fa fa-trash" title="Eliminar secci\xf3n destacada"></i>'}]},columns:{nombre:{title:"T\xedtulo"},descripcion:{title:"Descripci\xf3n"},icono:{title:"\xcdcono",type:"html",valuePrepareFunction:function(e){return"<img class='table-thumbnail-img' src='".concat(e,"'/>")}}},mode:"external"}}}]),e}()).\u0275fac=function(e){return new(e||Ci)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](Ge.x))},Ci.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Ci,selectors:[["ngx-secciones"]],decls:13,vars:2,consts:[[1,"row"],[1,"col-sm-12"],[1,"d-flex","flex-row","justify-content-between","align-content","center"],["nbButton","","status","primary","size","medium",1,"float-right","pull-right",3,"click"],["icon","plus-outline"],[1,"py-4"],[3,"source","settings","custom"],["dialogDeleteSection",""],[1,"dialog"],["nbButton","","ghost","","status","primary",1,"close",3,"click"],["icon","close-outline"],[1,"message"],[1,"titulo"],[1,"footer","d-flex","justify-content-center"],["nbButton","","status","danger",3,"click"]],template:function(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"nb-card"),s["\u0275\u0275elementStart"](3,"nb-card-header",2),s["\u0275\u0275elementStart"](4,"h5"),s["\u0275\u0275text"](5,"Secciones"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"button",3),s["\u0275\u0275listener"]("click",(function(){return t.onRegister()})),s["\u0275\u0275element"](7,"nb-icon",4),s["\u0275\u0275text"](8,"Agregar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"nb-card-body",5),s["\u0275\u0275elementStart"](10,"ng2-smart-table",6),s["\u0275\u0275listener"]("custom",(function(e){s["\u0275\u0275restoreView"](n);var i=s["\u0275\u0275reference"](12);return t.onCustomAction({event:e,deleteDialog:i})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](11,Si,14,1,"ng-template",null,7,s["\u0275\u0275templateRefExtractor"])}2&e&&(s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("source",t.source)("settings",t.settings))},directives:[Ge.o,Ge.q,Ge.j,Ge.A,Ge.n,He.b,Ge.p],styles:["[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:18px;height:18px;margin:24px 8px 10px 12px;float:left;font-size:1rem}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i{padding-top:10px;font-size:18px;color:#08003d}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i:hover{color:#200081}.dialog[_ngcontent-%COMP%]{max-width:420px}.dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.dialog[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:4rem}.dialog[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{color:#200081;font-weight:700}"]}),Ci);function Ei(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"label",12),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",n.selectedFile.file.name,"")}}var _i,wi=((_i=function(){function e(t,n,i){_classCallCheck2(this,e),this.mainService=t,this.generalService=n,this.s3=i,this.API_SECCION="api/seccion",this.seccion={},this.loading=!1,this.isSuperAdmin=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){this.isSuperAdmin="superadministrador"===JSON.parse(localStorage.getItem("_user")).tipo}},{key:"goBack",value:function(){this.generalService.goBack()}},{key:"openFileSelector",value:function(){document.getElementById("media").click()}},{key:"onSubmit",value:function(){var e=this;if(!this.selectedFile)return this.generalService.handleError({error:"Selecciona un \xedcono",titulo:"Error"}),!1;this.loading=!0,this.uploadFile({file:this.selectedFile.file,callback:function(t,n){t?(alert("No fue posible subir el archivo, por favor intente m\xe1s tarde"),e.loading=!1):e.createSeccion({media:n.Location})}})}},{key:"onChangeMedia",value:function(e){var t=e.event;t.target.files.length>0&&(this.selectedFile={file:t.target.files[0],type:t.target.files[0].type.split("/")[0]})}},{key:"createSeccion",value:function(e){var t=this,n=e.media;n&&this.seccion.descripcion&&this.seccion.nombre?("image"===this.selectedFile.type?this.seccion.icono=n:this.seccion.video=n,this.mainService.post({api:this.API_SECCION,data:this.seccion}).then((function(e){e&&e._id?(t.generalService.handleSuccess({text:"Secci\xf3n creada"}),t.goBack()):t.generalService.handleError({error:"Hubo un error al crear la secci\xf3n",titulo:"Error"})})).finally((function(){t.loading=!1}))):(this.loading=!1,this.generalService.handleError({error:"Por favor llena todos los campos",titulo:"Error"}))}},{key:"uploadFile",value:function(e){var t=e.file,n=e.callback;return Object(Sn.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="seccion/".concat(this.s3.generateKey(),".").concat(t.name.split(".")[1]),e.next=3,this.s3.uploadFile({file:t,key:i,callback:n});case 3:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||_i)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](Cn.a))},_i.\u0275cmp=s["\u0275\u0275defineComponent"]({type:_i,selectors:[["ngx-seccion-crear"]],decls:27,vars:4,consts:[[3,"nbSpinner"],[1,"header-row"],[1,"fa","fa-arrow-left","pointer",3,"click"],[1,"row"],[1,"col-sm-5","info"],["nbInput","","fullWidth","",3,"ngModel","ngModelChange"],["nbButton","",3,"click"],["hidden","","type","file","id","media",3,"change"],["class","label",4,"ngIf"],[1,"col-sm-10","info"],[1,"col"],["nbButton","","status","primary",3,"click"],[1,"label"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"span"),s["\u0275\u0275text"](5,"Crear secci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"nb-card-body"),s["\u0275\u0275elementStart"](7,"div",3),s["\u0275\u0275elementStart"](8,"div",4),s["\u0275\u0275elementStart"](9,"label"),s["\u0275\u0275text"](10,"Nombre"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"input",5),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.seccion.nombre=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",4),s["\u0275\u0275elementStart"](13,"label"),s["\u0275\u0275text"](14,"\xcdcono"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"button",6),s["\u0275\u0275listener"]("click",(function(){return t.openFileSelector()})),s["\u0275\u0275text"](16,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"input",7),s["\u0275\u0275listener"]("change",(function(e){return t.onChangeMedia({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](18,Ei,2,1,"label",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",9),s["\u0275\u0275elementStart"](20,"label"),s["\u0275\u0275text"](21,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"textarea",5),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.seccion.descripcion=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"div",3),s["\u0275\u0275elementStart"](24,"div",10),s["\u0275\u0275elementStart"](25,"button",11),s["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),s["\u0275\u0275text"](26,"Crear"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("ngModel",t.seccion.nombre),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngIf",t.selectedFile),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngModel",t.seccion.descripcion))},directives:[Ge.o,Ge.cb,Ge.q,Ge.n,Ge.D,o.b,o.n,o.q,Ge.j,i.o],styles:[".header-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.header-row[_ngcontent-%COMP%], i[_ngcontent-%COMP%]{font-size:1.1rem}i[_ngcontent-%COMP%]{margin-right:10px}.short-btn[_ngcontent-%COMP%]{height:50px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.img-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:20px}.first-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}a[_ngcontent-%COMP%]{text-decoration:none;font-weight:900}a[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),_i);function Pi(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",5),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"button",6),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275element"](3,"nb-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275elementStart"](5,"p"),s["\u0275\u0275text"](6," \xbfEst\xe1s seguro de eliminar el sector "),s["\u0275\u0275elementStart"](7,"span",9),s["\u0275\u0275text"](8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](9,"? "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"p"),s["\u0275\u0275text"](11," Las publicaciones asociadas a este sector dejar\xe1n de estar disponibles para los usuarios. "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"nb-card-footer",10),s["\u0275\u0275elementStart"](13,"button",11),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.dialogRef,i=t.$implicit;return s["\u0275\u0275nextContext"]().onDeleteSector(e,i.id)})),s["\u0275\u0275text"](14," Eliminar sector "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit;s["\u0275\u0275advance"](8),s["\u0275\u0275textInterpolate"](i.text)}}var Oi,Mi=((Oi=function(){function e(t,n,i){_classCallCheck2(this,e),this.mainService=t,this.generalService=n,this.dialogService=i,this.API_SECTOR="api/sector",this.API_SECTOR_USERS="api/sector/users",this.sectores=[],this.settings={}}return _createClass2(e,[{key:"ngOnInit",value:function(){this.getSectores(),this.setSettings()}},{key:"onDeleteSector",value:function(e,t){var n=this;this.mainService.delete({api:"".concat(this.API_SECTOR,"/").concat(t)}).then((function(t){n.getSectores(),n.closeDialog(e)}))}},{key:"closeDialog",value:function(e){e.close()}},{key:"getSectores",value:function(){var e=this;this.mainService.get({api:this.API_SECTOR_USERS}).then((function(t){e.sectores=t,e.setAttributes(),e.source=new He.a(e.sectores)}))}},{key:"onCustomAction",value:function(e,t){var n=e.event;switch(n.action){case"editar-sector":this.generalService.routerNavigateTo({path:"index/mvp/sector/editar/".concat(n.data._id)});break;case"eliminar-sector":this.dialogRef=this.dialogService.open(t,{context:{text:n.data.nombre,id:n.data._id}})}}},{key:"onRegister",value:function(){this.generalService.routerNavigateTo({path:"index/mvp/sector/crear"})}},{key:"setAttributes",value:function(){this.sectores=this.sectores.map((function(e){return{total:e.users.length,nombre:e.nombre,icono:e.icono,descripcion:e.descripcion,_id:e._id}}))}},{key:"setSettings",value:function(){this.settings={noDataMessage:"Ning\xfan registro encontrado",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"editar-sector",title:'<i title="Editar sector" class="fas fa-pen"></i>'},{name:"eliminar-sector",title:'<i title="Eliminar sector" class="fas fa-trash"></i>'}]},columns:{nombre:{title:"Nombre"},descripcion:{title:"Descripci\xf3n",valuePrepareFunction:function(e){return e[0]}},total:{title:"Total usuarios",filter:!1},icono:{title:"\xcdcono",filter:!1,type:"html",valuePrepareFunction:function(e){return"<img class='table-thumbnail-img' src='".concat(e,"'/>")}}},mode:"external"}}}]),e}()).\u0275fac=function(e){return new(e||Oi)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](Ge.x))},Oi.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Oi,selectors:[["ngx-sectores"]],decls:11,vars:2,consts:[[1,"d-flex","justify-content-between","align-items-center"],["nbButton","","status","primary","size","medium",1,"float-right","pull-right",3,"click"],["icon","plus-outline"],[3,"source","settings","custom"],["deleteSectorDialog",""],[1,"dialog"],["nbButton","","ghost","","status","primary",1,"close",3,"click"],["icon","close-outline"],[1,"text-container","mx-auto"],[1,"username"],[1,"footer"],["nbButton","","status","danger",3,"click"]],template:function(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header",0),s["\u0275\u0275elementStart"](2,"h5"),s["\u0275\u0275text"](3,"Sectores"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"button",1),s["\u0275\u0275listener"]("click",(function(){return t.onRegister()})),s["\u0275\u0275element"](5,"nb-icon",2),s["\u0275\u0275text"](6,"Agregar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"nb-card-body"),s["\u0275\u0275elementStart"](8,"ng2-smart-table",3),s["\u0275\u0275listener"]("custom",(function(e){s["\u0275\u0275restoreView"](n);var i=s["\u0275\u0275reference"](10);return t.onCustomAction({event:e},i)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](9,Pi,15,1,"ng-template",null,4,s["\u0275\u0275templateRefExtractor"])}2&e&&(s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("source",t.source)("settings",t.settings))},directives:[Ge.o,Ge.q,Ge.j,Ge.A,Ge.n,He.b,Ge.p],styles:["[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:18px;height:18px;margin:8px 8px 4px 12px;float:left;font-size:1rem}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i{padding-top:32px;font-size:18px;color:#08003d}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i:hover{color:#200081}.dialog[_ngcontent-%COMP%]{max-width:420px}.dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin:.2rem;right:0;position:absolute}.dialog[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]{margin-top:3.2rem;text-align:center;max-width:80%}.dialog[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{text-align:center}.username[_ngcontent-%COMP%]{color:#200081;font-weight:bolder;text-transform:capitalize}"]}),Oi);function Ai(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"label",14),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",n.selectedFile.file.name,"")}}var Ii,Ti=((Ii=function(){function e(t,n,i){_classCallCheck2(this,e),this.mainService=t,this.generalService=n,this.s3=i,this.API_SECTOR="api/sector",this.sector={},this.loading=!1,this.isSuperAdmin=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){this.isSuperAdmin="superadministrador"===JSON.parse(localStorage.getItem("_user")).tipo}},{key:"goBack",value:function(){this.generalService.goBack()}},{key:"openFileSelector",value:function(){document.getElementById("media").click()}},{key:"onSubmit",value:function(){var e=this;this.loading=!0,this.selectedFile?this.uploadFile({file:this.selectedFile.file,callback:function(t,n){t?(alert("No fue posible subir el archivo, por favor intente m\xe1s tarde"),e.loading=!1):e.createSector({media:n.Location})}}):this.createSector({media:""})}},{key:"onChangeMedia",value:function(e){var t=e.event;t.target.files.length>0&&(this.selectedFile={file:t.target.files[0],type:t.target.files[0].type.split("/")[0]})}},{key:"createSector",value:function(e){var t=this,n=e.media;this.sector.descripcion&&this.sector.nombre?(this.selectedFile&&("image"===this.selectedFile.type?this.sector.icono=n:this.sector.video=n),this.mainService.post({api:this.API_SECTOR,data:this.sector}).then((function(e){e&&e._id?(t.generalService.handleSuccess({text:"Sector creado exitosamente."}),t.goBack()):t.generalService.handleError({error:"Hubo un error al crear el sector",titulo:"Error"})})).finally((function(){t.loading=!1}))):(this.loading=!1,this.generalService.handleError({error:"Por favor llena todos los campos",titulo:"Error"}))}},{key:"uploadFile",value:function(e){var t=e.file,n=e.callback;return Object(Sn.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="sector/".concat(this.s3.generateKey(),".").concat(t.name.split(".")[1]),e.next=3,this.s3.uploadFile({file:t,key:i,callback:n});case 3:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Ii)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](Cn.a))},Ii.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Ii,selectors:[["ngx-sector-crear"]],decls:28,vars:4,consts:[[3,"nbSpinner"],[1,"header-row"],[1,"fa","fa-arrow-left","pointer",3,"click"],[1,"row","pb-4"],[1,"col-sm-6","info"],["nbInput","","fullWidth","",3,"ngModel","ngModelChange"],[1,"full-width"],["nbButton","",3,"click"],["hidden","","type","file","id","media",3,"change"],["class","label",4,"ngIf"],[1,"col-sm-12","info"],[1,"row"],[1,"col","d-flex","justify-content-center","my-4"],["nbButton","","status","primary",3,"click"],[1,"label"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"span"),s["\u0275\u0275text"](5," Crear sector"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"nb-card-body"),s["\u0275\u0275elementStart"](7,"div",3),s["\u0275\u0275elementStart"](8,"div",4),s["\u0275\u0275elementStart"](9,"label"),s["\u0275\u0275text"](10,"Nombre"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"input",5),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.sector.nombre=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",4),s["\u0275\u0275elementStart"](13,"label",6),s["\u0275\u0275text"](14,"\xcdcono"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"button",7),s["\u0275\u0275listener"]("click",(function(){return t.openFileSelector()})),s["\u0275\u0275text"](16,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"input",8),s["\u0275\u0275listener"]("change",(function(e){return t.onChangeMedia({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](18,Ai,2,1,"label",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",3),s["\u0275\u0275elementStart"](20,"div",10),s["\u0275\u0275elementStart"](21,"label"),s["\u0275\u0275text"](22,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"textarea",5),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.sector.descripcion=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](24,"div",11),s["\u0275\u0275elementStart"](25,"div",12),s["\u0275\u0275elementStart"](26,"button",13),s["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),s["\u0275\u0275text"](27,"Crear"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("ngModel",t.sector.nombre),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngIf",t.selectedFile),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.sector.descripcion))},directives:[Ge.o,Ge.cb,Ge.q,Ge.n,Ge.D,o.b,o.n,o.q,Ge.j,i.o],styles:["button[_ngcontent-%COMP%]{min-width:200px}.full-width[_ngcontent-%COMP%]{width:100%}.label[_ngcontent-%COMP%]{padding-left:20px}"]}),Ii);function ji(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"h1",22),s["\u0275\u0275text"](1,"Registro"),s["\u0275\u0275elementEnd"]())}function Li(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"h1",22),s["\u0275\u0275text"](1,"Editar"),s["\u0275\u0275elementEnd"]())}function Di(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",23),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("value",n._id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.nombre," ")}}function Fi(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",6),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",n.selectedFile.name,"")}}function Ri(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",24),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onSubmit()})),s["\u0275\u0275text"](1,"Registrar"),s["\u0275\u0275elementEnd"]()}}function Bi(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",25),s["\u0275\u0275elementStart"](1,"button",26),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onSubmit()})),s["\u0275\u0275text"](2,"Guardar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"button",27),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().goBack()})),s["\u0275\u0275text"](4,"Regresar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}var Ni,Vi=((Ni=function(){function e(t,n,i,r,a){_classCallCheck2(this,e),this.authService=t,this.mainService=n,this.generalService=i,this.s3=r,this.activatedRoute=a,this.empresa={},this.sectores=[],this.loading=!1,this.API_SECTOR="api/sector",this.API_EMPRESA="api/empresa",this.edit=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this.activatedRoute.snapshot.paramMap.get("id");e&&(this.edit=!0,this.fetchEmpresa({id:e})),this.getSectores()}},{key:"getSectores",value:function(){var e=this;this.mainService.get({api:this.API_SECTOR}).then((function(t){e.sectores=t}))}},{key:"fetchEmpresa",value:function(e){var t=this,n=e.id;this.loading=!0,this.mainService.get({api:"".concat(this.API_EMPRESA,"/").concat(n)}).then((function(e){t.empresa=e,t.empresa.sectores=t.empresa.sectores.map((function(e){return e._id}))})).finally((function(){t.loading=!1}))}},{key:"onSubmit",value:function(){var e=this;this.selectedFile?this.uploadFile({file:this.selectedFile,callback:function(t,n){t?alert("No fue posible subir el archivo, por favor intente m\xe1s tarde"):e.register({logo:n.Location})}}):this.register({logo:this.empresa.logo})}},{key:"register",value:function(e){var t=this,n=e.logo;this.empresa.nombre&&this.empresa.sectores&&this.empresa.descripcion?this.edit?(this.empresa.logo=n||"",this.mainService.put({api:"".concat(this.API_EMPRESA,"/").concat(this.empresa._id),data:this.empresa}).then((function(e){t.generalService.handleSuccess({text:"Empresa editada"})}))):(this.empresa.logo=n||"",this.mainService.post({api:this.API_EMPRESA,data:this.empresa}).then((function(e){t.generalService.handleSuccess({text:"Empresa creada"})}))):this.generalService.handleError({error:"Por favor llena todos los campos",titulo:"Error"})}},{key:"openFileSelector",value:function(){document.getElementById("logo-selector").click()}},{key:"onChangeMedia",value:function(e){var t=e.event;t.target.files.length>0&&(this.selectedFile=t.target.files[0])}},{key:"uploadFile",value:function(e){var t=e.file,n=e.callback;return Object(Sn.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="empresa/".concat(this.empresa.nombre.replace(" ","-")||"no-name","/logo-").concat(this.s3.generateKey()),e.next=3,this.s3.uploadFile({file:t,key:i,callback:n});case 3:case"end":return e.stop()}}),e,this)})))}},{key:"goBack",value:function(){this.generalService.goBack()}}]),e}()).\u0275fac=function(e){return new(e||Ni)(s["\u0275\u0275directiveInject"](Qt.a),s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](Cn.a),s["\u0275\u0275directiveInject"](gt.a))},Ni.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Ni,selectors:[["ngx-empresas-create"]],decls:43,vars:9,consts:[["windowMode",""],["id","sub-container",1,"p-2"],[1,"text-center"],["class","title","id","title",4,"ngIf"],[1,"row"],[1,"col","form-control-group","form-input"],[1,"label"],["nbinput","","fullwidth","","name","nombreEmpresa","type","text","placeholder","Nombre","fieldsize","large","required","",1,"select","input-full-width","size-large","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["nombreEmpresa","ngModel"],[1,"col","form-control-group","form-input","select-container"],["multiple","","fullwidth","","name","sector","placeholder","Selecciona...","fieldsize","large","required","",1,"input-full-width","size-large","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["sector","ngModel"],[3,"value",4,"ngFor","ngForOf"],["nbInput","","fullWidth","","name","descripcion","type","text","placeholder","Escribe...","fieldsize","large","required","",1,"textarea","input-full-width","size-xlarge","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["descripcion","ngModel"],[1,"col"],["nbButton","",3,"click"],["hidden","","id","logo-selector","name","logo","accept","image/x-png,image/jpeg","type","file",3,"change"],["class","label",4,"ngIf"],[1,"col-12"],["status","primary","fullWidth","","nbButton","",3,"click",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],["id","title",1,"title"],[3,"value"],["status","primary","fullWidth","","nbButton","",3,"click"],[1,"d-flex","justify-content-center"],["status","success","nbButton","",1,"m-3",3,"click"],["status","primary","nbButton","",1,"m-3",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-layout",0),s["\u0275\u0275elementStart"](1,"nb-layout-column"),s["\u0275\u0275elementStart"](2,"nb-card"),s["\u0275\u0275elementStart"](3,"nb-card-body"),s["\u0275\u0275elementStart"](4,"div",1),s["\u0275\u0275elementStart"](5,"div",2),s["\u0275\u0275template"](6,ji,2,0,"h1",3),s["\u0275\u0275template"](7,Li,2,0,"h1",3),s["\u0275\u0275elementStart"](8,"label"),s["\u0275\u0275text"](9,"Ingresa los datos de la empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"div",4),s["\u0275\u0275elementStart"](11,"div",5),s["\u0275\u0275elementStart"](12,"label",6),s["\u0275\u0275text"](13,"Nombre de la empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"input",7,8),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.empresa.nombre=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",9),s["\u0275\u0275elementStart"](17,"label",6),s["\u0275\u0275text"](18,"Sectores de la empresa"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"nb-select",10,11),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.empresa.sectores=e})),s["\u0275\u0275template"](21,Di,2,2,"nb-option",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"div",4),s["\u0275\u0275elementStart"](23,"div",5),s["\u0275\u0275elementStart"](24,"label",6),s["\u0275\u0275text"](25,"Descripcion"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"textarea",13,14),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.empresa.descripcion=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](28,"br"),s["\u0275\u0275elementStart"](29,"div",4),s["\u0275\u0275elementStart"](30,"div",15),s["\u0275\u0275elementStart"](31,"label",6),s["\u0275\u0275text"](32,"Subir logo"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](33,"br"),s["\u0275\u0275elementStart"](34,"button",16),s["\u0275\u0275listener"]("click",(function(){return t.openFileSelector()})),s["\u0275\u0275text"](35,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](36,"input",17),s["\u0275\u0275listener"]("change",(function(e){return t.onChangeMedia({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](37,Fi,2,1,"p",18),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](38,"br"),s["\u0275\u0275elementStart"](39,"div",4),s["\u0275\u0275elementStart"](40,"div",19),s["\u0275\u0275template"](41,Ri,2,0,"button",20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](42,Bi,5,0,"div",21),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",!t.edit),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.edit),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngModel",t.empresa.nombre),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.empresa.sectores),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",t.sectores),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.empresa.descripcion),s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("ngIf",t.selectedFile),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",!t.edit),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.edit))},directives:[Ge.G,Ge.F,Ge.o,Ge.n,i.o,o.b,o.v,o.n,o.q,Ge.X,i.n,Ge.D,Ge.j,Ge.S],styles:[".main-container[_ngcontent-%COMP%]{min-height:90vh}#back-btn[_ngcontent-%COMP%]{cursor:pointer;font-size:34px}.form-input[_ngcontent-%COMP%]{margin-top:1rem}.select-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:40vh}.textarea[_ngcontent-%COMP%]{height:15vh}.select[_ngcontent-%COMP%]{height:42px!important;width:100%}.button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:1rem}.dialog[_ngcontent-%COMP%]{max-width:420px}.dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin:.4rem;right:0;position:absolute}.dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;padding:4rem 1rem 1rem}.dialog[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{text-align:center}.dialog[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#200081;font-weight:bolder;text-transform:capitalize}"]}),Ni);function zi(e,t){if(1&e&&s["\u0275\u0275element"](0,"img",18),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275property"]("src",n.sector.icono,s["\u0275\u0275sanitizeUrl"])}}function Gi(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"label",19),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",n.selectedFile.file.name,"")}}function Ui(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"form",4),s["\u0275\u0275listener"]("ngSubmit",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onSubmit()})),s["\u0275\u0275elementStart"](1,"div",5),s["\u0275\u0275elementStart"](2,"div",6),s["\u0275\u0275elementStart"](3,"label",7),s["\u0275\u0275text"](4,"Nombre"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](5,"input",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",6),s["\u0275\u0275elementStart"](7,"label",9),s["\u0275\u0275text"](8,"\xcdcono"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](9,zi,1,1,"ng-template",null,10,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementStart"](11,"button",11),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().openFileSelector()})),s["\u0275\u0275text"](12,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"input",12),s["\u0275\u0275listener"]("change",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onChangeMedia({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](14,Gi,2,1,"label",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"div",5),s["\u0275\u0275elementStart"](16,"div",14),s["\u0275\u0275elementStart"](17,"label"),s["\u0275\u0275text"](18,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](19,"textarea",15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"div",5),s["\u0275\u0275elementStart"](21,"div",16),s["\u0275\u0275elementStart"](22,"button",17),s["\u0275\u0275text"](23," Guardar cambios "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275reference"](10),r=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("formGroup",r.sectorForm),s["\u0275\u0275advance"](14),s["\u0275\u0275property"]("ngIf",r.selectedFile)("ngIfElse",i),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("disabled",r.sectorForm.invalid)}}var Hi,Xi=((Hi=function(){function e(t,n,i,r,a){_classCallCheck2(this,e),this.fb=t,this.s3=n,this.generalService=i,this.mainService=r,this.activatedRoute=a,this.API_SECTOR="api/sector",this.loading=!0,this.iconChanged=!1,this.sectorId="",this.sectorForm=this.fb.group({nombre:["",o.x.required],icono:[null],descripcion:["",o.x.required]})}return _createClass2(e,[{key:"ngOnInit",value:function(){this.sectorId=this.activatedRoute.snapshot.paramMap.get("id"),this.populateFormSectorById(this.sectorId)}},{key:"populateFormSectorById",value:function(e){var t=this;this.mainService.get({api:"".concat(this.API_SECTOR,"/").concat(e)}).then((function(e){t.sector=e,t.sectorForm.patchValue({nombre:e.nombre,descripcion:e.descripcion[0]}),t.loading=!1}))}},{key:"onChangeMedia",value:function(e){var t=e.event;t.target.files.length>0&&(this.selectedFile={file:t.target.files[0],type:t.target.files[0].type.split("/")[0]},this.iconChanged=!0)}},{key:"openFileSelector",value:function(){document.getElementById("media").click()}},{key:"onSubmit",value:function(){var e=this;this.loading=!0;var t=this.sectorForm.value;if(this.iconChanged){var n="sector/".concat(this.s3.generateKey(),".").concat(this.selectedFile.file.name.split(".")[1]);this.s3.uploadFile({file:this.selectedFile.file,key:n,callback:function(n,i){n?(alert("No fue posible subir el archivo, por favor intenta  m\xe1s tarde"),e.loading=!1):(t.icono=i.Location,e.updateSector(t))}})}else delete t.icono,this.updateSector(t)}},{key:"updateSector",value:function(e){var t=this;this.mainService.put({api:"".concat(this.API_SECTOR,"/").concat(this.sectorId),data:e,hide404:!0}).then((function(){t.generalService.handleSuccess({text:"Sector editado exitosamente."}),t.goBack()}))}},{key:"goBack",value:function(){this.generalService.goBack()}}]),e}()).\u0275fac=function(e){return new(e||Hi)(s["\u0275\u0275directiveInject"](o.c),s["\u0275\u0275directiveInject"](Cn.a),s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](gt.a))},Hi.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Hi,selectors:[["ngx-editar-sector"]],decls:8,vars:2,consts:[[3,"nbSpinner"],[1,"d-flex","flex-row","justify-content-start","align-items-center","align-content","center"],[1,"fa","fa-arrow-left","pointer",3,"click"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-6","info"],["for","sector-nombre",1,"full-width"],["type","text","nbInput","","id","sector-nombre","value","","formControlName","nombre","required",""],["for","media",1,"full-width"],["currentIconBlock",""],["nbButton","","type","button",3,"click"],["hidden","","type","file","accept","image/*","id","media",3,"change"],["class","label",4,"ngIf","ngIfElse"],[1,"col-sm-12","info"],["nbInput","","fullWidth","","value","","formControlName","descripcion"],[1,"col","d-flex","justify-content-center","my-4"],["nbButton","","status","primary","type","submit",3,"disabled"],["alt","icono",1,"icono","p-2",3,"src"],[1,"label"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"h5"),s["\u0275\u0275text"](5,"Editar sector"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"nb-card-body"),s["\u0275\u0275template"](7,Ui,24,4,"form",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngIf",t.sector))},directives:[Ge.o,Ge.cb,Ge.q,Ge.n,i.o,o.z,o.o,o.g,Ge.D,o.b,o.n,o.f,o.v,Ge.j],styles:["button[_ngcontent-%COMP%]{min-width:200px}.full-width[_ngcontent-%COMP%]{width:100%}.label[_ngcontent-%COMP%]{padding-left:20px}.icono[_ngcontent-%COMP%]{width:50px}#sector-nombre[_ngcontent-%COMP%]{width:100%}i[_ngcontent-%COMP%]{font-size:1.1rem;margin-right:10px}"]}),Hi);function Yi(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"span",20),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",n.selectedFile.file.name,"")}}function $i(e,t){if(1&e&&s["\u0275\u0275element"](0,"img",21),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275property"]("src",n.section.icono,s["\u0275\u0275sanitizeUrl"])}}function Wi(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"form",4),s["\u0275\u0275listener"]("ngSubmit",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onSubmit()})),s["\u0275\u0275elementStart"](1,"div",5),s["\u0275\u0275elementStart"](2,"div",6),s["\u0275\u0275elementStart"](3,"label",7),s["\u0275\u0275text"](4,"Nombre: "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](5,"input",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"div",6),s["\u0275\u0275elementStart"](7,"label",9),s["\u0275\u0275text"](8,"Icono:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",10),s["\u0275\u0275elementStart"](10,"button",11),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().openFileSelector()})),s["\u0275\u0275text"](11,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"input",12),s["\u0275\u0275listener"]("change",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onChangeMedia({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](13,Yi,2,1,"span",13),s["\u0275\u0275template"](14,$i,1,1,"ng-template",null,14,s["\u0275\u0275templateRefExtractor"]),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",5),s["\u0275\u0275elementStart"](17,"div",6),s["\u0275\u0275elementStart"](18,"label",15),s["\u0275\u0275text"](19,"Descripci\xf3n:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](20,"textarea",16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",17),s["\u0275\u0275elementStart"](22,"div",18),s["\u0275\u0275elementStart"](23,"button",19),s["\u0275\u0275text"](24,"Guardar cambios"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275reference"](15),r=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("formGroup",r.editSectionForm),s["\u0275\u0275advance"](13),s["\u0275\u0275property"]("ngIf",r.selectedFile)("ngIfElse",i),s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("disabled",r.editSectionForm.invalid)}}var qi,Ki=((qi=function(){function e(t,n,i,r,a,s){_classCallCheck2(this,e),this.fb=t,this.cd=n,this.s3=i,this.generalService=r,this.mainService=a,this.activatedRoute=s,this.API_SECCIONES_DESTACADAS="api/seccion",this.iconChanged=!1,this.loading=!1,this.editSectionForm=this.fb.group({icono:[null],nombre:["",o.x.required],descripcion:["",o.x.required]})}return _createClass2(e,[{key:"ngOnInit",value:function(){this.sectionId=this.activatedRoute.snapshot.paramMap.get("id"),this.populateSectionFormById(this.sectionId)}},{key:"populateSectionFormById",value:function(e){var t=this;this.mainService.get({api:"".concat(this.API_SECCIONES_DESTACADAS,"/").concat(e)}).then((function(e){t.section=e,t.editSectionForm.patchValue({nombre:e.nombre,descripcion:e.descripcion})}))}},{key:"onChangeMedia",value:function(e){var t=e.event;t.target.files.length>0&&(this.selectedFile={file:t.target.files[0],type:t.target.files[0].type.split("/")[0]},this.iconChanged=!0)}},{key:"openFileSelector",value:function(){document.getElementById("media").click()}},{key:"onSubmit",value:function(){var e=this;this.loading=!0;var t=this.editSectionForm.value;if(this.iconChanged){var n="sector/".concat(this.s3.generateKey(),".").concat(this.selectedFile.file.name.split(".")[1]);this.s3.uploadFile({file:this.selectedFile.file,key:n,callback:function(n,i){n?(alert("No fue posible subir el archivo, por favor intenta  m\xe1s tarde"),e.loading=!1):(t.icono=i.Location,e.updateSection(t))}})}else delete t.icono,this.updateSection(t)}},{key:"updateSection",value:function(e){var t=this;this.mainService.put({api:"".concat(this.API_SECCIONES_DESTACADAS,"/").concat(this.sectionId),data:e,hide404:!0}).then((function(){t.generalService.handleSuccess({text:"Secci\xf3n editada exitosamente."}),t.goBack()}))}},{key:"goBack",value:function(){this.generalService.goBack()}}]),e}()).\u0275fac=function(e){return new(e||qi)(s["\u0275\u0275directiveInject"](o.c),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef),s["\u0275\u0275directiveInject"](Cn.a),s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](gt.a))},qi.\u0275cmp=s["\u0275\u0275defineComponent"]({type:qi,selectors:[["ngx-seccion-editar"]],decls:8,vars:2,consts:[[3,"nbSpinner"],[1,"d-flex","flex-row","justify-content-start","align-items-center","align-content","center"],[1,"fa","fa-arrow-left","pointer",3,"click"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row","my-3"],[1,"col"],["for","nombre",1,"fullwidth"],["type","text","fullWidth","","nbInput","","id","seccion-nombre","value","","formControlName","nombre","required",""],["for","media",1,"media-label"],[1,"container"],["nbButton","","type","button",1,"my-1",3,"click"],["hidden","","type","file","accept","image/*","id","media",3,"change"],["class","label",4,"ngIf","ngIfElse"],["currentIconBlock",""],["for","descripcion",1,"fullwidth"],["nbInput","","fullWidth","","value","","id","descripcion","formControlName","descripcion"],[1,"row"],[1,"col","d-flex","justify-content-center","my-3"],["nbButton","","status","primary","type","submit",3,"disabled"],[1,"label"],["alt","icono",1,"icono","p-2",3,"src"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"h5"),s["\u0275\u0275text"](5,"Editar secci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"nb-card-body"),s["\u0275\u0275template"](7,Wi,25,4,"form",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngIf",t.section))},directives:[Ge.o,Ge.cb,Ge.q,Ge.n,i.o,o.z,o.o,o.g,Ge.D,o.b,o.n,o.f,o.v,Ge.j],styles:["i[_ngcontent-%COMP%]{font-size:1.1rem;margin-right:10px}.icono[_ngcontent-%COMP%]{height:50px}.media-label[_ngcontent-%COMP%]{width:100;display:inline-block;margin:0}.container[_ngcontent-%COMP%]{width:100%;margin-top:0}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:0;margin-left:-16px}"]}),qi);function Ji(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",21),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("value",n._id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.nombre," ")}}function Qi(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"span"),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",n.selectedFile.file.name,"")}}function Zi(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card-body"),s["\u0275\u0275elementStart"](1,"form",4),s["\u0275\u0275listener"]("ngSubmit",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onSubmit()})),s["\u0275\u0275elementStart"](2,"div",5),s["\u0275\u0275elementStart"](3,"div",6),s["\u0275\u0275elementStart"](4,"label",7),s["\u0275\u0275text"](5,"T\xedtulo del destacado:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](6,"input",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"div",6),s["\u0275\u0275elementStart"](8,"label",9),s["\u0275\u0275text"](9,"Secci\xf3n de la publicaci\xf3n:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"nb-select",10),s["\u0275\u0275listener"]("selectedChange",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().post.seccion._id=e})),s["\u0275\u0275template"](11,Ji,2,2,"nb-option",11),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",12),s["\u0275\u0275elementStart"](13,"div",6),s["\u0275\u0275elementStart"](14,"label",13),s["\u0275\u0275text"](15,"Media de la publicaci\xf3n:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"button",14),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().openFileSelector()})),s["\u0275\u0275text"](17,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"input",15),s["\u0275\u0275listener"]("change",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onChangeMedia({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](19,Qi,2,1,"span",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"div",12),s["\u0275\u0275elementStart"](21,"div",6),s["\u0275\u0275elementStart"](22,"label",16),s["\u0275\u0275text"](23,"Descripci\xf3n:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](24,"textarea",17),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"div",18),s["\u0275\u0275elementStart"](26,"div",19),s["\u0275\u0275elementStart"](27,"button",20),s["\u0275\u0275text"](28,"Guardar cambios"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("formGroup",i.editPostForm),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("selected",i.post.seccion._id),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",i.highlightedSections),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("ngIf",i.selectedFile),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("disabled",i.editPostForm.invalid)}}var er,tr=((er=function(){function e(t,n,i,r,a,s){_classCallCheck2(this,e),this.fb=t,this.cd=n,this.s3=i,this.generalService=r,this.mainService=a,this.activatedRoute=s,this.API_DESTACADO="api/destacado",this.API_SECCIONES="api/seccion",this.loading=!0,this.mediaChanged=!1,this.editPostForm=this.fb.group({titulo:["",o.x.required],seccion:["",o.x.required],texto:["",o.x.required],video:[null],foto:[null]})}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this.activatedRoute.snapshot.paramMap.get("id");this.postId=e,this.getHighlightedSections()}},{key:"onSubmit",value:function(){var e=this;this.loading=!0;var t=this.editPostForm.value,n=this.editPostForm.value.seccion;if(t.seccion=this.highlightedSections.find((function(e){return e._id===n})),this.mediaChanged){var i="destacado/".concat(this.s3.generateKey(),".").concat(this.selectedFile.file.name.split(".")[1]);this.s3.uploadFile({file:this.selectedFile.file,key:i,callback:function(n,i){n?(alert("No fue posible subir el archivo, por favor intenta  m\xe1s tarde"),e.loading=!1):(e.post.video?delete t.video:delete t.foto,"image"===e.selectedFile.type?t.foto=i.Location:t.video=i.Location,e.updateHighlightedPost(t))}})}else delete t.video,delete t.foto,this.updateHighlightedPost(t)}},{key:"getHighlightedSections",value:function(){var e=this;this.mainService.get({api:this.API_SECCIONES}).then((function(t){e.getHighlightedPost(e.postId),e.highlightedSections=t}))}},{key:"getHighlightedPost",value:function(e){var t=this;this.mainService.get({api:"".concat(this.API_DESTACADO,"/").concat(e)}).then((function(e){t.post=e,t.editPostForm.patchValue({titulo:e.titulo,seccion:e.seccion._id,texto:e.texto})})),this.loading=!1}},{key:"updateHighlightedPost",value:function(e){var t=this;this.mainService.put({api:"".concat(this.API_DESTACADO,"/").concat(this.postId),data:e,hide404:!0}).then((function(){t.generalService.handleSuccess({text:"Publicaci\xf3n destacada editada exitosamente."}),t.goBack()}))}},{key:"openFileSelector",value:function(){document.getElementById("media").click()}},{key:"onChangeMedia",value:function(e){var t=e.event;t.target.files.length>0&&(this.selectedFile={file:t.target.files[0],type:t.target.files[0].type.split("/")[0]},this.mediaChanged=!0)}},{key:"goBack",value:function(){this.generalService.goBack()}}]),e}()).\u0275fac=function(e){return new(e||er)(s["\u0275\u0275directiveInject"](o.c),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef),s["\u0275\u0275directiveInject"](Cn.a),s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](gt.a))},er.\u0275cmp=s["\u0275\u0275defineComponent"]({type:er,selectors:[["ngx-destacado-editar"]],decls:7,vars:2,consts:[[3,"nbSpinner"],[1,"d-flex","flex-row","justify-content-start","align-items-center","align-content","center"],[1,"fa","fa-arrow-left","pointer",3,"click"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col"],["for","title"],["nbInput","","fullWidth","","id","title","value","","formControlName","titulo","required",""],["for","section"],["fullWidth","","placeholder","Select Showcase","id","section","formControlName","seccion",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"row","my-3"],["for","media",1,"media-label"],["nbButton","","type","button",1,"px-4",3,"click"],["hidden","","type","file","id","media",3,"change"],["for","texto"],["nbInput","","fullWidth","","formControlName","texto","id","texto","rows","8"],[1,"row"],[1,"col","d-flex","justify-content-center","my-3"],["nbButton","","status","primary","type","submit",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"i",2),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"h5"),s["\u0275\u0275text"](5,"Editar publicaci\xf3n destacada"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](6,Zi,29,5,"nb-card-body",3),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",t.post))},directives:[Ge.o,Ge.cb,Ge.q,i.o,Ge.n,o.z,o.o,o.g,Ge.D,o.b,o.n,o.f,o.v,Ge.X,i.n,Ge.j,Ge.S],styles:["i[_ngcontent-%COMP%]{font-size:1.1rem;margin-right:10px}.media-label[_ngcontent-%COMP%]{width:100%}"]}),er);function nr(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",5),s["\u0275\u0275elementStart"](1,"div",6),s["\u0275\u0275element"](2,"ngx-kpi-card",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"div",6),s["\u0275\u0275element"](4,"ngx-kpi-card",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",n.destacado.likes.length),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("value",n.destacado.comentarios)}}function ir(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",23),s["\u0275\u0275element"](1,"img",24),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("src",n.destacado.foto,s["\u0275\u0275sanitizeUrl"])("alt",n.destacado.titulo)}}function rr(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",25),s["\u0275\u0275elementStart"](1,"vg-player"),s["\u0275\u0275element"](2,"vg-overlay-play"),s["\u0275\u0275element"](3,"vg-buffering"),s["\u0275\u0275elementStart"](4,"vg-scrub-bar"),s["\u0275\u0275element"](5,"vg-scrub-bar-current-time"),s["\u0275\u0275element"](6,"vg-scrub-bar-buffering-time"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"vg-controls"),s["\u0275\u0275element"](8,"vg-play-pause"),s["\u0275\u0275element"](9,"vg-playback-button"),s["\u0275\u0275element"](10,"vg-time-display",26),s["\u0275\u0275element"](11,"vg-scrub-bar",27),s["\u0275\u0275element"](12,"vg-time-display",28),s["\u0275\u0275element"](13,"vg-time-display",29),s["\u0275\u0275element"](14,"vg-track-selector"),s["\u0275\u0275element"](15,"vg-mute"),s["\u0275\u0275element"](16,"vg-volume"),s["\u0275\u0275element"](17,"vg-fullscreen"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"video",30,31),s["\u0275\u0275element"](20,"source",32),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275reference"](19),i=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](18),s["\u0275\u0275property"]("vgMedia",n),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("src",i.destacado.video,s["\u0275\u0275sanitizeUrl"])}}function ar(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",9),s["\u0275\u0275elementStart"](1,"nb-card-body",10),s["\u0275\u0275elementStart"](2,"div",11),s["\u0275\u0275elementStart"](3,"div",12),s["\u0275\u0275element"](4,"img",13),s["\u0275\u0275elementStart"](5,"h5"),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"button",14),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().editPost()})),s["\u0275\u0275element"](8,"nb-icon",15),s["\u0275\u0275text"](9," Editar "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"div",16),s["\u0275\u0275elementStart"](11,"div",17),s["\u0275\u0275elementStart"](12,"p",18),s["\u0275\u0275elementStart"](13,"strong"),s["\u0275\u0275text"](14,"T\xedtulo:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"p"),s["\u0275\u0275text"](16),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"p",18),s["\u0275\u0275elementStart"](18,"strong"),s["\u0275\u0275text"](19,"Descripci\xf3n:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"p"),s["\u0275\u0275text"](21),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"p",18),s["\u0275\u0275elementStart"](23,"strong"),s["\u0275\u0275text"](24,"Fecha de publicaci\xf3n:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"p"),s["\u0275\u0275text"](26),s["\u0275\u0275pipe"](27,"date"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"p",18),s["\u0275\u0275elementStart"](29,"strong"),s["\u0275\u0275text"](30,"Secci\xf3n:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](31,"p"),s["\u0275\u0275text"](32),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](33,"div",17),s["\u0275\u0275elementStart"](34,"p",18),s["\u0275\u0275elementStart"](35,"strong"),s["\u0275\u0275text"](36,"Media de la publicaci\xf3n:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](37,ir,2,2,"div",19),s["\u0275\u0275template"](38,rr,21,2,"div",20),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](39,"div",21),s["\u0275\u0275elementStart"](40,"button",22),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=s["\u0275\u0275nextContext"](),t=s["\u0275\u0275reference"](8);return e.onDeleteDialog(t)})),s["\u0275\u0275text"](41,"Eliminar publicaci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("nbSpinner",i.loading),s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("src",i.destacado.seccion.icono,s["\u0275\u0275sanitizeUrl"]),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate"](i.destacado.seccion.nombre),s["\u0275\u0275advance"](10),s["\u0275\u0275textInterpolate"](i.destacado.titulo),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](i.destacado.texto),s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate"](s["\u0275\u0275pipeBind1"](27,9,i.destacado.createdAt)),s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate"](i.destacado.seccion.nombre),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngIf",i.destacado.foto),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",i.destacado.video)}}function or(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",33),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"button",34),s["\u0275\u0275listener"]("click",(function(){return t.dialogRef.close()})),s["\u0275\u0275element"](3,"nb-icon",35),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"p"),s["\u0275\u0275text"](5,"\xbfEst\xe1s seguro de eliminar esta publicaci\xf3n?"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"nb-card-footer",36),s["\u0275\u0275elementStart"](7,"button",37),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](n);var e=t.dialogRef;return s["\u0275\u0275nextContext"]().deletePost(e)})),s["\u0275\u0275text"](8,"Eliminar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}var sr,lr=((sr=function(){function e(t,n,i,r){_classCallCheck2(this,e),this.mainService=t,this.activatedRoute=n,this.dialogService=i,this.generalService=r,this.API_DESTACADOS="api/destacado",this.loading=!0}return _createClass2(e,[{key:"ngOnInit",value:function(){this.postId=this.activatedRoute.snapshot.paramMap.get("id"),this.getPost({postId:this.postId})}},{key:"getPost",value:function(e){var t=this,n=e.postId;this.mainService.get({api:"".concat(this.API_DESTACADOS,"/").concat(n)}).then((function(e){t.destacado=e,t.loading=!1})).catch((function(e){return console.log(e)}))}},{key:"goBack",value:function(){this.generalService.goBack()}},{key:"onDeleteDialog",value:function(e){this.dialogService.open(e)}},{key:"editPost",value:function(){this.generalService.routerNavigateTo({path:"index/mvp/destacados/editar/".concat(this.postId)})}},{key:"deletePost",value:function(e){var t=this;this.loading=!1,this.mainService.delete({api:"".concat(this.API_DESTACADOS,"/").concat(this.postId)}).then((function(n){e.close(),t.goBack()}))}}]),e}()).\u0275fac=function(e){return new(e||sr)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](gt.a),s["\u0275\u0275directiveInject"](Ge.x),s["\u0275\u0275directiveInject"](vt.a))},sr.\u0275cmp=s["\u0275\u0275defineComponent"]({type:sr,selectors:[["ngx-destacado-ver"]],decls:9,vars:2,consts:[[1,"d-flex","justify-content-start","align-content-center","align-items-center","mb-4"],[1,"fa","fa-arrow-left","pointer",3,"click"],["class","row mb-3",4,"ngIf"],[3,"nbSpinner",4,"ngIf"],["dialogDeletePost",""],[1,"row","mb-3"],[1,"col-3"],["description","Likes",3,"value"],["description","Comentarios",3,"value"],[3,"nbSpinner"],[1,"p-4"],[1,"row","d-flex","justify-content-between","align-content-center","align-items-center","px-4","mb-3"],[1,"d-flex","flex-row","justify-content-start","align-content-center","align-items-center"],["alt","destacado.seccion.nombre",1,"logo",3,"src"],["nbButton","","status","primary","size","medium",3,"click"],["icon","edit-outline"],[1,"row","p-2"],[1,"col"],[1,"subtitle"],["class","img-wrapper my-2",4,"ngIf"],["class","my-2",4,"ngIf"],[1,"row","px-4"],["nbButton","","ghost","","status","danger",3,"click"],[1,"img-wrapper","my-2"],[3,"src","alt"],[1,"my-2"],["vgProperty","current","vgFormat","mm:ss"],[2,"pointer-events","none"],["vgProperty","left","vgFormat","mm:ss"],["vgProperty","total","vgFormat","mm:ss"],["id","singleVideo","preload","auto","crossorigin","",3,"vgMedia"],["media",""],["type","video/mp4",3,"src"],[1,"dialog"],["nbButton","","ghost","","status","primary",1,"close",3,"click"],["icon","close-outline"],[1,"footer","d-flex","justify-content-center"],["nbButton","","status","danger",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"section"),s["\u0275\u0275elementStart"](1,"div",0),s["\u0275\u0275elementStart"](2,"i",1),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"h3"),s["\u0275\u0275text"](4,"Publicaci\xf3n destacada"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](5,nr,5,2,"div",2),s["\u0275\u0275template"](6,ar,42,11,"nb-card",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](7,or,9,0,"ng-template",null,4,s["\u0275\u0275templateRefExtractor"])),2&e&&(s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngIf",t.destacado),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.destacado))},directives:[i.o,Gt,Ge.o,Ge.cb,Ge.n,Ge.j,Ge.A,Q,Be,Ve,Ae,Fe,De,_e,Te,Ie,Me,Pe,je,we,Le,J,Ge.p],pipes:[i.f],styles:["i[_ngcontent-%COMP%]{font-size:25px;margin-right:10px}h3[_ngcontent-%COMP%]{margin:0;padding:0}.img-wrapper[_ngcontent-%COMP%]{width:100%}.img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:620px}.logo[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:8px;-o-object-fit:cover;object-fit:cover;margin-right:8px}button[_ngcontent-%COMP%]{height:40px}a[_ngcontent-%COMP%], p[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-size:1rem}.subtitle[_ngcontent-%COMP%]{margin:0;padding:0}.dialog[_ngcontent-%COMP%]{max-width:420px}.dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5rem 1rem 2rem}"]}),sr);function cr(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",18),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("value",n._id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.nombre," ")}}function ur(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"p",3),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"]("Seleccionado: ",n.selectedFile.name,"")}}var dr,hr=((dr=function(){function e(t,n,i,r,a){_classCallCheck2(this,e),this.authService=t,this.mainService=n,this.generalService=i,this.s3=r,this.activatedRoute=a,this.API_SECTOR="api/sector",this.API_EMPRESA="api/empresa",this.empresa={},this.sectores=[],this.loading=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this.activatedRoute.snapshot.paramMap.get("id");this.fetchEmpresa({id:e}),this.getSectores()}},{key:"getSectores",value:function(){var e=this;this.mainService.get({api:this.API_SECTOR}).then((function(t){e.sectores=t}))}},{key:"fetchEmpresa",value:function(e){var t=this,n=e.id;this.loading=!0,this.mainService.get({api:"".concat(this.API_EMPRESA,"/").concat(n)}).then((function(e){t.empresa=e,t.empresa.sectores=t.empresa.sectores.map((function(e){return e._id}))})).finally((function(){t.loading=!1}))}},{key:"onSubmit",value:function(){var e=this;this.selectedFile?this.uploadFile({file:this.selectedFile,callback:function(t,n){t?alert("No fue posible subir el archivo, por favor intente m\xe1s tarde"):e.register({logo:n.Location})}}):this.register({logo:this.empresa.logo})}},{key:"register",value:function(e){var t=this,n=e.logo;this.loading=!1,this.empresa.nombre&&this.empresa.sectores&&this.empresa.descripcion?(this.empresa.logo=n||"",this.mainService.put({api:"".concat(this.API_EMPRESA,"/").concat(this.empresa._id),data:this.empresa}).then((function(e){t.goBack(),t.generalService.handleSuccess({text:"Empresa editada"})}))):this.generalService.handleError({error:"Por favor llena todos los campos",titulo:"Error"})}},{key:"openFileSelector",value:function(){document.getElementById("logo-selector").click()}},{key:"onChangeMedia",value:function(e){var t=e.event;t.target.files.length>0&&(this.selectedFile=t.target.files[0])}},{key:"uploadFile",value:function(e){var t=e.file,n=e.callback;return Object(Sn.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="empresa/".concat(this.empresa.nombre.replace(" ","-")||"no-name","/logo-").concat(this.s3.generateKey()),e.next=3,this.s3.uploadFile({file:t,key:i,callback:n});case 3:case"end":return e.stop()}}),e,this)})))}},{key:"goBack",value:function(){this.generalService.goBack()}}]),e}()).\u0275fac=function(e){return new(e||dr)(s["\u0275\u0275directiveInject"](Qt.a),s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](Cn.a),s["\u0275\u0275directiveInject"](gt.a))},dr.\u0275cmp=s["\u0275\u0275defineComponent"]({type:dr,selectors:[["ngx-empresa-edit"]],decls:38,vars:5,consts:[[1,"fa","fa-arrow-left","pointer",3,"click"],[1,"row","py-1"],[1,"col"],[1,"label"],["nbinput","","fullwidth","","name","nombreEmpresa","type","text","placeholder","Nombre de la empresa","fieldsize","large","required","",1,"nombreAltura","select","input-full-width","size-large","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["nombreEmpresa","ngModel"],["multiple","","fullwidth","","name","sector","placeholder","Selecciona...","fieldsize","large","required","",1,"input-full-width","size-large","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["sector","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"row"],[1,"col","py-1"],["nbButton","",3,"click"],["hidden","","id","logo-selector","name","logo","accept","image/x-png,image/jpeg","type","file",3,"change"],["class","label",4,"ngIf"],["nbInput","","fullWidth","","name","descripcion","type","text","placeholder","Escribe...","fieldsize","large","required","",1,"textarea","input-full-width","size-xlarge","status-basic","shape-rectangle","ng-untouched","ng-pristine","ng-invalid","nb-transition",3,"ngModel","ngModelChange"],["descripcion","ngModel"],[1,"col","d-flex","justify-content-center","my-2"],["status","primary","nbButton","",1,"m-3",3,"click"],[3,"value"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card"),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275elementStart"](2,"h4"),s["\u0275\u0275elementStart"](3,"i",0),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](4," Editar empresa "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"nb-card-body"),s["\u0275\u0275elementStart"](6,"div",1),s["\u0275\u0275elementStart"](7,"div",2),s["\u0275\u0275elementStart"](8,"label",3),s["\u0275\u0275text"](9,"Nombre de la empresa:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"input",4,5),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.empresa.nombre=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",2),s["\u0275\u0275elementStart"](13,"label",3),s["\u0275\u0275text"](14,"Sectores de la empresa:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](15,"br"),s["\u0275\u0275elementStart"](16,"nb-select",6,7),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.empresa.sectores=e})),s["\u0275\u0275template"](18,cr,2,2,"nb-option",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](19,"div",9),s["\u0275\u0275elementStart"](20,"div",10),s["\u0275\u0275elementStart"](21,"label",3),s["\u0275\u0275text"](22,"Subir logo:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](23,"br"),s["\u0275\u0275elementStart"](24,"button",11),s["\u0275\u0275listener"]("click",(function(){return t.openFileSelector()})),s["\u0275\u0275text"](25,"Examinar"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"input",12),s["\u0275\u0275listener"]("change",(function(e){return t.onChangeMedia({event:e})})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](27,ur,2,1,"p",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"div",9),s["\u0275\u0275elementStart"](29,"div",10),s["\u0275\u0275elementStart"](30,"label",3),s["\u0275\u0275text"](31,"Descripci\xf3n"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](32,"textarea",14,15),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.empresa.descripcion=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](34,"div",9),s["\u0275\u0275elementStart"](35,"div",16),s["\u0275\u0275elementStart"](36,"button",17),s["\u0275\u0275listener"]("click",(function(){return t.onSubmit()})),s["\u0275\u0275text"](37,"Guardar cambios"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](10),s["\u0275\u0275property"]("ngModel",t.empresa.nombre),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.empresa.sectores),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngForOf",t.sectores),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("ngIf",t.selectedFile),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",t.empresa.descripcion))},directives:[Ge.o,Ge.q,Ge.n,o.b,o.v,o.n,o.q,Ge.X,i.n,Ge.j,i.o,Ge.D,Ge.S],styles:["nb-select[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important}.nombreAltura[_ngcontent-%COMP%]{height:40px}"]}),dr);function pr(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"button",4),s["\u0275\u0275element"](1,"nb-icon",5),s["\u0275\u0275text"](2," Realizar pago "),s["\u0275\u0275elementEnd"]())}function fr(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",6),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"div",7),s["\u0275\u0275element"](3,"nb-icon",8),s["\u0275\u0275elementStart"](4,"h6"),s["\u0275\u0275text"](5,"No hay pagos de campa\xf1as registrados"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](6,"p"),s["\u0275\u0275text"](7,"Aqu\xed pronto podr\xe1s ver las campa\xf1as activas"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]())}function mr(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card",6),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"ng2-smart-table",9),s["\u0275\u0275listener"]("custom",(function(e){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().onCustomAction(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("settings",i.settings)("source",i.source)}}var gr,vr=((gr=function(){function e(t,n){_classCallCheck2(this,e),this.mainService=t,this.router=n,this.isSuperAdmin=!1,this.datos=[],this.generalData=[],this.settings={noDataMessage:"Ning\xfan registro encontrado",actions:{columnTitle:"Acciones",filter:!0,add:!1,edit:!1,delete:!1,custom:[{name:"ver",title:'<i class="fa fa-search" title="Ver publicaci\xf3n"></i>'}]},columns:{publicacionTitulo:{title:"Publicaci\xf3n"},inversion:{title:"Inversi\xf3n"}}}}return _createClass2(e,[{key:"ngOnInit",value:function(){if(this.isSuperAdmin="superadministrador"===JSON.parse(localStorage.getItem("_user")).tipo,1==this.isSuperAdmin)this.fetchAllPagos();else{var e=JSON.parse(localStorage.getItem("_user")).empresa._id;this.fetchPagos(e)}}},{key:"fetchPagos",value:function(e){var t=this;this.mainService.get({api:"api/pagos/empresa/".concat(e)}).then((function(e){e.forEach((function(e,n){null!=e&&(e.publicacionTitulo=e.publicacion.titulo,e.inversion=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(e.inversion),t.datos.push(e))})),t.source=new He.a(t.datos)}))}},{key:"fetchAllPagos",value:function(){var e=this;this.mainService.get({api:"api/pagos"}).then((function(t){t.forEach((function(t,n){null!=t&&(t.publicacionTitulo=t.publicacion.titulo,t.inversion=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(t.inversion),e.datos.push(t))})),e.source=new He.a(e.datos)}))}},{key:"onCustomAction",value:function(e){switch(e.action){case"ver":localStorage.setItem("pubID",e.data.publicacion._id),this.router.navigate(["/index/pagos/detalle/".concat(e.data._id)])}}}]),e}()).\u0275fac=function(e){return new(e||gr)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](gt.c))},gr.\u0275cmp=s["\u0275\u0275defineComponent"]({type:gr,selectors:[["ngx-pagos"]],decls:7,vars:3,consts:[[1,"contenedor"],[1,"Boton-pagos"],["nbButton","","status","primary","size","medium","class","float-right pull-right","routerLink","nueva",4,"ngIf"],["class","tabset",4,"ngIf"],["nbButton","","status","primary","size","medium","routerLink","nueva",1,"float-right","pull-right"],["icon","credit-card-outline"],[1,"tabset"],[1,"noData"],["icon","star-outline"],[3,"settings","source","custom"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"h3"),s["\u0275\u0275text"](3,"Historial de pagos"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](4,pr,3,0,"button",2),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](5,fr,8,0,"nb-card",3),s["\u0275\u0275template"](6,mr,3,2,"nb-card",3),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("ngIf",!t.isSuperAdmin),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",0==t.datos.length),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.datos.length>0))},directives:[i.o,Ge.j,gt.d,Ge.A,Ge.o,Ge.n,He.b],styles:[".noData[_ngcontent-%COMP%]{align-items:center;justify-content:center;padding:50px 0}.contenedor[_ngcontent-%COMP%], .noData[_ngcontent-%COMP%]{display:flex;flex-direction:column}.Boton-pagos[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{width:18px;height:18px;margin:8px 8px 10px 12px;float:left;font-size:1rem}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i{padding-top:10px;font-size:18px;color:#08003d}[_nghost-%COMP%]  ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom i:hover{color:#200081}"]}),gr);function br(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-option",18),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275propertyInterpolate"]("value",null==n?null:n._id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",null==n?null:n.titulo," ")}}function yr(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",19),s["\u0275\u0275text"](1,"* Este campo es obligatorio"),s["\u0275\u0275elementEnd"]())}function xr(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"p",19),s["\u0275\u0275text"](1,"* Este campo es obligatorio"),s["\u0275\u0275elementEnd"]())}var Sr,Cr,kr,Er=function(e,t){return{errorSpan:e,correcto:t}},_r=[{path:"",component:Zn,children:[{path:"",loadChildren:function(){return n.e(2).then(n.bind(null,"dgmN")).then((function(e){return e.PagesModule}))}},{path:"home",loadChildren:function(){return n.e(2).then(n.bind(null,"dgmN")).then((function(e){return e.PagesModule}))}},{path:"usuarios",component:Hn},{path:"empresas",component:Kt},{path:"empresas/create",component:Vi},{path:"empresas/editar/:id",component:hr},{path:"empresa/:id",component:zt},{path:"pagos",component:vr},{path:"pagos/nueva",component:(Cr=function(){function e(t,n,i){_classCallCheck2(this,e),this.mainService=t,this.generalService=n,this.router=i,this.API_EMPRESAS="api/empresa",this.API_PUBLICACION="api/publicacion",this.API_POSTS_BY_EMPRESA="api/publicacion/empresa",this.empresa={},this.publicaciones=[],this.inversion=0,this.superAlto=0,this.superAltoInversion=0,this.alto=0,this.altoInversion=0,this.medio=0,this.medioInversion=0,this.bajo=0,this.bajoInversion=0,this.principiante=0,this.principianteInversion=0,this.inversionPorcentaje=0}return _createClass2(e,[{key:"ngOnInit",value:function(){this.id=JSON.parse(localStorage.getItem("_user")).empresa._id,this.fetchEmpresaAndPosts(this.id)}},{key:"fetchEmpresaAndPosts",value:function(e){var t=this;this.mainService.get({api:"".concat(this.API_EMPRESAS,"/").concat(e)}).then((function(n){t.empresa=n,t.mainService.get({api:"".concat(t.API_POSTS_BY_EMPRESA,"/").concat(e)}).then((function(e){t.publicaciones=e,console.log(t.publicaciones)}))})).finally((function(){}))}},{key:"calculos",value:function(){this.superAltoInversion=this.inversion*(this.superAlto/100),this.altoInversion=this.inversion*(this.alto/100),this.medioInversion=this.inversion*(this.medio/100),this.bajoInversion=this.inversion*(this.bajo/100),this.principianteInversion=this.inversion*(this.principiante/100),this.inversionPorcentaje=this.superAlto+this.alto+this.medio+this.bajo+this.principiante}},{key:"realizarPago",value:function(){var e=this,t={publicacion:this.publicacion,empresa:this.id,inversion:this.inversion,porcentajes:[{rango:"Super Alto",porcentaje:this.superAlto,valor:this.superAltoInversion},{rango:"Alto",porcentaje:this.alto,valor:this.altoInversion},{rango:"Medio",porcentaje:this.medio,valor:this.medioInversion},{rango:"Bajo",porcentaje:this.bajo,valor:this.bajoInversion},{rango:"Principiante",porcentaje:this.principiante,valor:this.principianteInversion}]},n=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);new WidgetCheckout({currency:"COP",amountInCents:100*this.inversion,reference:n,publicKey:"pub_test_eiLqWS9TMoXuiWjUibjD1KB09DUEi2pd"}).open((function(n){e.finalOrder(n.transaction,t)}))}},{key:"finalOrder",value:function(e,t){var n=this;"APPROVED"==e.status?this.mainService.post({api:"api/pagos",data:t}).then((function(e){return Object(Sn.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.inversion;case 2:n=t.sent,this.mainService.put({api:"api/publicacion/inversion/".concat(this.publicacion),data:{inversion:n}}).then((function(e){console.log(e),i.router.navigate(["/index/pagos"])}));case 4:case"end":return t.stop()}}),t,this)})))})):"DECLINED"==e.status&&this.orderDeclined()}},{key:"orderDeclined",value:function(){}},{key:"orderApproved",value:function(){}},{key:"goBack",value:function(){this.generalService.goBack()}}]),e}(),Cr.\u0275fac=function(e){return new(e||Cr)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](vt.a),s["\u0275\u0275directiveInject"](gt.c))},Cr.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Cr,selectors:[["ngx-realizar-pago"]],decls:80,vars:34,consts:[[1,"tabset"],[1,"contenedor"],[1,"titulo"],[1,"fa","fa-arrow-left","pointer",3,"click"],[1,"select-publicacion"],["for",""],["placeholder","Selecciona una publicaci\xf3n",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","errorSpan",4,"ngIf"],["nbPrefix","","icon","trending-up-outline","pack","eva"],["type","number","nbInput","","placeholder","Ingresa el valor a invertir","min","0","step","10000",3,"ngModel","ngModelChange","change"],[1,"distribucion"],["type","number","nbInput","","name","","id","","min","0",3,"ngModel","ngModelChange","change"],["nbPrefix","","icon","percent-outline","pack","eva"],[1,"botonPagos"],[3,"ngClass"],["nbButton","","status","primary","size","medium",1,"float-right","pull-right",3,"disabled","click"],["icon","arrow-forward-outline"],[3,"value"],[1,"errorSpan"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275elementStart"](3,"div",2),s["\u0275\u0275elementStart"](4,"i",3),s["\u0275\u0275listener"]("click",(function(){return t.goBack()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"span"),s["\u0275\u0275text"](6,"Nueva campa\xf1a"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"div",4),s["\u0275\u0275elementStart"](8,"div"),s["\u0275\u0275elementStart"](9,"label",5),s["\u0275\u0275text"](10,"Publicaci\xf3n:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"nb-select",6),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.publicacion=e})),s["\u0275\u0275template"](12,br,2,2,"nb-option",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](13,yr,2,0,"p",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"div"),s["\u0275\u0275elementStart"](15,"label",5),s["\u0275\u0275text"](16,"Valor a invertir en la campa\xf1a:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"nb-form-field"),s["\u0275\u0275element"](18,"nb-icon",9),s["\u0275\u0275elementStart"](19,"input",10),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.inversion=e}))("change",(function(){return t.calculos()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"span"),s["\u0275\u0275text"](21),s["\u0275\u0275pipe"](22,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](23,xr,2,0,"p",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](24,"h5"),s["\u0275\u0275text"](25,"Distribuci\xf3n por rango de usuarios"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"div",11),s["\u0275\u0275elementStart"](27,"div"),s["\u0275\u0275elementStart"](28,"label",5),s["\u0275\u0275text"](29,"S\xfaper alto"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](30,"nb-form-field"),s["\u0275\u0275elementStart"](31,"input",12),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.superAlto=e}))("change",(function(){return t.calculos()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](32,"nb-icon",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](33,"span"),s["\u0275\u0275text"](34),s["\u0275\u0275pipe"](35,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](36,"div"),s["\u0275\u0275elementStart"](37,"label",5),s["\u0275\u0275text"](38,"Alto"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](39,"nb-form-field"),s["\u0275\u0275elementStart"](40,"input",12),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.alto=e}))("change",(function(){return t.calculos()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](41,"nb-icon",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](42,"span"),s["\u0275\u0275text"](43),s["\u0275\u0275pipe"](44,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](45,"div"),s["\u0275\u0275elementStart"](46,"label",5),s["\u0275\u0275text"](47,"Medio"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](48,"nb-form-field"),s["\u0275\u0275elementStart"](49,"input",12),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.medio=e}))("change",(function(){return t.calculos()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](50,"nb-icon",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](51,"span"),s["\u0275\u0275text"](52),s["\u0275\u0275pipe"](53,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](54,"div"),s["\u0275\u0275elementStart"](55,"label",5),s["\u0275\u0275text"](56,"Bajo"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](57,"nb-form-field"),s["\u0275\u0275elementStart"](58,"input",12),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.bajo=e}))("change",(function(){return t.calculos()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](59,"nb-icon",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](60,"span"),s["\u0275\u0275text"](61),s["\u0275\u0275pipe"](62,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](63,"div"),s["\u0275\u0275elementStart"](64,"label",5),s["\u0275\u0275text"](65,"Principiante"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](66,"nb-form-field"),s["\u0275\u0275elementStart"](67,"input",12),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.principiante=e}))("change",(function(){return t.calculos()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](68,"nb-icon",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](69,"span"),s["\u0275\u0275text"](70),s["\u0275\u0275pipe"](71,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](72,"div",14),s["\u0275\u0275elementStart"](73,"span"),s["\u0275\u0275text"](74,"Para continuar, la distribuci\xf3n de porcentajes debe sumar 100%"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](75,"span",15),s["\u0275\u0275text"](76),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](77,"button",16),s["\u0275\u0275listener"]("click",(function(){return t.realizarPago()})),s["\u0275\u0275text"](78," Ir a pagar "),s["\u0275\u0275element"](79,"nb-icon",17),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("ngModel",t.publicacion),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",t.publicaciones),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",null==t.publicacion),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.inversion),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](22,19,t.inversion),""),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",0==t.inversion),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("ngModel",t.superAlto),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](35,21,t.superAltoInversion),""),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.alto),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](44,23,t.altoInversion),""),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.medio),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](53,25,t.medioInversion),""),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.bajo),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](62,27,t.bajoInversion),""),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.principiante),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](71,29,t.principianteInversion),""),s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngClass",s["\u0275\u0275pureFunction2"](31,Er,100!=t.inversionPorcentaje,100==t.inversionPorcentaje)),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" Porcentaje actual: ",t.inversionPorcentaje," % "),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("disabled",100!=t.inversionPorcentaje||null==t.publicacion||0==t.inversion))},directives:[Ge.o,Ge.n,Ge.X,o.n,o.q,i.n,i.o,Ge.y,Ge.A,Ge.T,o.s,Ge.D,o.b,i.m,Ge.j,Ge.S],pipes:[i.g],styles:[".select-publicacion[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}.select-publicacion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.select-publicacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.distribucion[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;-moz-column-gap:10px;column-gap:10px}.distribucion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.distribucion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:85%}.distribucion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#200081;font-weight:600}.botonPagos[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;row-gap:10px;margin-top:30px}.errorSpan[_ngcontent-%COMP%]{color:red}.correcto[_ngcontent-%COMP%], .errorSpan[_ngcontent-%COMP%]{font-weight:600}.titulo[_ngcontent-%COMP%]{display:flex;align-items:center;-moz-column-gap:12px;column-gap:12px;margin-bottom:20px}.titulo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .titulo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:600}"]}),Cr)},{path:"pagos/detalle/:id",component:(Sr=function(){function e(t,n,i){_classCallCheck2(this,e),this.mainService=t,this.route=n,this.router=i,this.API_EMPRESAS="api/empresa",this.API_PUBLICACION="api/publicacion",this.API_POSTS_BY_EMPRESA="api/publicacion/empresa",this.empresa={},this.publicaciones=[],this.inversion=0,this.superAlto=0,this.superAltoInversion=0,this.alto=0,this.altoInversion=0,this.medio=0,this.medioInversion=0,this.bajo=0,this.bajoInversion=0,this.principiante=0,this.principianteInversion=0,this.inversionPorcentaje=0,this.pubId=localStorage.getItem("pubID")}return _createClass2(e,[{key:"ngOnInit",value:function(){return Object(Sn.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.route.params.subscribe((function(e){return Object(Sn.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.id=e.id;case 1:case"end":return t.stop()}}),t,this)})))})),e.next=3,this.fetchPagos(this.id);case 3:console.log(this.pubId);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"fetchPagos",value:function(e){return Object(Sn.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mainService.get({api:"api/pagos/".concat(e)}).then((function(e){return Object(Sn.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:this.data=t.sent,this.data.porcentajes.forEach((function(e){"Super Alto"==e.rango?(n.superAlto=e.porcentaje,n.superAltoInversion=e.valor):"Alto"==e.rango?(n.alto=e.porcentaje,n.altoInversion=e.valor):"Medio"==e.rango?(n.medio=e.porcentaje,n.medioInversion=e.valor):"Bajo"==e.rango?(n.bajo=e.porcentaje,n.bajoInversion=e.valor):"Principiante"==e.rango&&(n.principiante=e.porcentaje,n.principianteInversion=e.valor)}));case 4:case"end":return t.stop()}}),t,this)})))}));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"realizarPago",value:function(){}}]),e}(),Sr.\u0275fac=function(e){return new(e||Sr)(s["\u0275\u0275directiveInject"](bt.a),s["\u0275\u0275directiveInject"](gt.a),s["\u0275\u0275directiveInject"](gt.c))},Sr.\u0275cmp=s["\u0275\u0275defineComponent"]({type:Sr,selectors:[["ngx-detalle-pago"]],decls:59,vars:24,consts:[[1,"tabset"],[1,"contenedor"],[3,"pubId"],[1,"select-publicacion"],["for",""],[1,"distribucion"],["type","number","nbInput","","name","","id","","disabled","",3,"ngModel","ngModelChange"],["nbPrefix","","icon","percent-outline","pack","eva"],["type","number","nbInput","","disabled","","name","","id","",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-body"),s["\u0275\u0275elementStart"](2,"div",1),s["\u0275\u0275element"](3,"ngx-publicacion-detail",2),s["\u0275\u0275elementStart"](4,"div",3),s["\u0275\u0275elementStart"](5,"div"),s["\u0275\u0275elementStart"](6,"h4",4),s["\u0275\u0275text"](7,"Valor a invertido en la campa\xf1a:"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"span"),s["\u0275\u0275text"](9),s["\u0275\u0275pipe"](10,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"h5"),s["\u0275\u0275text"](12,"Distribuci\xf3n por rango de usuarios"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",5),s["\u0275\u0275elementStart"](14,"div"),s["\u0275\u0275elementStart"](15,"label",4),s["\u0275\u0275text"](16,"S\xfaper alto"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"nb-form-field"),s["\u0275\u0275elementStart"](18,"input",6),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.superAlto=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](19,"nb-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"span"),s["\u0275\u0275text"](21),s["\u0275\u0275pipe"](22,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](23,"div"),s["\u0275\u0275elementStart"](24,"label",4),s["\u0275\u0275text"](25,"Alto"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](26,"nb-form-field"),s["\u0275\u0275elementStart"](27,"input",8),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.alto=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](28,"nb-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](29,"span"),s["\u0275\u0275text"](30),s["\u0275\u0275pipe"](31,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](32,"div"),s["\u0275\u0275elementStart"](33,"label",4),s["\u0275\u0275text"](34,"Medio"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](35,"nb-form-field"),s["\u0275\u0275elementStart"](36,"input",8),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.medio=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](37,"nb-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](38,"span"),s["\u0275\u0275text"](39),s["\u0275\u0275pipe"](40,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](41,"div"),s["\u0275\u0275elementStart"](42,"label",4),s["\u0275\u0275text"](43,"Bajo"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](44,"nb-form-field"),s["\u0275\u0275elementStart"](45,"input",8),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.bajo=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](46,"nb-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](47,"span"),s["\u0275\u0275text"](48),s["\u0275\u0275pipe"](49,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](50,"div"),s["\u0275\u0275elementStart"](51,"label",4),s["\u0275\u0275text"](52,"Principiante"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](53,"nb-form-field"),s["\u0275\u0275elementStart"](54,"input",8),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.principiante=e})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](55,"nb-icon",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](56,"span"),s["\u0275\u0275text"](57),s["\u0275\u0275pipe"](58,"number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("pubId",t.pubId),s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](10,12,null==t.data?null:t.data.inversion),""),s["\u0275\u0275advance"](9),s["\u0275\u0275property"]("ngModel",t.superAlto),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](22,14,t.superAltoInversion),""),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.alto),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](31,16,t.altoInversion),""),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.medio),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](40,18,t.medioInversion),""),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.bajo),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](49,20,t.bajoInversion),""),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngModel",t.principiante),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("$",s["\u0275\u0275pipeBind1"](58,22,t.principianteInversion),""))},directives:[Ge.o,Ge.n,xn,Ge.y,o.s,Ge.D,o.b,o.n,o.q,Ge.A,Ge.T],pipes:[i.g],styles:[".contenedor[_ngcontent-%COMP%]{row-gap:40px;display:flex;flex-direction:column}.select-publicacion[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}.select-publicacion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.select-publicacion[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.select-publicacion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:30px;font-weight:600;color:#202499}.distribucion[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;-moz-column-gap:10px;column-gap:10px}.distribucion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.distribucion[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:85%}.distribucion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#200081;font-weight:600}.botonPagos[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;row-gap:10px;margin-top:30px}.errorSpan[_ngcontent-%COMP%]{color:red}.correcto[_ngcontent-%COMP%], .errorSpan[_ngcontent-%COMP%]{font-weight:600}"]}),Sr)},{path:"consumer/:user",component:Tt},{path:"notificaciones",component:Jt},{path:"pagos",component:vr},{path:"mvp",children:[{path:"publicaciones",component:Rn},{path:"productos",children:[{path:"",component:ei},{path:"crear",component:si},{path:"editar/:id",component:si},{path:":id",component:pi}]},{path:"destacados",children:[{path:"",component:gi},{path:"crear",component:xi},{path:"editar/:id",component:tr},{path:"ver/:id",component:lr},{path:"seccion",component:ki},{path:"seccion/crear",component:wi},{path:"seccion/editar/:id",component:Ki}]},{path:"sector",children:[{path:"",component:Mi},{path:"crear",component:Ti},{path:"editar/:id",component:Xi}]}]},{path:"publicaciones",children:[{path:"crear",component:On},{path:"editar/:id",component:On},{path:"empresa/:empresa",component:Tn},{path:":id",component:xn},{path:"",component:Fn}]},{path:"dashboard",children:[{path:"profile",children:[{path:"detail",component:hn}]}]}]}],wr=((kr=function e(){_classCallCheck2(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:kr}),kr.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||kr)},imports:[[gt.g.forChild(_r)],gt.g]}),kr);n.d(t,"PublicModule",(function(){return Or}));var Pr,Or=((Pr=function e(){_classCallCheck2(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:Pr}),Pr.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Pr)},providers:[],imports:[[r.c,a.b,i.c,wr,Ge.L,Ge.Q,Ge.sb,Ge.f,Ge.pb,Ge.W,Ge.ab,Ge.u,Ge.h,Ge.k,Ge.Y,Ge.C,Ue.a,ht,o.u,o.h,mt,Ge.z,M,A,z,ft.a,Ge.mb.forRoot(),Ge.w.forChild(),Ge.v.forRoot(),Ge.L,Ge.ab,Ge.f,Ge.V,Ge.r,Ge.E,Ge.pb,Ge.ob,Ge.k,Ge.Y,Ge.U,Ge.kb,Ge.s,Ge.l,He.c,Ge.fb,Ge.db,Ge.m,Ge.O,Ge.c,Ge.i,Ge.g,Ge.qb,Ge.z,Ge.sb,Xe.ChartModule,r.c,a.b,ee,Re,Ne,ze,pt.c]]}),Pr)},UmEg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in t)t.hasOwnProperty(n)&&"string"==typeof e[n=t[n]]&&(e[n]=parseInt(e[n],10));return"string"==typeof e.displayValue&&(e.displayValue="false"!=e.displayValue),e}},VyaE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("wkMt");t.default=function(e,t,n){var r=e.split("").map((function(e,n){return i.BINARIES[t[n]]})).map((function(t,n){return t?t[e[n]]:""}));if(n){var a=e.length-1;r=r.map((function(e,t){return t<a?e+n:e}))}return r.join("")}},WD9T:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("wkMt"),a=o(n("VyaE"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var e,t=r.EAN5_STRUCTURE[(e=this.data,e.split("").map((function(e){return+e})).reduce((function(e,t,n){return n%2?e+9*t:e+3*t}),0)%10)];return{data:"1011"+(0,a.default)(this.data,t,"01"),text:this.text}}}]),t}(o(n("52Lf")).default);t.default=s},YsXA:function(e,t,n){"use strict";var i=h(n("/4Rl")),r=h(n("/XyT")),a=h(n("orCN")),o=h(n("efHi")),s=h(n("sdgK")),l=h(n("UmEg")),c=h(n("vYpS")),u=n("3KJX"),d=h(n("yjKC"));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(){},f=function(e,t,n){var i=new p;if(void 0===e)throw Error("No element to render on was provided.");return i._renderProperties=(0,s.default)(e),i._encodings=[],i._options=d.default,i._errorHandler=new c.default(i),void 0!==t&&((n=n||{}).format||(n.format=b()),i.options(n)[n.format](t,n).render()),i};for(var m in f.getModule=function(e){return i.default[e]},i.default)i.default.hasOwnProperty(m)&&g(i.default,m);function g(e,t){p.prototype[t]=p.prototype[t.toUpperCase()]=p.prototype[t.toLowerCase()]=function(n,i){var a=this;return a._errorHandler.wrapBarcodeCall((function(){i.text=void 0===i.text?void 0:""+i.text;var o=(0,r.default)(a._options,i);o=(0,l.default)(o);var s=v(n,e[t],o);return a._encodings.push(s),a}))}}function v(e,t,n){var i=new t(e=""+e,n);if(!i.valid())throw new u.InvalidInputException(i.constructor.name,e);var o=i.encode();o=(0,a.default)(o);for(var s=0;s<o.length;s++)o[s].options=(0,r.default)(n,o[s].options);return o}function b(){return i.default.CODE128?"CODE128":Object.keys(i.default)[0]}function y(e,t,n){t=(0,a.default)(t);for(var i=0;i<t.length;i++)t[i].options=(0,r.default)(n,t[i].options),(0,o.default)(t[i].options);(0,o.default)(n),new(0,e.renderer)(e.element,t,n).render(),e.afterRender&&e.afterRender()}p.prototype.options=function(e){return this._options=(0,r.default)(this._options,e),this},p.prototype.blank=function(e){var t=new Array(e+1).join("0");return this._encodings.push({data:t}),this},p.prototype.init=function(){var e;if(this._renderProperties)for(var t in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var n=(0,r.default)(this._options,(e=this._renderProperties[t]).options);"auto"==n.format&&(n.format=b()),this._errorHandler.wrapBarcodeCall((function(){var t=v(n.value,i.default[n.format.toUpperCase()],n);y(e,t,n)}))}},p.prototype.render=function(){if(!this._renderProperties)throw new u.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)y(this._renderProperties[e],this._encodings,this._options);else y(this._renderProperties,this._encodings,this._options);return this},p.prototype._defaults=d.default,"undefined"!=typeof window&&(window.JsBarcode=f),"undefined"!=typeof jQuery&&(jQuery.fn.JsBarcode=function(e,t){var n=[];return jQuery(this).each((function(){n.push(this)})),f(n,e,t)}),e.exports=f},blPF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mod10=function(e){for(var t=0,n=0;n<e.length;n++){var i=parseInt(e[n]);t+=(n+e.length)%2==0?i:2*i%10+Math.floor(2*i/10)}return(10-t%10)%10},t.mod11=function(e){for(var t=0,n=[2,3,4,5,6,7],i=0;i<e.length;i++){var r=parseInt(e[e.length-1-i]);t+=n[i%n.length]*r}return(11-t%11)%11}},byS7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n("SyMb")),r=a(n("u12M"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(e,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),/^[\x00-\x7F\xC8-\xD3]+$/.test(e))var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,r.default)(e),n));else i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o(i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default);t.default=s},cLAh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=(i=n("SyMb"))&&i.__esModule?i:{default:i},o=n("8I5R"),s=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o.B_START_CHAR+e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"valid",value:function(){return new RegExp("^"+o.B_CHARS+"+$").test(this.data)}}]),t}(a.default);t.default=s},cho7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=(i=n("/XyT"))&&i.__esModule?i:{default:i},o=n("q1t9"),s=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t,this.encodings=n,this.options=i}return r(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var e=0;e<this.encodings.length;e++){var t=(0,a.default)(this.options,this.encodings[e].options);this.drawCanvasBarcode(t,this.encodings[e]),this.drawCanvasText(t,this.encodings[e]),this.moveCanvasDrawing(this.encodings[e])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var e=this.canvas.getContext("2d");e.save(),(0,o.calculateEncodingAttributes)(this.encodings,this.options,e);var t=(0,o.getTotalWidthOfEncodings)(this.encodings),n=(0,o.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=t+this.options.marginLeft+this.options.marginRight,this.canvas.height=n,e.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(e.fillStyle=this.options.background,e.fillRect(0,0,this.canvas.width,this.canvas.height)),e.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(e,t){var n,i=this.canvas.getContext("2d"),r=t.data;n="top"==e.textPosition?e.marginTop+e.fontSize+e.textMargin:e.marginTop,i.fillStyle=e.lineColor;for(var a=0;a<r.length;a++){var o=a*e.width+t.barcodePadding;"1"===r[a]?i.fillRect(o,n,e.width,e.height):r[a]&&i.fillRect(o,n,e.width,e.height*r[a])}}},{key:"drawCanvasText",value:function(e,t){var n,i,r=this.canvas.getContext("2d");e.displayValue&&(i="top"==e.textPosition?e.marginTop+e.fontSize-e.textMargin:e.height+e.textMargin+e.marginTop+e.fontSize,r.font=e.fontOptions+" "+e.fontSize+"px "+e.font,"left"==e.textAlign||t.barcodePadding>0?(n=0,r.textAlign="left"):"right"==e.textAlign?(n=t.width-1,r.textAlign="right"):(n=t.width/2,r.textAlign="center"),r.fillText(t.text,n,i))}},{key:"moveCanvasDrawing",value:function(e){this.canvas.getContext("2d").translate(e.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),e}();t.default=s},dSvQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n("cho7")),r=o(n("vl4V")),a=o(n("TO02"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={CanvasRenderer:i.default,SVGRenderer:r.default,ObjectRenderer:a.default}},efHi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}},fLmL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pharmacode=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.number=parseInt(e,10),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"encode",value:function(){for(var e=this.number,t="";!isNaN(e)&&0!=e;)e%2==0?(t="11100"+t,e=(e-2)/2):(t="100"+t,e=(e-1)/2);return{data:t=t.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(((i=n("52Lf"))&&i.__esModule?i:{default:i}).default);t.pharmacode=a},"gF+w":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=(i=n("Ek++"))&&i.__esModule?i:{default:i},a=n("blPF"),o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e+=(0,a.mod11)(e),e+=(0,a.mod10)(e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default);t.default=o},iGFM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=(i=n("Ek++"))&&i.__esModule?i:{default:i},a=n("blPF"),o=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e+=(0,a.mod10)(e),e+=(0,a.mod10)(e),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default);t.default=o},iaK4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n("wkMt"),s=(i=n("vf6K"))&&i.__esModule?i:{default:i},l=function(e){return(10-e.substr(0,12).split("").map((function(e){return+e})).reduce((function(e,t,n){return n%2?e+3*t:e+t}),0)%10)%10},c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),-1!==e.search(/^[0-9]{12}$/)&&(e+=l(e));var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.lastChar=n.lastChar,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===l(this.data)}},{key:"leftText",value:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var e=this.data.substr(1,6),n=o.EAN13_STRUCTURE[this.data[0]];return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,e,n)}},{key:"rightText",value:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var e=this.data.substr(7,6);return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,e,"RRRRRR")}},{key:"encodeGuarded",value:function(){var e=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(e.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(e.push({data:"00"}),e.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),e}}]),t}(s.default);t.default=c},jlE0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MSI1110=t.MSI1010=t.MSI11=t.MSI10=t.MSI=void 0;var i=l(n("Ek++")),r=l(n("RyeT")),a=l(n("RGHy")),o=l(n("iGFM")),s=l(n("gF+w"));function l(e){return e&&e.__esModule?e:{default:e}}t.MSI=i.default,t.MSI10=r.default,t.MSI11=a.default,t.MSI1010=o.default,t.MSI1110=s.default},"n/pZ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITF14=t.ITF=void 0;var i=a(n("PHz1")),r=a(n("B9+t"));function a(e){return e&&e.__esModule?e:{default:e}}t.ITF=i.default,t.ITF14=r.default},orCN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];return function e(n){if(Array.isArray(n))for(var i=0;i<n.length;i++)e(n[i]);else n.text=n.text||"",n.data=n.data||"",t.push(n)}(e),t}},pdJe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("wkMt"),a=o(n("VyaE"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var e=r.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,a.default)(this.data,e,"01"),text:this.text}}}]),t}(o(n("52Lf")).default);t.default=s},q1t9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalWidthOfEncodings=t.calculateEncodingAttributes=t.getBarcodePadding=t.getEncodingHeight=t.getMaximumHeightOfEncodings=void 0;var i,r=(i=n("/XyT"))&&i.__esModule?i:{default:i};function a(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function o(e,t,n){if(n.displayValue&&t<e){if("center"==n.textAlign)return Math.floor((e-t)/2);if("left"==n.textAlign)return 0;if("right"==n.textAlign)return Math.floor(e-t)}return 0}function s(e,t,n){var i;if(n)i=n;else{if("undefined"==typeof document)return 0;i=document.createElement("canvas").getContext("2d")}return i.font=t.fontOptions+" "+t.fontSize+"px "+t.font,i.measureText(e).width}t.getMaximumHeightOfEncodings=function(e){for(var t=0,n=0;n<e.length;n++)e[n].height>t&&(t=e[n].height);return t},t.getEncodingHeight=a,t.getBarcodePadding=o,t.calculateEncodingAttributes=function(e,t,n){for(var i=0;i<e.length;i++){var l,c=e[i],u=(0,r.default)(t,c.options);l=u.displayValue?s(c.text,u,n):0;var d=c.data.length*u.width;c.width=Math.ceil(Math.max(l,d)),c.height=a(c,u),c.barcodePadding=o(l,d,u)}},t.getTotalWidthOfEncodings=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].width;return t}},qrNs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n("UmEg")),r=a(n("yjKC"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t={};for(var n in r.default)r.default.hasOwnProperty(n)&&(e.hasAttribute("jsbarcode-"+n.toLowerCase())&&(t[n]=e.getAttribute("jsbarcode-"+n.toLowerCase())),e.hasAttribute("data-"+n.toLowerCase())&&(t[n]=e.getAttribute("data-"+n.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),(0,i.default)(t)}},sdgK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=s(n("qrNs")),a=s(n("dSvQ")),o=n("3KJX");function s(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t){if("string"==typeof t)return function(t){var n=document.querySelectorAll(t);if(0!==n.length){for(var i=[],r=0;r<n.length;r++)i.push(e(n[r]));return i}}(t);if(Array.isArray(t)){for(var n=[],s=0;s<t.length;s++)n.push(e(t[s]));return n}if("undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLImageElement)return l=t,{element:c=document.createElement("canvas"),options:(0,r.default)(l),renderer:a.default.CanvasRenderer,afterRender:function(){l.setAttribute("src",c.toDataURL())}};if(t&&t.nodeName&&"svg"===t.nodeName.toLowerCase()||"undefined"!=typeof SVGElement&&t instanceof SVGElement)return{element:t,options:(0,r.default)(t),renderer:a.default.SVGRenderer};if("undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement)return{element:t,options:(0,r.default)(t),renderer:a.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:a.default.CanvasRenderer};if(t&&"object"===(void 0===t?"undefined":i(t))&&!t.nodeName)return{element:t,renderer:a.default.ObjectRenderer};throw new o.InvalidElementException;var l,c}},u12M:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("8I5R"),r=function(e){return e.match(new RegExp("^"+i.A_CHARS+"*"))[0].length},a=function(e){return e.match(new RegExp("^"+i.B_CHARS+"*"))[0].length},o=function(e){return e.match(new RegExp("^"+i.C_CHARS+"*"))[0]};function s(e,t){var n=t?i.A_CHARS:i.B_CHARS,r=e.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+String.fromCharCode(204)+l(e.substring(r[1].length));var a=e.match(new RegExp("^"+n+"+"))[0];return a.length===e.length?e:a+String.fromCharCode(t?205:206)+s(e.substring(a.length),!t)}function l(e){var t=o(e),n=t.length;if(n===e.length)return e;e=e.substring(n);var i=r(e)>=a(e);return t+String.fromCharCode(i?206:205)+s(e,i)}t.default=function(e){var t=void 0;if(o(e).length>=2)t=i.C_START_CHAR+l(e);else{var n=r(e)>a(e);t=(n?i.A_START_CHAR:i.B_START_CHAR)+s(e,n)}return t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,(function(e,t){return String.fromCharCode(203)+t}))}},vYpS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t}return i(e,[{key:"handleCatch",value:function(e){if("InvalidInputException"!==e.name)throw e;if(this.api._options.valid===this.api._defaults.valid)throw e.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(e){try{var t=e.apply(void 0,arguments);return this.api._options.valid(!0),t}catch(n){return this.handleCatch(n),this.api}}}]),e}();t.default=r},vf6K:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("wkMt"),a=o(n("VyaE"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.fontSize=!n.flat&&n.fontSize>10*n.width?10*n.width:n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(e,t){return this.text.substr(e,t)}},{key:"leftEncode",value:function(e,t){return(0,a.default)(e,t)}},{key:"rightText",value:function(e,t){return this.text.substr(e,t)}},{key:"rightEncode",value:function(e,t){return(0,a.default)(e,t)}},{key:"encodeGuarded",value:function(){var e={fontSize:this.fontSize},t={height:this.guardHeight};return[{data:r.SIDE_BIN,options:t},{data:this.leftEncode(),text:this.leftText(),options:e},{data:r.MIDDLE_BIN,options:t},{data:this.rightEncode(),text:this.rightText(),options:e},{data:r.SIDE_BIN,options:t}]}},{key:"encodeFlat",value:function(){return{data:[r.SIDE_BIN,this.leftEncode(),r.MIDDLE_BIN,this.rightEncode(),r.SIDE_BIN].join(""),text:this.text}}}]),t}(o(n("52Lf")).default);t.default=s},vl4V:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=(i=n("/XyT"))&&i.__esModule?i:{default:i},o=n("q1t9"),s="http://www.w3.org/2000/svg",l=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.svg=t,this.encodings=n,this.options=i,this.document=i.xmlDocument||document}return r(e,[{key:"render",value:function(){var e=this.options.marginLeft;this.prepareSVG();for(var t=0;t<this.encodings.length;t++){var n=this.encodings[t],i=(0,a.default)(this.options,n.options),r=this.createGroup(e,i.marginTop,this.svg);this.setGroupOptions(r,i),this.drawSvgBarcode(r,i,n),this.drawSVGText(r,i,n),e+=n.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,o.calculateEncodingAttributes)(this.encodings,this.options);var e=(0,o.getTotalWidthOfEncodings)(this.encodings),t=(0,o.getMaximumHeightOfEncodings)(this.encodings),n=e+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(n,t),this.options.background&&this.drawRect(0,0,n,t,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(e,t,n){var i,r=n.data;i="top"==t.textPosition?t.fontSize+t.textMargin:0;for(var a=0,o=0,s=0;s<r.length;s++)o=s*t.width+n.barcodePadding,"1"===r[s]?a++:a>0&&(this.drawRect(o-t.width*a,i,t.width*a,t.height,e),a=0);a>0&&this.drawRect(o-t.width*(a-1),i,t.width*a,t.height,e)}},{key:"drawSVGText",value:function(e,t,n){var i,r,a=this.document.createElementNS(s,"text");t.displayValue&&(a.setAttribute("style","font:"+t.fontOptions+" "+t.fontSize+"px "+t.font),r="top"==t.textPosition?t.fontSize-t.textMargin:t.height+t.textMargin+t.fontSize,"left"==t.textAlign||n.barcodePadding>0?(i=0,a.setAttribute("text-anchor","start")):"right"==t.textAlign?(i=n.width-1,a.setAttribute("text-anchor","end")):(i=n.width/2,a.setAttribute("text-anchor","middle")),a.setAttribute("x",i),a.setAttribute("y",r),a.appendChild(this.document.createTextNode(n.text)),e.appendChild(a))}},{key:"setSvgAttributes",value:function(e,t){var n=this.svg;n.setAttribute("width",e+"px"),n.setAttribute("height",t+"px"),n.setAttribute("x","0px"),n.setAttribute("y","0px"),n.setAttribute("viewBox","0 0 "+e+" "+t),n.setAttribute("xmlns",s),n.setAttribute("version","1.1"),n.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(e,t,n){var i=this.document.createElementNS(s,"g");return i.setAttribute("transform","translate("+e+", "+t+")"),n.appendChild(i),i}},{key:"setGroupOptions",value:function(e,t){e.setAttribute("style","fill:"+t.lineColor+";")}},{key:"drawRect",value:function(e,t,n,i,r){var a=this.document.createElementNS(s,"rect");return a.setAttribute("x",e),a.setAttribute("y",t),a.setAttribute("width",n),a.setAttribute("height",i),r.appendChild(a),a}}]),e}();t.default=l},"vph/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n("VyaE")),a=s(n("52Lf")),o=n("6LKm");function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],u=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(i.isValid=!1,-1!==e.search(/^[0-9]{6}$/))i.middleDigits=e,i.upcA=h(e,"0"),i.text=n.text||""+i.upcA[0]+e+i.upcA[i.upcA.length-1],i.isValid=!0;else{if(-1===e.search(/^[01][0-9]{7}$/))return l(i);if(i.middleDigits=e.substring(1,e.length-1),i.upcA=h(i.middleDigits,e[0]),i.upcA[i.upcA.length-1]!==e[e.length-1])return l(i);i.isValid=!0}return i.displayValue=n.displayValue,i.fontSize=n.fontSize>10*n.width?10*n.width:n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=this.encodeMiddleDigits(),{data:e+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101",options:{height:this.guardHeight}}),e.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),e.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),e}},{key:"encodeMiddleDigits",value:function(){var e=this.upcA[0],t=u[parseInt(this.upcA[this.upcA.length-1])][parseInt(e)];return(0,r.default)(this.middleDigits,t)}}]),t}(a.default);function h(e,t){for(var n=parseInt(e[e.length-1]),i=c[n],r="",a=0,s=0;s<i.length;s++){var l=i[s];r+="X"===l?e[a++]:l}return(r=""+t+r)+(0,o.checksum)(r)}t.default=d},wXsw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codabar=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),0===e.search(/^[0-9\-\$\:\.\+\/]+$/)&&(e="A"+e+"A");var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.toUpperCase(),n));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var e=[],t=this.getEncodings(),n=0;n<this.data.length;n++)e.push(t[this.data.charAt(n)]),n!==this.data.length-1&&e.push("0");return{text:this.text,data:e.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"101100110011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(((i=n("52Lf"))&&i.__esModule?i:{default:i}).default);t.codabar=a},wkMt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIDE_BIN="101",t.MIDDLE_BIN="01010",t.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},t.EAN2_STRUCTURE=["LL","LG","GL","GG"],t.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],t.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},yjKC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},zQsl:function(e,t,n){"use strict";var i=n("mrSG"),r=n("fXoL"),a=n("ofXK"),o=n("R0Ic"),s=n("+rOU"),l=n("xgIS"),c=n("Kj3r");function u(){}var d=function(e){return null==e?u:function(){return this.querySelector(e)}};function h(){return[]}var p=function(e){return null==e?h:function(){return this.querySelectorAll(e)}},f=function(e){return function(){return this.matches(e)}},m=function(e){return new Array(e.length)};function g(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function v(e,t,n,i,r,a){for(var o,s=0,l=t.length,c=a.length;s<c;++s)(o=t[s])?(o.__data__=a[s],i[s]=o):n[s]=new g(e,a[s]);for(;s<l;++s)(o=t[s])&&(r[s]=o)}function b(e,t,n,i,r,a,o){var s,l,c,u={},d=t.length,h=a.length,p=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(p[s]=c="$"+o.call(l,l.__data__,s,t),c in u?r[s]=l:u[c]=l);for(s=0;s<h;++s)(l=u[c="$"+o.call(e,a[s],s,a)])?(i[s]=l,l.__data__=a[s],u[c]=null):n[s]=new g(e,a[s]);for(s=0;s<d;++s)(l=t[s])&&u[p[s]]===l&&(r[s]=l)}function y(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}g.prototype={constructor:g,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var x="http://www.w3.org/1999/xhtml",S={svg:"http://www.w3.org/2000/svg",xhtml:x,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},C=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),S.hasOwnProperty(t)?{space:S[t],local:e}:e};function k(e){return function(){this.removeAttribute(e)}}function E(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _(e,t){return function(){this.setAttribute(e,t)}}function w(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function P(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function O(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var M=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function A(e){return function(){this.style.removeProperty(e)}}function I(e,t,n){return function(){this.style.setProperty(e,t,n)}}function T(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function j(e,t){return e.style.getPropertyValue(t)||M(e).getComputedStyle(e,null).getPropertyValue(t)}function L(e){return function(){delete this[e]}}function D(e,t){return function(){this[e]=t}}function F(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function R(e){return e.trim().split(/^|\s+/)}function B(e){return e.classList||new N(e)}function N(e){this._node=e,this._names=R(e.getAttribute("class")||"")}function V(e,t){for(var n=B(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function z(e,t){for(var n=B(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function G(e){return function(){V(this,e)}}function U(e){return function(){z(this,e)}}function H(e,t){return function(){(t.apply(this,arguments)?V:z)(this,e)}}function X(){this.textContent=""}function Y(e){return function(){this.textContent=e}}function $(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function W(){this.innerHTML=""}function q(e){return function(){this.innerHTML=e}}function K(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function J(){this.nextSibling&&this.parentNode.appendChild(this)}function Q(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Z(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===x&&t.documentElement.namespaceURI===x?t.createElement(e):t.createElementNS(n,e)}}function ee(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}N.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var te=function(e){var t=C(e);return(t.local?ee:Z)(t)};function ne(){return null}function ie(){var e=this.parentNode;e&&e.removeChild(this)}function re(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ae(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}var oe={},se=null;function le(e,t,n){return e=ce(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function ce(e,t,n){return function(i){var r=se;se=i;try{e.call(this,this.__data__,t,n)}finally{se=r}}}function ue(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function de(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,a=t.length;i<a;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?t.length=r:delete this.__on}}}function he(e,t,n){var i=oe.hasOwnProperty(e.type)?le:ce;return function(r,a,o){var s,l=this.__on,c=i(t,a,o);if(l)for(var u=0,d=l.length;u<d;++u)if((s=l[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=t);this.addEventListener(e.type,c,n),s={type:e.type,name:e.name,value:t,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function pe(e,t,n){var i=M(e),r=i.CustomEvent;"function"==typeof r?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function fe(e,t){return function(){return pe(this,e,t)}}function me(e,t){return function(){return pe(this,e,t.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(oe={mouseenter:"mouseover",mouseleave:"mouseout"}));var ge=[null];function ve(e,t){this._groups=e,this._parents=t}function be(){return new ve([[document.documentElement]],ge)}ve.prototype=be.prototype={constructor:ve,select:function(e){"function"!=typeof e&&(e=d(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a,o,s=t[r],l=s.length,c=i[r]=new Array(l),u=0;u<l;++u)(a=s[u])&&(o=e.call(a,a.__data__,u,s))&&("__data__"in a&&(o.__data__=a.__data__),c[u]=o);return new ve(i,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=p(e));for(var t=this._groups,n=t.length,i=[],r=[],a=0;a<n;++a)for(var o,s=t[a],l=s.length,c=0;c<l;++c)(o=s[c])&&(i.push(e.call(o,o.__data__,c,s)),r.push(o));return new ve(i,r)},filter:function(e){"function"!=typeof e&&(e=f(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a,o=t[r],s=o.length,l=i[r]=[],c=0;c<s;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&l.push(a);return new ve(i,this._parents)},data:function(e,t){if(!e)return f=new Array(this.size()),u=-1,this.each((function(e){f[++u]=e})),f;var n,i=t?b:v,r=this._parents,a=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var o=a.length,s=new Array(o),l=new Array(o),c=new Array(o),u=0;u<o;++u){var d=r[u],h=a[u],p=h.length,f=e.call(d,d&&d.__data__,u,r),m=f.length,g=l[u]=new Array(m),y=s[u]=new Array(m);i(d,h,g,y,c[u]=new Array(p),f,t);for(var x,S,C=0,k=0;C<m;++C)if(x=g[C]){for(C>=k&&(k=C+1);!(S=y[k])&&++k<m;);x._next=S||null}}return(s=new ve(s,r))._enter=l,s._exit=c,s},enter:function(){return new ve(this._enter||this._groups.map(m),this._parents)},exit:function(){return new ve(this._exit||this._groups.map(m),this._parents)},join:function(e,t,n){var i=this.enter(),r=this,a=this.exit();return i="function"==typeof e?e(i):i.append(e+""),null!=t&&(r=t(r)),null==n?a.remove():n(a),i&&r?i.merge(r).order():r},merge:function(e){for(var t=this._groups,n=e._groups,i=t.length,r=Math.min(i,n.length),a=new Array(i),o=0;o<r;++o)for(var s,l=t[o],c=n[o],u=l.length,d=a[o]=new Array(u),h=0;h<u;++h)(s=l[h]||c[h])&&(d[h]=s);for(;o<i;++o)a[o]=t[o];return new ve(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],a=r.length-1,o=r[a];--a>=0;)(i=r[a])&&(o&&4^i.compareDocumentPosition(o)&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=y);for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var o,s=n[a],l=s.length,c=r[a]=new Array(l),u=0;u<l;++u)(o=s[u])&&(c[u]=o);c.sort(t)}return new ve(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r,a=t[n],o=0,s=a.length;o<s;++o)(r=a[o])&&e.call(r,r.__data__,o,a);return this},attr:function(e,t){var n=C(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?E:k:"function"==typeof t?n.local?O:P:n.local?w:_)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?A:"function"==typeof t?T:I)(e,t,null==n?"":n)):j(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?L:"function"==typeof t?F:D)(e,t)):this.node()[e]},classed:function(e,t){var n=R(e+"");if(arguments.length<2){for(var i=B(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?H:t?G:U)(n,t))},text:function(e){return arguments.length?this.each(null==e?X:("function"==typeof e?$:Y)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?W:("function"==typeof e?K:q)(e)):this.node().innerHTML},raise:function(){return this.each(J)},lower:function(){return this.each(Q)},append:function(e){var t="function"==typeof e?e:te(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:te(e),i=null==t?ne:"function"==typeof t?t:d(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(ie)},clone:function(e){return this.select(e?ae:re)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,r,a=ue(e+""),o=a.length;if(!(arguments.length<2)){for(s=t?he:de,null==n&&(n=!1),i=0;i<o;++i)this.each(s(a[i],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(i=0,l=s[c];i<o;++i)if((r=a[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?me:fe)(e,t))}};var ye=be,xe=function(e){return"string"==typeof e?new ve([[document.querySelector(e)]],[document.documentElement]):new ve([[e]],ge)},Se={value:function(){}};function Ce(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw new Error("illegal type: "+e);i[e]=[]}return new ke(i)}function ke(e){this._=e}function Ee(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function _e(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function we(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=Se,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}ke.prototype=Ce.prototype={constructor:ke,on:function(e,t){var n,i=this._,r=Ee(e+"",i),a=-1,o=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(n=(e=r[a]).type)i[n]=we(i[n],e.name,t);else if(null==t)for(n in i)i[n]=we(i[n],e.name,null);return this}for(;++a<o;)if((n=(e=r[a]).type)&&(n=_e(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ke(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(i=this._[e]).length;a<n;++a)i[a].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)}};var Pe=Ce,Oe=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Me(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Ae(){}var Ie="\\s*([+-]?\\d+)\\s*",Te="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",je="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Le=/^#([0-9a-f]{3,8})$/,De=new RegExp("^rgb\\("+[Ie,Ie,Ie]+"\\)$"),Fe=new RegExp("^rgb\\("+[je,je,je]+"\\)$"),Re=new RegExp("^rgba\\("+[Ie,Ie,Ie,Te]+"\\)$"),Be=new RegExp("^rgba\\("+[je,je,je,Te]+"\\)$"),Ne=new RegExp("^hsl\\("+[Te,je,je]+"\\)$"),Ve=new RegExp("^hsla\\("+[Te,je,je,Te]+"\\)$"),ze={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ge(){return this.rgb().formatHex()}function Ue(){return this.rgb().formatRgb()}function He(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Le.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Xe(t):3===n?new qe(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Ye(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Ye(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=De.exec(e))?new qe(t[1],t[2],t[3],1):(t=Fe.exec(e))?new qe(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Re.exec(e))?Ye(t[1],t[2],t[3],t[4]):(t=Be.exec(e))?Ye(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ne.exec(e))?Ze(t[1],t[2]/100,t[3]/100,1):(t=Ve.exec(e))?Ze(t[1],t[2]/100,t[3]/100,t[4]):ze.hasOwnProperty(e)?Xe(ze[e]):"transparent"===e?new qe(NaN,NaN,NaN,0):null}function Xe(e){return new qe(e>>16&255,e>>8&255,255&e,1)}function Ye(e,t,n,i){return i<=0&&(e=t=n=NaN),new qe(e,t,n,i)}function $e(e){return e instanceof Ae||(e=He(e)),e?new qe((e=e.rgb()).r,e.g,e.b,e.opacity):new qe}function We(e,t,n,i){return 1===arguments.length?$e(e):new qe(e,t,n,null==i?1:i)}function qe(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function Ke(){return"#"+Qe(this.r)+Qe(this.g)+Qe(this.b)}function Je(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Qe(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Ze(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tt(e,t,n,i)}function et(e){if(e instanceof tt)return new tt(e.h,e.s,e.l,e.opacity);if(e instanceof Ae||(e=He(e)),!e)return new tt;if(e instanceof tt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),a=Math.max(t,n,i),o=NaN,s=a-r,l=(a+r)/2;return s?(o=t===a?(n-i)/s+6*(n<i):n===a?(i-t)/s+2:(t-n)/s+4,s/=l<.5?a+r:2-a-r,o*=60):s=l>0&&l<1?0:o,new tt(o,s,l,e.opacity)}function tt(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function nt(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function it(e,t,n,i,r){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*i+o*r)/6}Oe(Ae,He,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Ge,formatHex:Ge,formatHsl:function(){return et(this).formatHsl()},formatRgb:Ue,toString:Ue}),Oe(qe,We,Me(Ae,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ke,formatHex:Ke,formatRgb:Je,toString:Je})),Oe(tt,(function(e,t,n,i){return 1===arguments.length?et(e):new tt(e,t,n,null==i?1:i)}),Me(Ae,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new tt(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new tt(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new qe(nt(e>=240?e-240:e+120,r,i),nt(e,r,i),nt(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var rt=function(e){return function(){return e}};function at(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):rt(isNaN(e)?t:e)}var ot=function e(t){var n=function(e){return 1==(e=+e)?at:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):rt(isNaN(t)?n:t)}}(t);function i(e,t){var i=n((e=We(e)).r,(t=We(t)).r),r=n(e.g,t.g),a=n(e.b,t.b),o=at(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=r(t),e.b=a(t),e.opacity=o(t),e+""}}return i.gamma=e,i}(1);function st(e){return function(t){var n,i,r=t.length,a=new Array(r),o=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=We(t[n]),a[n]=i.r||0,o[n]=i.g||0,s[n]=i.b||0;return a=e(a),o=e(o),s=e(s),i.opacity=1,function(e){return i.r=a(e),i.g=o(e),i.b=s(e),i+""}}}st((function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],a=e[i+1];return it((n-i/t)*t,i>0?e[i-1]:2*r-a,r,a,i<t-1?e[i+2]:2*a-r)}})),st((function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t);return it((n-i/t)*t,e[(i+t-1)%t],e[i%t],e[(i+1)%t],e[(i+2)%t])}}));var lt=function(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(a){for(n=0;n<i;++n)r[n]=e[n]*(1-a)+t[n]*a;return r}};function ct(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,a=new Array(r),o=new Array(i);for(n=0;n<r;++n)a[n]=bt(e[n],t[n]);for(;n<i;++n)o[n]=t[n];return function(e){for(n=0;n<r;++n)o[n]=a[n](e);return o}}var ut,dt,ht=function(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}},pt=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},ft=function(e,t){var n,i={},r={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?i[n]=bt(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}},mt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gt=new RegExp(mt.source,"g"),vt=function(e,t){var n,i,r,a=mt.lastIndex=gt.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=mt.exec(e))&&(i=gt.exec(t));)(r=i.index)>a&&(r=t.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:pt(n,i)})),a=gt.lastIndex;return a<t.length&&(r=t.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,i=0;i<t;++i)s[(n=l[i]).i]=n.x(e);return s.join("")})},bt=function(e,t){var n,i,r=typeof t;return null==t||"boolean"===r?rt(t):("number"===r?pt:"string"===r?(n=He(t))?(t=n,ot):vt:t instanceof He?ot:t instanceof Date?ht:(i=t,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(t)?ct:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?ft:pt:lt))(e,t)},yt=0,xt=0,St=0,Ct=0,kt=0,Et=0,_t="object"==typeof performance&&performance.now?performance:Date,wt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Pt(){return kt||(wt(Ot),kt=_t.now()+Et)}function Ot(){kt=0}function Mt(){this._call=this._time=this._next=null}function At(e,t,n){var i=new Mt;return i.restart(e,t,n),i}function It(){kt=(Ct=_t.now())+Et,yt=xt=0;try{!function(){Pt(),++yt;for(var e,t=ut;t;)(e=kt-t._time)>=0&&t._call.call(null,e),t=t._next;--yt}()}finally{yt=0,function(){for(var e,t,n=ut,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ut=t);dt=e,jt(i)}(),kt=0}}function Tt(){var e=_t.now(),t=e-Ct;t>1e3&&(Et-=t,Ct=e)}function jt(e){yt||(xt&&(xt=clearTimeout(xt)),e-kt>24?(e<1/0&&(xt=setTimeout(It,e-_t.now()-Et)),St&&(St=clearInterval(St))):(St||(Ct=_t.now(),St=setInterval(Tt,1e3)),yt=1,wt(It)))}Mt.prototype=At.prototype={constructor:Mt,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Pt():+n)+(null==t?0:+t),this._next||dt===this||(dt?dt._next=this:ut=this,dt=this),this._call=e,this._time=n,jt()},stop:function(){this._call&&(this._call=null,this._time=1/0,jt())}};var Lt=function(e,t,n){var i=new Mt;return i.restart((function(n){i.stop(),e(n+t)}),t=null==t?0:+t,n),i},Dt=Pe("start","end","cancel","interrupt"),Ft=[],Rt=function(e,t,n,i,r,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var i,r=e.__transition;function a(l){var c,u,d,h;if(1!==n.state)return s();for(c in r)if((h=r[c]).name===n.name){if(3===h.state)return Lt(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(Lt((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(l))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=h);i.length=u+1}}function o(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),a=-1,o=i.length;++a<o;)i[a].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var i in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=At((function(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}),0,n.time)}(e,n,{name:t,index:i,group:r,on:Dt,tween:Ft,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})};function Bt(e,t){var n=Vt(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Nt(e,t){var n=Vt(e,t);if(n.state>3)throw new Error("too late; already running");return n}function Vt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var zt,Gt,Ut,Ht,Xt=180/Math.PI,Yt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},$t=function(e,t,n,i,r,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),e*i<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(t,e)*Xt,skewX:Math.atan(l)*Xt,scaleX:o,scaleY:s}};function Wt(e,t,n,i){function r(e){return e.length?e.pop()+" ":""}return function(a,o){var s=[],l=[];return a=e(a),o=e(o),function(e,i,r,a,o,s){if(e!==r||i!==a){var l=o.push("translate(",null,t,null,n);s.push({i:l-4,x:pt(e,r)},{i:l-2,x:pt(i,a)})}else(r||a)&&o.push("translate("+r+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,l),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(r(n)+"rotate(",null,i)-2,x:pt(e,t)})):t&&n.push(r(n)+"rotate("+t+i)}(a.rotate,o.rotate,s,l),function(e,t,n,a){e!==t?a.push({i:n.push(r(n)+"skewX(",null,i)-2,x:pt(e,t)}):t&&n.push(r(n)+"skewX("+t+i)}(a.skewX,o.skewX,s,l),function(e,t,n,i,a,o){if(e!==n||t!==i){var s=a.push(r(a)+"scale(",null,",",null,")");o.push({i:s-4,x:pt(e,n)},{i:s-2,x:pt(t,i)})}else 1===n&&1===i||a.push(r(a)+"scale("+n+","+i+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,l),a=o=null,function(e){for(var t,n=-1,i=l.length;++n<i;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var qt=Wt((function(e){return"none"===e?Yt:(zt||(zt=document.createElement("DIV"),Gt=document.documentElement,Ut=document.defaultView),zt.style.transform=e,e=Ut.getComputedStyle(Gt.appendChild(zt),null).getPropertyValue("transform"),Gt.removeChild(zt),e=e.slice(7,-1).split(","),$t(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),Kt=Wt((function(e){return null==e?Yt:(Ht||(Ht=document.createElementNS("http://www.w3.org/2000/svg","g")),Ht.setAttribute("transform",e),(e=Ht.transform.baseVal.consolidate())?$t((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Yt)}),", ",")",")");function Jt(e,t){var n,i;return function(){var r=Nt(this,e),a=r.tween;if(a!==n)for(var o=0,s=(i=n=a).length;o<s;++o)if(i[o].name===t){(i=i.slice()).splice(o,1);break}r.tween=i}}function Qt(e,t,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var a=Nt(this,e),o=a.tween;if(o!==i){r=(i=o).slice();for(var s={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=s;break}l===c&&r.push(s)}a.tween=r}}function Zt(e,t,n){var i=e._id;return e.each((function(){var e=Nt(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Vt(e,i).value[t]}}var en=function(e,t){var n;return("number"==typeof t?pt:t instanceof He?ot:(n=He(t))?(t=n,ot):vt)(e,t)};function tn(e){return function(){this.removeAttribute(e)}}function nn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rn(e,t,n){var i,r,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===i?r:r=t(i=o,n)}}function an(e,t,n){var i,r,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===i?r:r=t(i=o,n)}}function on(e,t,n){var i,r,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(e))===(s=l+"")?null:o===i&&s===r?a:(r=s,a=t(i=o,l));this.removeAttribute(e)}}function sn(e,t,n){var i,r,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:o===i&&s===r?a:(r=s,a=t(i=o,l));this.removeAttributeNS(e.space,e.local)}}function ln(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function cn(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function un(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&cn(e,r)),n}return r._value=t,r}function dn(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&ln(e,r)),n}return r._value=t,r}function hn(e,t){return function(){Bt(this,e).delay=+t.apply(this,arguments)}}function pn(e,t){return t=+t,function(){Bt(this,e).delay=t}}function fn(e,t){return function(){Nt(this,e).duration=+t.apply(this,arguments)}}function mn(e,t){return t=+t,function(){Nt(this,e).duration=t}}function gn(e,t){if("function"!=typeof t)throw new Error;return function(){Nt(this,e).ease=t}}function vn(e,t,n){var i,r,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?Bt:Nt;return function(){var o=a(this,e),s=o.on;s!==i&&(r=(i=s).copy()).on(t,n),o.on=r}}var bn=ye.prototype.constructor;function yn(e){return function(){this.style.removeProperty(e)}}function xn(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function Sn(e,t,n){var i,r;function a(){var a=t.apply(this,arguments);return a!==r&&(i=(r=a)&&xn(e,a,n)),i}return a._value=t,a}function Cn(e){return function(t){this.textContent=e.call(this,t)}}function kn(e){var t,n;function i(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Cn(i)),t}return i._value=e,i}var En=0;function _n(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function wn(){return++En}var Pn=ye.prototype;_n.prototype=(function(e){return ye().transition(e)}).prototype={constructor:_n,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=d(e));for(var i=this._groups,r=i.length,a=new Array(r),o=0;o<r;++o)for(var s,l,c=i[o],u=c.length,h=a[o]=new Array(u),p=0;p<u;++p)(s=c[p])&&(l=e.call(s,s.__data__,p,c))&&("__data__"in s&&(l.__data__=s.__data__),h[p]=l,Rt(h[p],t,n,p,h,Vt(s,n)));return new _n(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=p(e));for(var i=this._groups,r=i.length,a=[],o=[],s=0;s<r;++s)for(var l,c=i[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,f=e.call(l,l.__data__,d,c),m=Vt(l,n),g=0,v=f.length;g<v;++g)(h=f[g])&&Rt(h,t,n,g,f,m);a.push(f),o.push(l)}return new _n(a,o,t,n)},filter:function(e){"function"!=typeof e&&(e=f(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var a,o=t[r],s=o.length,l=i[r]=[],c=0;c<s;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&l.push(a);return new _n(i,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=Math.min(i,n.length),a=new Array(i),o=0;o<r;++o)for(var s,l=t[o],c=n[o],u=l.length,d=a[o]=new Array(u),h=0;h<u;++h)(s=l[h]||c[h])&&(d[h]=s);for(;o<i;++o)a[o]=t[o];return new _n(a,this._parents,this._name,this._id)},selection:function(){return new bn(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=wn(),i=this._groups,r=i.length,a=0;a<r;++a)for(var o,s=i[a],l=s.length,c=0;c<l;++c)if(o=s[c]){var u=Vt(o,t);Rt(o,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new _n(i,this._parents,e,n)},call:Pn.call,nodes:Pn.nodes,node:Pn.node,size:Pn.size,empty:Pn.empty,each:Pn.each,on:function(e,t){var n=this._id;return arguments.length<2?Vt(this.node(),n).on.on(e):this.each(vn(n,e,t))},attr:function(e,t){var n=C(e),i="transform"===n?Kt:en;return this.attrTween(e,"function"==typeof t?(n.local?sn:on)(n,i,Zt(this,"attr."+e,t)):null==t?(n.local?nn:tn)(n):(n.local?an:rn)(n,i,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var i=C(e);return this.tween(n,(i.local?un:dn)(i,t))},style:function(e,t,n){var i="transform"==(e+="")?qt:en;return null==t?this.styleTween(e,function(e,t){var n,i,r;return function(){var a=j(this,e),o=(this.style.removeProperty(e),j(this,e));return a===o?null:a===n&&o===i?r:r=t(n=a,i=o)}}(e,i)).on("end.style."+e,yn(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var i,r,a;return function(){var o=j(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=j(this,e)),o===l?null:o===i&&l===r?a:(r=l,a=t(i=o,s))}}(e,i,Zt(this,"style."+e,t))).each(function(e,t){var n,i,r,a,o="style."+t,s="end."+o;return function(){var l=Nt(this,e),c=l.on,u=null==l.value[o]?a||(a=yn(t)):void 0;c===n&&r===u||(i=(n=c).copy()).on(s,r=u),l.on=i}}(this._id,e)):this.styleTween(e,function(e,t,n){var i,r,a=n+"";return function(){var o=j(this,e);return o===a?null:o===i?r:r=t(i=o,n)}}(e,i,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,Sn(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Zt(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,kn(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i,r=Vt(this.node(),n).tween,a=0,o=r.length;a<o;++a)if((i=r[a]).name===e)return i.value;return null}return this.each((null==t?Jt:Qt)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?hn:pn)(t,e)):Vt(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?fn:mn)(t,e)):Vt(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(gn(t,e)):Vt(this.node(),t).ease},end:function(){var e,t,n=this,i=n._id,r=n.size();return new Promise((function(a,o){var s={value:o},l={value:function(){0==--r&&a()}};n.each((function(){var n=Nt(this,i),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}))}))}};var On={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Mn(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return On.time=Pt(),On;return n}function An(e){return{type:e}}ye.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,i,r,a=e.__transition,o=!0;if(a){for(r in t=null==t?null:t+"",a)(n=a[r]).name===t?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[r]):o=!1;o&&delete e.__transition}}(this,e)}))},ye.prototype.transition=function(e){var t,n;e instanceof _n?(t=e._id,e=e._name):(t=wn(),(n=On).time=Pt(),e=null==e?null:e+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var o,s=i[a],l=s.length,c=0;c<l;++c)(o=s[c])&&Rt(o,e,t,c,s,n||Mn(o,t));return new _n(i,this._parents,e,t)},["w","e"].map(An),["n","s"].map(An),["n","w","e","s","nw","ne","sw","se"].map(An);var In=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},Tn=function(e){var t=e,n=e;function i(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var a=i+r>>>1;n(e[a],t)<0?i=a+1:r=a}return i}return 1===e.length&&(t=function(t,n){return e(t)-n},n=function(e){return function(t,n){return In(e(t),n)}}(e)),{left:i,center:function(e,n,r,a){null==r&&(r=0),null==a&&(a=e.length);var o=i(e,n,r,a-1);return o>r&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var a=i+r>>>1;n(e[a],t)>0?r=a:i=a+1}return i}}},jn=Math.sqrt(50),Ln=Math.sqrt(10),Dn=Math.sqrt(2);function Fn(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,r);return r>=0?(a>=jn?10:a>=Ln?5:a>=Dn?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(a>=jn?10:a>=Ln?5:a>=Dn?2:1)}var Rn=new Date,Bn=new Date;function Nn(e,t,n,i){function r(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return r.floor=function(t){return e(t=new Date(+t)),t},r.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},r.round=function(e){var t=r(e),n=r.ceil(e);return e-t<n-e?t:n},r.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},r.range=function(n,i,a){var o,s=[];if(n=r.ceil(n),a=null==a?1:Math.floor(a),!(n<i&&a>0))return s;do{s.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<i);return s},r.filter=function(n){return Nn((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,i){if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););}))},n&&(r.count=function(t,i){return Rn.setTime(+t),Bn.setTime(+i),e(Rn),e(Bn),Math.floor(n(Rn,Bn))},r.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(i?function(t){return i(t)%e==0}:function(t){return r.count(0,t)%e==0}):r:null}),r}function Vn(e){return Nn((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}Nn((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})).every=function(e){return isFinite(e=Math.floor(e))&&e>0?Nn((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null},Nn((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),Vn(0),Vn(1),Vn(2),Vn(3),Vn(4),Vn(5),Vn(6),Nn((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),(function(e){return e.getDate()-1})),Nn((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()})),Nn((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getMinutes()})),Nn((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()}));var zn=Nn((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));zn.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Nn((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):zn:null};var Gn=new Date,Un=new Date;function Hn(e,t,n,i){function r(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return r.floor=function(t){return e(t=new Date(+t)),t},r.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},r.round=function(e){var t=r(e),n=r.ceil(e);return e-t<n-e?t:n},r.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},r.range=function(n,i,a){var o,s=[];if(n=r.ceil(n),a=null==a?1:Math.floor(a),!(n<i&&a>0))return s;do{s.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<i);return s},r.filter=function(n){return Hn((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,i){if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););}))},n&&(r.count=function(t,i){return Gn.setTime(+t),Un.setTime(+i),e(Gn),e(Un),Math.floor(n(Gn,Un))},r.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(i?function(t){return i(t)%e==0}:function(t){return r.count(0,t)%e==0}):r:null}),r}function Xn(e){return Hn((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/6048e5}))}var Yn=Xn(0),$n=Xn(1),Wn=(Xn(2),Xn(3),Xn(4)),qn=(Xn(5),Xn(6),Hn((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1})));function Kn(e){return Hn((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}var Jn=Kn(0),Qn=Kn(1),Zn=(Kn(2),Kn(3),Kn(4)),ei=(Kn(5),Kn(6),Hn((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),(function(e){return e.getDate()-1}))),ti=Hn((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));ti.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Hn((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var ni=ti,ii=Hn((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));ii.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Hn((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var ri=ii,ai={"-":"",_:" ",0:"0"},oi=/[\\^$*+?|[\]().{}]/g;function si(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(t)+r:r)}function li(e){return e.replace(oi,"\\$&")}function ci(e){return new RegExp("^(?:"+e.map(li).join("|")+")","i")}function ui(e){for(var t={},n=-1,i=e.length;++n<i;)t[e[n].toLowerCase()]=n;return t}function di(e,t){return si(e.getDate(),t,2)}function hi(e,t){return si(e.getHours(),t,2)}function pi(e,t){return si(e.getHours()%12||12,t,2)}function fi(e,t){return si(1+ei.count(ni(e),e),t,3)}function mi(e,t){return si(e.getMilliseconds(),t,3)}function gi(e,t){return mi(e,t)+"000"}function vi(e,t){return si(e.getMonth()+1,t,2)}function bi(e,t){return si(e.getMinutes(),t,2)}function yi(e,t){return si(e.getSeconds(),t,2)}function xi(e){var t=e.getDay();return 0===t?7:t}function Si(e,t){return si(Jn.count(ni(e)-1,e),t,2)}function Ci(e){var t=e.getDay();return t>=4||0===t?Zn(e):Zn.ceil(e)}function ki(e,t){return e=Ci(e),si(Zn.count(ni(e),e)+(4===ni(e).getDay()),t,2)}function Ei(e){return e.getDay()}function _i(e,t){return si(Qn.count(ni(e)-1,e),t,2)}function wi(e,t){return si(e.getFullYear()%100,t,2)}function Pi(e,t){return si((e=Ci(e)).getFullYear()%100,t,2)}function Oi(e,t){return si(e.getFullYear()%1e4,t,4)}function Mi(e,t){var n=e.getDay();return si((e=n>=4||0===n?Zn(e):Zn.ceil(e)).getFullYear()%1e4,t,4)}function Ai(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+si(t/60|0,"0",2)+si(t%60,"0",2)}function Ii(e,t){return si(e.getUTCDate(),t,2)}function Ti(e,t){return si(e.getUTCHours(),t,2)}function ji(e,t){return si(e.getUTCHours()%12||12,t,2)}function Li(e,t){return si(1+qn.count(ri(e),e),t,3)}function Di(e,t){return si(e.getUTCMilliseconds(),t,3)}function Fi(e,t){return Di(e,t)+"000"}function Ri(e,t){return si(e.getUTCMonth()+1,t,2)}function Bi(e,t){return si(e.getUTCMinutes(),t,2)}function Ni(e,t){return si(e.getUTCSeconds(),t,2)}function Vi(e){var t=e.getUTCDay();return 0===t?7:t}function zi(e,t){return si(Yn.count(ri(e)-1,e),t,2)}function Gi(e){var t=e.getUTCDay();return t>=4||0===t?Wn(e):Wn.ceil(e)}function Ui(e,t){return e=Gi(e),si(Wn.count(ri(e),e)+(4===ri(e).getUTCDay()),t,2)}function Hi(e){return e.getUTCDay()}function Xi(e,t){return si($n.count(ri(e)-1,e),t,2)}function Yi(e,t){return si(e.getUTCFullYear()%100,t,2)}function $i(e,t){return si((e=Gi(e)).getUTCFullYear()%100,t,2)}function Wi(e,t){return si(e.getUTCFullYear()%1e4,t,4)}function qi(e,t){var n=e.getUTCDay();return si((e=n>=4||0===n?Wn(e):Wn.ceil(e)).getUTCFullYear()%1e4,t,4)}function Ki(){return"+0000"}function Ji(){return"%"}function Qi(e){return+e}function Zi(e){return Math.floor(+e/1e3)}!function(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=(ci(r),ui(r),ci(a),ui(a),ci(o),ui(o),ci(s),ui(s),ci(l),ui(l),{a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:di,e:di,f:gi,g:Pi,G:Mi,H:hi,I:pi,j:fi,L:mi,m:vi,M:bi,p:function(e){return r[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Qi,s:Zi,S:yi,u:xi,U:Si,V:ki,w:Ei,W:_i,x:null,X:null,y:wi,Y:Oi,Z:Ai,"%":Ji}),u={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Ii,e:Ii,f:Fi,g:$i,G:qi,H:Ti,I:ji,j:Li,L:Di,m:Ri,M:Bi,p:function(e){return r[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Qi,s:Zi,S:Ni,u:Vi,U:zi,V:Ui,w:Hi,W:Xi,x:null,X:null,y:Yi,Y:Wi,Z:Ki,"%":Ji};function d(e,t){return function(n){var i,r,a,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(r=ai[i=e.charAt(++s)])?i=e.charAt(++s):r="e"===i?" ":"0",(a=t[i])&&(i=a(n,r)),o.push(i),l=s+1);return o.push(e.slice(l,s)),o.join("")}}c.x=d(n,c),c.X=d(i,c),c.c=d(t,c),u.x=d(n,u),u.X=d(i,u),u.c=d(t,u)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var er=function(e){return null===e?NaN:+e},tr=Tn(In).right;Tn(er);var nr=tr,ir=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}};function rr(e){return+e}var ar=[0,1];function or(e){return e}function sr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function lr(e,t,n){var i=e[0],r=e[1],a=t[0],o=t[1];return r<i?(i=sr(r,i),a=n(o,a)):(i=sr(i,r),a=n(a,o)),function(e){return a(i(e))}}function cr(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),a=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)r[o]=sr(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=nr(e,t,1,i)-1;return a[n](r[n](t))}}function ur(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dr(){return function(){var e,t,n,i,r,a,o=ar,s=ar,l=bt,c=or;function u(){var e,t,n,l=Math.min(o.length,s.length);return c!==or&&((e=o[0])>(t=o[l-1])&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),i=l>2?cr:lr,r=a=null,d}function d(t){return isNaN(t=+t)?n:(r||(r=i(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=i(s,o.map(e),pt)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,rr),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=ir,u()},d.clamp=function(e){return arguments.length?(c=!!e||or,u()):c!==or},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,i){return e=n,t=i,u()}}()(or,or)}function hr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var pr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fr(e){if(!(t=pr.exec(e)))throw new Error("invalid format: "+e);var t;return new mr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function mr(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function gr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}fr.prototype=mr.prototype,mr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var vr,br,yr,xr,Sr=function(e){return(e=gr(Math.abs(e)))?e[1]:NaN},Cr=function(e,t){var n=gr(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},kr={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Cr(100*e,t)},r:Cr,s:function(e,t){var n=gr(e,t);if(!n)return e+"";var i=n[0],r=n[1],a=r-(vr=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+gr(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},Er=function(e){return e},_r=Array.prototype.map,wr=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Pr(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var i,r,a,o,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((i=t<e)&&(r=e,e=t,t=r),0===(o=Fn(e,t,n))||!isFinite(o))return[];if(o>0)for(e=Math.ceil(e/o),t=Math.floor(t/o),a=new Array(r=Math.ceil(t-e+1));++s<r;)a[s]=(e+s)*o;else for(o=-o,e=Math.ceil(e*o),t=Math.floor(t*o),a=new Array(r=Math.ceil(t-e+1));++s<r;)a[s]=(e+s)/o;return i&&a.reverse(),a}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return function(e,t,n,i){var r,a=function(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),a=i/r;return a>=jn?r*=10:a>=Ln?r*=5:a>=Dn&&(r*=2),t<e?-r:r}(e,t,n);switch((i=fr(null==i?",f":i)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Sr(t)/3)))-Sr(Math.abs(e)))}(a,o))||(i.precision=r),xr(i,o);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Sr(t)-Sr(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(e){return Math.max(0,-Sr(Math.abs(e)))}(a))||(i.precision=r-2*("%"===i.type))}return yr(i)}(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,r,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(r=l,l=c,c=r,r=o,o=s,s=r);u-- >0;){if((r=Fn(l,c,n))===i)return a[o]=l,a[s]=c,t(a);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return e},e}function Or(){var e=dr();return e.copy=function(){return ur(e,Or())},hr.apply(e,arguments),Pr(e)}br=function(e){var t,n,i=void 0===e.grouping||void 0===e.thousands?Er:(t=_r.call(e.grouping,Number),n=e.thousands+"",function(e,i){for(var r=e.length,a=[],o=0,s=t[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),a.push(e.substring(r-=s,r+s)),!((l+=s+1)>i));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),r=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Er:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(_r.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"-":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=fr(e)).fill,n=e.align,d=e.sign,h=e.symbol,p=e.zero,f=e.width,m=e.comma,g=e.precision,v=e.trim,b=e.type;"n"===b?(m=!0,b="g"):kr[b]||(void 0===g&&(g=12),v=!0,b="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var y="$"===h?r:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",x="$"===h?a:/[%p]/.test(b)?l:"",S=kr[b],C=/[defgprs%]/.test(b);function k(e){var r,a,l,h=y,k=x;if("c"===b)k=S(e)+k,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:S(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,i=1,r=-1;i<n;++i)switch(e[i]){case".":r=t=i;break;case"0":0===r&&(r=i),t=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),E&&0==+e&&"+"!==d&&(E=!1),h=(E?"("===d?d:c:"-"===d||"("===d?"":d)+h,k=("s"===b?wr[8+vr/3]:"")+k+(E&&"("===d?")":""),C)for(r=-1,a=e.length;++r<a;)if(48>(l=e.charCodeAt(r))||l>57){k=(46===l?o+e.slice(r+1):e.slice(r))+k,e=e.slice(0,r);break}}m&&!p&&(e=i(e,1/0));var _=h.length+e.length+k.length,w=_<f?new Array(f-_+1).join(t):"";switch(m&&p&&(e=i(w+e,w.length?f-k.length:1/0),w=""),n){case"<":e=h+e+k+w;break;case"=":e=h+w+e+k;break;case"^":e=w.slice(0,_=w.length>>1)+h+e+k+w.slice(_);break;default:e=w+h+e+k}return s(e)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=fr(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(Sr(t)/3))),r=Math.pow(10,-i),a=wr[8+i/3];return function(e){return n(r*e)+a}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),yr=br.format,xr=br.formatPrefix;var Mr=function(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(r);++i<r;)a[i]=e+i*n;return a},Ar=Symbol("implicit");function Ir(){var e=new Map,t=[],n=[],i=Ar;function r(r){var a=r+"",o=e.get(a);if(!o){if(i!==Ar)return i;e.set(a,o=t.push(r))}return n[(o-1)%n.length]}return r.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var i,a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o+"";e.has(s)||e.set(s,t.push(o))}}catch(l){a.e(l)}finally{a.f()}return r},r.range=function(e){return arguments.length?(n=Array.from(e),r):n.slice()},r.unknown=function(e){return arguments.length?(i=e,r):i},r.copy=function(){return Ir(t,n).unknown(i)},hr.apply(r,arguments),r}function Tr(){var e,t,n=Ir().unknown(void 0),i=n.domain,r=n.range,a=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var n=i().length,d=o<a,h=d?o:a,p=d?a:o;e=(p-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(p-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var f=Mr(n).map((function(t){return h+e*t}));return r(d?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(i(e),d()):i()},n.range=function(e){var t;return arguments.length?(t=_slicedToArray(e,2),a=t[0],o=t[1],a=+a,o=+o,d()):[a,o]},n.rangeRound=function(e){var t;return t=_slicedToArray(e,2),a=t[0],o=t[1],a=+a,o=+o,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return Tr(i(),[a,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},hr.apply(d(),arguments)}function jr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:er;if(i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,a=Math.floor(r),o=+n(e[a],a,e);return o+(+n(e[a+1],a+1,e)-o)*(r-a)}}var Lr=Math.PI,Dr=2*Lr,Fr=Dr-1e-6;function Rr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Br(){return new Rr}Rr.prototype=Br.prototype={constructor:Rr,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(e,t,n,i,r){var a=this._x1,o=this._y1,s=(n=+n)-(e=+e),l=(i=+i)-(t=+t),c=a-e,u=o-t,d=c*c+u*u;if((r=+r)<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>1e-6)if(Math.abs(u*s-l*c)>1e-6&&r){var h=n-a,p=i-o,f=s*s+l*l,m=h*h+p*p,g=Math.sqrt(f),v=Math.sqrt(d),b=r*Math.tan((Lr-Math.acos((f+d-m)/(2*g*v)))/2),y=b/v,x=b/g;Math.abs(y-1)>1e-6&&(this._+="L"+(e+y*c)+","+(t+y*u)),this._+="A"+r+","+r+",0,0,"+ +(u*h>c*p)+","+(this._x1=e+x*s)+","+(this._y1=t+x*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,i,r,a){e=+e,t=+t,a=!!a;var o=(n=+n)*Math.cos(i),s=n*Math.sin(i),l=e+o,c=t+s,u=1^a,d=a?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+l+","+c),n&&(d<0&&(d=d%Dr+Dr),d>Fr?this._+="A"+n+","+n+",0,1,"+u+","+(e-o)+","+(t-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):d>1e-6&&(this._+="A"+n+","+n+",0,"+ +(d>=Lr)+","+u+","+(this._x1=e+n*Math.cos(r))+","+(this._y1=t+n*Math.sin(r))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Nr=Br,Vr=function(e){return function(){return e}},zr=function(){};function Gr(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Ur(e,t){this._context=e,this._k=(1-t)/6}function Hr(e,t){this._context=e,this._k=(1-t)/6}Ur.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Gr(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Gr(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return new Ur(e,t)}return n.tension=function(t){return e(+t)},n}(0),Hr.prototype={areaStart:zr,areaEnd:zr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Gr(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return new Hr(e,t)}return n.tension=function(t){return e(+t)},n}(0);var Xr=Math.abs,Yr=Math.atan2,$r=Math.cos,Wr=Math.max,qr=Math.min,Kr=Math.sin,Jr=Math.sqrt,Qr=Math.PI,Zr=Qr/2,ea=2*Qr;function ta(e){return e>1?0:e<-1?Qr:Math.acos(e)}function na(e){return e>=1?Zr:e<=-1?-Zr:Math.asin(e)}function ia(e){return e.innerRadius}function ra(e){return e.outerRadius}function aa(e){return e.startAngle}function oa(e){return e.endAngle}function sa(e){return e&&e.padAngle}function la(e,t,n,i,r,a,o,s){var l=n-e,c=i-t,u=o-r,d=s-a,h=d*l-u*c;if(!(h*h<1e-12))return[e+(h=(u*(t-a)-d*(e-r))/h)*l,t+h*c]}function ca(e,t,n,i,r,a,o){var s=e-n,l=t-i,c=(o?a:-a)/Jr(s*s+l*l),u=c*l,d=-c*s,h=e+u,p=t+d,f=n+u,m=i+d,g=(h+f)/2,v=(p+m)/2,b=f-h,y=m-p,x=b*b+y*y,S=r-a,C=h*m-f*p,k=(y<0?-1:1)*Jr(Wr(0,S*S*x-C*C)),E=(C*y-b*k)/x,_=(-C*b-y*k)/x,w=(C*y+b*k)/x,P=(-C*b+y*k)/x,O=E-g,M=_-v,A=w-g,I=P-v;return O*O+M*M>A*A+I*I&&(E=w,_=P),{cx:E,cy:_,x01:-u,y01:-d,x11:E*(r/S-1),y11:_*(r/S-1)}}var ua=function(){var e=ia,t=ra,n=Vr(0),i=null,r=aa,a=oa,o=sa,s=null;function l(){var l,c,u=+e.apply(this,arguments),d=+t.apply(this,arguments),h=r.apply(this,arguments)-Zr,p=a.apply(this,arguments)-Zr,f=Xr(p-h),m=p>h;if(s||(s=l=Nr()),d<u&&(c=d,d=u,u=c),d>1e-12)if(f>ea-1e-12)s.moveTo(d*$r(h),d*Kr(h)),s.arc(0,0,d,h,p,!m),u>1e-12&&(s.moveTo(u*$r(p),u*Kr(p)),s.arc(0,0,u,p,h,m));else{var g,v,b=h,y=p,x=h,S=p,C=f,k=f,E=o.apply(this,arguments)/2,_=E>1e-12&&(i?+i.apply(this,arguments):Jr(u*u+d*d)),w=qr(Xr(d-u)/2,+n.apply(this,arguments)),P=w,O=w;if(_>1e-12){var M=na(_/u*Kr(E)),A=na(_/d*Kr(E));(C-=2*M)>1e-12?(x+=M*=m?1:-1,S-=M):(C=0,x=S=(h+p)/2),(k-=2*A)>1e-12?(b+=A*=m?1:-1,y-=A):(k=0,b=y=(h+p)/2)}var I=d*$r(b),T=d*Kr(b),j=u*$r(S),L=u*Kr(S);if(w>1e-12){var D,F=d*$r(y),R=d*Kr(y),B=u*$r(x),N=u*Kr(x);if(f<Qr&&(D=la(I,T,B,N,F,R,j,L))){var V=I-D[0],z=T-D[1],G=F-D[0],U=R-D[1],H=1/Kr(ta((V*G+z*U)/(Jr(V*V+z*z)*Jr(G*G+U*U)))/2),X=Jr(D[0]*D[0]+D[1]*D[1]);P=qr(w,(u-X)/(H-1)),O=qr(w,(d-X)/(H+1))}}k>1e-12?O>1e-12?(g=ca(B,N,I,T,d,O,m),v=ca(F,R,j,L,d,O,m),s.moveTo(g.cx+g.x01,g.cy+g.y01),O<w?s.arc(g.cx,g.cy,O,Yr(g.y01,g.x01),Yr(v.y01,v.x01),!m):(s.arc(g.cx,g.cy,O,Yr(g.y01,g.x01),Yr(g.y11,g.x11),!m),s.arc(0,0,d,Yr(g.cy+g.y11,g.cx+g.x11),Yr(v.cy+v.y11,v.cx+v.x11),!m),s.arc(v.cx,v.cy,O,Yr(v.y11,v.x11),Yr(v.y01,v.x01),!m))):(s.moveTo(I,T),s.arc(0,0,d,b,y,!m)):s.moveTo(I,T),u>1e-12&&C>1e-12?P>1e-12?(g=ca(j,L,F,R,u,-P,m),v=ca(I,T,B,N,u,-P,m),s.lineTo(g.cx+g.x01,g.cy+g.y01),P<w?s.arc(g.cx,g.cy,P,Yr(g.y01,g.x01),Yr(v.y01,v.x01),!m):(s.arc(g.cx,g.cy,P,Yr(g.y01,g.x01),Yr(g.y11,g.x11),!m),s.arc(0,0,u,Yr(g.cy+g.y11,g.cx+g.x11),Yr(v.cy+v.y11,v.cx+v.x11),m),s.arc(v.cx,v.cy,P,Yr(v.y11,v.x11),Yr(v.y01,v.x01),!m))):s.arc(0,0,u,S,x,m):s.lineTo(j,L)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-Qr/2;return[$r(i)*n,Kr(i)*n]},l.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Vr(+t),l):e},l.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Vr(+e),l):t},l.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Vr(+e),l):n},l.padRadius=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:Vr(+e),l):i},l.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:Vr(+e),l):r},l.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:Vr(+e),l):a},l.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:Vr(+e),l):o},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l},da=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},ha=function(e){return e},pa=function(e,t,n,i,r){for(var a,o=e.children,s=-1,l=o.length,c=e.value&&(i-t)/e.value;++s<l;)(a=o[s]).y0=n,a.y1=r,a.x0=t,a.x1=t+=a.value*c},fa=function(e,t,n,i,r){for(var a,o=e.children,s=-1,l=o.length,c=e.value&&(r-n)/e.value;++s<l;)(a=o[s]).x0=t,a.x1=i,a.y0=n,a.y1=n+=a.value*c};function ma(e){var t=0,n=e.children,i=n&&n.length;if(i)for(;--i>=0;)t+=n[i].value;else t=1;e.value=t}function ga(e,t){var n,i,r,a,o,s=new xa(e),l=+e.value&&(s.value=e.value),c=[s];for(null==t&&(t=va);n=c.pop();)if(l&&(n.value=+n.data.value),(r=t(n.data))&&(o=r.length))for(n.children=new Array(o),a=o-1;a>=0;--a)c.push(i=n.children[a]=new xa(r[a])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(ya)}function va(e){return e.children}function ba(e){e.data=e.data.data}function ya(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function xa(e){this.data=e,this.depth=this.height=0,this.parent=null}!function e(t){function n(e,n,i,r,a){!function(e,t,n,i,r,a){for(var o,s,l,c,u,d,h,p,f,m,g,v=[],b=t.children,y=0,x=0,S=b.length,C=t.value;y<S;){l=r-n,c=a-i;do{u=b[x++].value}while(!u&&x<S);for(d=h=u,g=u*u*(m=Math.max(c/l,l/c)/(C*e)),f=Math.max(h/g,g/d);x<S;++x){if(u+=s=b[x].value,s<d&&(d=s),s>h&&(h=s),g=u*u*m,(p=Math.max(h/g,g/d))>f){u-=s;break}f=p}v.push(o={value:u,dice:l<c,children:b.slice(y,x)}),o.dice?pa(o,n,i,r,C?i+=c*u/C:a):fa(o,n,i,C?n+=l*u/C:r,a),C-=u,y=x}}(t,e,n,i,r,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}((1+Math.sqrt(5))/2),xa.prototype=ga.prototype={constructor:xa,count:function(){return this.eachAfter(ma)},each:function(e){var t,n,i,r,a=this,o=[a];do{for(t=o.reverse(),o=[];a=t.pop();)if(e(a),n=a.children)for(i=0,r=n.length;i<r;++i)o.push(n[i])}while(o.length);return this},eachAfter:function(e){for(var t,n,i,r=this,a=[r],o=[];r=a.pop();)if(o.push(r),t=r.children)for(n=0,i=t.length;n<i;++n)a.push(t[n]);for(;r=o.pop();)e(r);return this},eachBefore:function(e){for(var t,n,i=this,r=[i];i=r.pop();)if(e(i),t=i.children)for(n=t.length-1;n>=0;--n)r.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,i=t.children,r=i&&i.length;--r>=0;)n+=i[r].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),r=null;for(e=n.pop(),t=i.pop();e===t;)r=e,e=n.pop(),t=i.pop();return r}(t,e),i=[t];t!==n;)i.push(t=t.parent);for(var r=i.length;e!==n;)i.splice(r,0,e),e=e.parent;return i},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return ga(this).eachBefore(ba)}};var Sa=n("jhN1");n.d(t,"a",(function(){return $s})),n.d(t,"b",(function(){return Ws})),n.d(t,"c",(function(){return Cl})),n.d(t,"d",(function(){return ml}));var Ca=["caretElm"];function ka(e,t){}var Ea=function(e){return{model:e}};function _a(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"span"),r["\u0275\u0275template"](1,ka,0,0,"ng-template",5),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngTemplateOutlet",n.template)("ngTemplateOutletContext",r["\u0275\u0275pureFunction1"](2,Ea,n.context))}}function wa(e,t){if(1&e&&r["\u0275\u0275element"](0,"span",6),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("innerHTML",n.title,r["\u0275\u0275sanitizeHtml"])}}function Pa(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275namespaceHTML"](),r["\u0275\u0275element"](0,"ngx-charts-scale-legend",4)),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("horizontal",n.legendOptions&&"below"===n.legendOptions.position)("valueRange",n.legendOptions.domain)("colors",n.legendOptions.colors)("height",n.view[1])("width",n.legendWidth)}}function Oa(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275namespaceHTML"](),r["\u0275\u0275elementStart"](0,"ngx-charts-legend",5),r["\u0275\u0275listener"]("labelClick",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().legendLabelClick.emit(e)}))("labelActivate",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().legendLabelActivate.emit(e)}))("labelDeactivate",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().legendLabelDeactivate.emit(e)})),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("horizontal",i.legendOptions&&"below"===i.legendOptions.position)("data",i.legendOptions.domain)("title",i.legendOptions.title)("colors",i.legendOptions.colors)("height",i.view[1])("width",i.legendWidth)("activeEntries",i.activeEntries)}}var Ma=["*"],Aa=["ngx-charts-axis-label",""],Ia=["ticksel"],Ta=["ngx-charts-x-axis-ticks",""];function ja(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",3),r["\u0275\u0275elementStart"](1,"title"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"text",4),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=r["\u0275\u0275nextContext"]();r["\u0275\u0275attribute"]("transform",i.tickTransform(n)),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](i.tickFormat(n)),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("font-size","12px"),r["\u0275\u0275attribute"]("text-anchor",i.textAnchor)("transform",i.textTransform),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",i.tickTrim(i.tickFormat(n))," ")}}function La(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275element"](1,"line",6),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275attribute"]("transform",n.gridLineTransform()),r["\u0275\u0275advance"](1),r["\u0275\u0275attribute"]("y1",0-n.gridLineHeight)}}function Da(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275template"](1,La,2,2,"g",5),r["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=r["\u0275\u0275nextContext"]();r["\u0275\u0275attribute"]("transform",i.tickTransform(n)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",i.showGridLines)}}var Fa=["ngx-charts-x-axis",""];function Ra(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",2),r["\u0275\u0275listener"]("dimensionsChanged",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().emitTicksHeight(e)})),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("trimTicks",i.trimTicks)("rotateTicks",i.rotateTicks)("maxTickLength",i.maxTickLength)("tickFormatting",i.tickFormatting)("tickArguments",i.tickArguments)("tickStroke",i.tickStroke)("scale",i.xScale)("orient",i.xOrient)("showGridLines",i.showGridLines)("gridLineHeight",i.dims.height)("width",i.dims.width)("tickValues",i.ticks)}}function Ba(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"g",3)),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("label",n.labelText)("offset",n.labelOffset)("orient","bottom")("height",n.dims.height)("width",n.dims.width)}}var Na=["ngx-charts-y-axis-ticks",""];function Va(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",4),r["\u0275\u0275elementStart"](1,"title"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"text",5),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=r["\u0275\u0275nextContext"]();r["\u0275\u0275attribute"]("transform",i.transform(n)),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](i.tickFormat(n)),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("font-size","12px"),r["\u0275\u0275attribute"]("dy",i.dy)("x",i.x1)("y",i.y1)("text-anchor",i.textAnchor),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",i.tickTrim(i.tickFormat(n))," ")}}function za(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"path",6)),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275attribute"]("d",n.referenceAreaPath)("transform",n.gridLineTransform())}}function Ga(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"line",9)),2&e){var n=r["\u0275\u0275nextContext"](3);r["\u0275\u0275attribute"]("x2",n.gridLineWidth)}}function Ua(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"line",9)),2&e){var n=r["\u0275\u0275nextContext"](3);r["\u0275\u0275attribute"]("x2",0-n.gridLineWidth)}}function Ha(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275template"](1,Ga,1,1,"line",8),r["\u0275\u0275template"](2,Ua,1,1,"line",8),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"](2);r["\u0275\u0275attribute"]("transform",n.gridLineTransform()),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf","left"===n.orient),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf","right"===n.orient)}}function Xa(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275template"](1,Ha,3,3,"g",7),r["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,i=r["\u0275\u0275nextContext"]();r["\u0275\u0275attribute"]("transform",i.transform(n)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",i.showGridLines)}}function Ya(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275elementStart"](1,"title"),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"text",11),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"](2).$implicit,i=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](i.tickTrim(i.tickFormat(n.value))),r["\u0275\u0275advance"](1),r["\u0275\u0275attribute"]("dy",i.dy)("y",-6)("x",i.gridLineWidth)("text-anchor",i.textAnchor),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function $a(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275element"](1,"line",10),r["\u0275\u0275template"](2,Ya,5,6,"g",7),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]().$implicit,i=r["\u0275\u0275nextContext"]();r["\u0275\u0275attribute"]("transform",i.transform(n.value)),r["\u0275\u0275advance"](1),r["\u0275\u0275attribute"]("x2",i.gridLineWidth)("transform",i.gridLineTransform()),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",i.showRefLabels)}}function Wa(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275template"](1,$a,3,4,"g",7),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.showRefLines)}}var qa=["ngx-charts-y-axis",""];function Ka(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",2),r["\u0275\u0275listener"]("dimensionsChanged",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().emitTicksWidth(e)})),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("trimTicks",i.trimTicks)("maxTickLength",i.maxTickLength)("tickFormatting",i.tickFormatting)("tickArguments",i.tickArguments)("tickValues",i.ticks)("tickStroke",i.tickStroke)("scale",i.yScale)("orient",i.yOrient)("showGridLines",i.showGridLines)("gridLineWidth",i.dims.width)("referenceLines",i.referenceLines)("showRefLines",i.showRefLines)("showRefLabels",i.showRefLabels)("height",i.dims.height)}}function Ja(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"g",3)),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("label",n.labelText)("offset",n.labelOffset)("orient",n.yOrient)("height",n.dims.height)("width",n.dims.width)}}var Qa=["ngx-charts-svg-linear-gradient",""];function Za(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"stop")),2&e){var n=t.$implicit;r["\u0275\u0275styleProp"]("stop-color",n.color)("stop-opacity",n.opacity),r["\u0275\u0275attribute"]("offset",n.offset+"%")}}var eo=["ngx-charts-svg-radial-gradient",""];function to(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"stop")),2&e){var n=t.$implicit;r["\u0275\u0275styleProp"]("stop-color",n.color)("stop-opacity",n.opacity),r["\u0275\u0275attribute"]("offset",n.offset+"%")}}function no(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"header",4),r["\u0275\u0275elementStart"](1,"span",5),r["\u0275\u0275text"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](n.title)}}function io(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"li",6),r["\u0275\u0275elementStart"](1,"ngx-charts-legend-entry",7),r["\u0275\u0275listener"]("select",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().labelClick.emit(e)}))("activate",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().activate(e)}))("deactivate",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().deactivate(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,a=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("label",i.label)("formattedLabel",i.formattedLabel)("color",i.color)("isActive",a.isActive(i))}}var ro=["tooltipTemplate"],ao=function(e,t){return[e,t]},oo=["ngx-charts-bar",""];function so(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"defs"),r["\u0275\u0275element"](1,"g",2),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("orientation",n.orientation)("name",n.gradientId)("stops",n.gradientStops)}}function lo(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",5),r["\u0275\u0275listener"]("dimensionsChanged",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().updateXAxisHeight(e)})),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("xScale",i.xScale)("dims",i.dims)("showGridLines",i.showGridLines)("showLabel",i.showXAxisLabel)("labelText",i.xAxisLabel)("trimTicks",i.trimXAxisTicks)("rotateTicks",i.rotateXAxisTicks)("maxTickLength",i.maxXAxisTickLength)("tickFormatting",i.xAxisTickFormatting)("ticks",i.xAxisTicks)}}function co(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",6),r["\u0275\u0275listener"]("dimensionsChanged",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().updateYAxisWidth(e)})),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("yScale",i.yScale)("dims",i.dims)("showLabel",i.showYAxisLabel)("labelText",i.yAxisLabel)("trimTicks",i.trimYAxisTicks)("maxTickLength",i.maxYAxisTickLength)("tickFormatting",i.yAxisTickFormatting)("ticks",i.yAxisTicks)}}function uo(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275elementStart"](1,"g",7),r["\u0275\u0275listener"]("select",(function(e){r["\u0275\u0275restoreView"](n);var i=t.$implicit;return r["\u0275\u0275nextContext"]().onClick(e,i)}))("activate",(function(e){r["\u0275\u0275restoreView"](n);var i=t.$implicit;return r["\u0275\u0275nextContext"]().onActivate(e,i)}))("deactivate",(function(e){r["\u0275\u0275restoreView"](n);var i=t.$implicit;return r["\u0275\u0275nextContext"]().onDeactivate(e,i)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,a=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("@animationState","active"),r["\u0275\u0275attribute"]("transform",a.groupTransform(i)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("xScale",a.xScale)("yScale",a.yScale)("activeEntries",a.activeEntries)("colors",a.colors)("series",i.series)("dims",a.dims)("gradient",a.gradient)("tooltipDisabled",a.tooltipDisabled)("tooltipTemplate",a.tooltipTemplate)("seriesName",i.name)("animations",a.animations)("noBarWhenZero",a.noBarWhenZero)}}function ho(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",5),r["\u0275\u0275listener"]("dimensionsChanged",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().updateXAxisHeight(e)})),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("xScale",i.xScale)("dims",i.dims)("showLabel",i.showXAxisLabel)("labelText",i.xAxisLabel)("trimTicks",i.trimXAxisTicks)("rotateTicks",i.rotateXAxisTicks)("maxTickLength",i.maxXAxisTickLength)("tickFormatting",i.xAxisTickFormatting)("ticks",i.xAxisTicks)("xAxisOffset",i.dataLabelMaxHeight.negative)}}function po(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",6),r["\u0275\u0275listener"]("dimensionsChanged",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().updateYAxisWidth(e)})),r["\u0275\u0275elementEnd"]()}if(2&e){var i=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("yScale",i.yScale)("dims",i.dims)("showGridLines",i.showGridLines)("showLabel",i.showYAxisLabel)("labelText",i.yAxisLabel)("trimTicks",i.trimYAxisTicks)("maxTickLength",i.maxYAxisTickLength)("tickFormatting",i.yAxisTickFormatting)("ticks",i.yAxisTicks)}}var fo=["ngx-charts-series-vertical",""];function mo(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",2),r["\u0275\u0275listener"]("select",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onClick(e)}))("activate",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().activate.emit(e)}))("deactivate",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().deactivate.emit(e)})),r["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,a=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("@animationState","active")("@.disabled",!a.animations)("width",i.width)("height",i.height)("x",i.x)("y",i.y)("fill",i.color)("stops",i.gradientStops)("data",i.data)("orientation","vertical")("roundEdges",i.roundEdges)("gradient",a.gradient)("ariaLabel",i.ariaLabel)("isActive",a.isActive(i.data))("tooltipDisabled",a.tooltipDisabled)("tooltipPlacement",a.tooltipPlacement)("tooltipType",a.tooltipType)("tooltipTitle",a.tooltipTemplate?void 0:i.tooltipText)("tooltipTemplate",a.tooltipTemplate)("tooltipContext",i.data)("noBarWhenZero",a.noBarWhenZero)("animations",a.animations)}}function go(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",4),r["\u0275\u0275listener"]("dimensionsChanged",(function(e){r["\u0275\u0275restoreView"](n);var i=t.index;return r["\u0275\u0275nextContext"](2).dataLabelHeightChanged.emit({size:e,index:i})})),r["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,a=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("barX",i.x)("barY",i.y)("barWidth",i.width)("barHeight",i.height)("value",i.total)("valueFormatting",a.dataLabelFormatting)("orientation","vertical")}}function vo(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275template"](1,go,1,7,"g",3),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",n.barsForDataLabels)("ngForTrackBy",n.trackDataLabelBy)}}var bo=["ngx-charts-series-horizontal",""];function yo(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",2),r["\u0275\u0275listener"]("select",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().click(e)}))("activate",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().activate.emit(e)}))("deactivate",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().deactivate.emit(e)})),r["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,a=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("@animationState","active")("width",i.width)("height",i.height)("x",i.x)("y",i.y)("fill",i.color)("stops",i.gradientStops)("data",i.data)("orientation","horizontal")("roundEdges",i.roundEdges)("gradient",a.gradient)("isActive",a.isActive(i.data))("ariaLabel",i.ariaLabel)("animations",a.animations)("tooltipDisabled",a.tooltipDisabled)("tooltipPlacement",a.tooltipPlacement)("tooltipType",a.tooltipType)("tooltipTitle",a.tooltipTemplate?void 0:i.tooltipText)("tooltipTemplate",a.tooltipTemplate)("tooltipContext",i.data)("noBarWhenZero",a.noBarWhenZero)}}function xo(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",4),r["\u0275\u0275listener"]("dimensionsChanged",(function(e){r["\u0275\u0275restoreView"](n);var i=t.index;return r["\u0275\u0275nextContext"](2).dataLabelWidthChanged.emit({size:e,index:i})})),r["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,a=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("barX",i.x)("barY",i.y)("barWidth",i.width)("barHeight",i.height)("value",i.total)("valueFormatting",a.dataLabelFormatting)("orientation","horizontal")}}function So(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275template"](1,xo,1,7,"g",3),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",n.barsForDataLabels)("ngForTrackBy",n.trackDataLabelBy)}}var Co=["ngx-charts-bar-label",""],ko=["ngx-charts-pie-label",""],Eo=["ngx-charts-pie-arc",""];function _o(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"defs"),r["\u0275\u0275element"](1,"g",3),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("color",n.fill)("name",n.radialGradientId)("startOpacity",n.startOpacity)}}var wo,Po=["ngx-charts-pie-series",""];function Oo(e,t){if(1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275element"](0,"g",3)),2&e){var n=r["\u0275\u0275nextContext"]().$implicit,i=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("data",n)("radius",i.outerRadius)("color",i.color(n))("label",i.labelText(n))("labelTrim",i.trimLabels)("labelTrimSize",i.maxLabelLength)("max",i.max)("value",n.value)("explodeSlices",i.explodeSlices)("animations",i.animations)}}function Mo(e,t){if(1&e){var n=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275template"](1,Oo,1,10,"g",1),r["\u0275\u0275elementStart"](2,"g",2),r["\u0275\u0275listener"]("select",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().onClick(e)}))("activate",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().activate.emit(e)}))("deactivate",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().deactivate.emit(e)}))("dblclick",(function(e){return r["\u0275\u0275restoreView"](n),r["\u0275\u0275nextContext"]().dblclick.emit(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,a=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",a.labelVisible(i)),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("startAngle",i.startAngle)("endAngle",i.endAngle)("innerRadius",a.innerRadius)("outerRadius",a.outerRadius)("fill",a.color(i))("value",i.data.value)("gradient",a.gradient)("data",i.data)("max",a.max)("explodeSlices",a.explodeSlices)("isActive",a.isActive(i.data))("animate",a.animations)("tooltipDisabled",a.tooltipDisabled)("tooltipPlacement","top")("tooltipType","tooltip")("tooltipTitle",a.getTooltipTitle(i))("tooltipTemplate",a.tooltipTemplate)("tooltipContext",i.data)}}var Ao,Io=((Ao=wo=function(){function e(t,n,i){_classCallCheck2(this,e),this.applicationRef=t,this.componentFactoryResolver=n,this.injector=i}return _createClass2(e,[{key:"getRootViewContainer",value:function(){if(this._container)return this._container;if(wo.globalRootViewContainer)return wo.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}},{key:"setRootViewContainer",value:function(e){this._container=e}},{key:"getComponentRootNode",value:function(e){return e.element?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}},{key:"getRootViewContainerNode",value:function(e){return this.getComponentRootNode(e)}},{key:"projectComponentBindings",value:function(e,t){if(t){if(void 0!==t.inputs){var n,i=_createForOfIteratorHelper(Object.getOwnPropertyNames(t.inputs));try{for(i.s();!(n=i.n()).done;){var r=n.value;e.instance[r]=t.inputs[r]}}catch(l){i.e(l)}finally{i.f()}}if(void 0!==t.outputs){var a,o=_createForOfIteratorHelper(Object.getOwnPropertyNames(t.outputs));try{for(o.s();!(a=o.n()).done;){var s=a.value;e.instance[s]=t.outputs[s]}}catch(l){o.e(l)}finally{o.f()}}}return e}},{key:"appendComponent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;n||(n=this.getRootViewContainer());var i=this.getComponentRootNode(n),r=new s.d(i,this.componentFactoryResolver,this.applicationRef,this.injector),a=new s.c(e),o=r.attach(a);return this.projectComponentBindings(o,t),o}}],[{key:"setGlobalRootViewContainer",value:function(e){wo.globalRootViewContainer=e}}]),e}()).\u0275fac=function(e){return new(e||Ao)(r["\u0275\u0275inject"](r.ApplicationRef),r["\u0275\u0275inject"](r.ComponentFactoryResolver),r["\u0275\u0275inject"](r.Injector))},Ao.\u0275prov=r["\u0275\u0275defineInjectable"]({token:Ao,factory:Ao.\u0275fac}),Ao.globalRootViewContainer=null,Ao);function To(e,t,n){var i,r,a;n=n||{};var o=null,s=0;function l(){s=!1===n.leading?0:+new Date,o=null,a=e.apply(i,r)}return function(){var c=+new Date;s||!1!==n.leading||(s=c);var u=t-(c-s);return i=this,r=arguments,u<=0?(clearTimeout(o),o=null,s=c,a=e.apply(i,r)):o||!1===n.trailing||(o=setTimeout(l,u)),a}}var jo=function(e){return e[e.top="top"]="top",e[e.bottom="bottom"]="bottom",e[e.left="left"]="left",e[e.right="right"]="right",e}({});function Lo(e,t,n){return"top"===n?e.top-7:"bottom"===n?e.top+e.height-t.height+7:"center"===n?e.top+e.height/2-t.height/2:void 0}function Do(e,t,n){return"left"===n?e.left-7:"right"===n?e.left+e.width-t.width+7:"center"===n?e.left+e.width/2-t.width/2:void 0}var Fo,Ro,Bo,No,Vo,zo,Go=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"calculateVerticalAlignment",value:function(e,t,n){var i=Lo(e,t,n);return i+t.height>window.innerHeight&&(i=window.innerHeight-t.height),i}},{key:"calculateVerticalCaret",value:function(e,t,n,i){var r;"top"===i&&(r=e.height/2-n.height/2+7),"bottom"===i&&(r=t.height-e.height/2-n.height/2-7),"center"===i&&(r=t.height/2-n.height/2);var a=Lo(e,t,i);return a+t.height>window.innerHeight&&(r+=a+t.height-window.innerHeight),r}},{key:"calculateHorizontalAlignment",value:function(e,t,n){var i=Do(e,t,n);return i+t.width>window.innerWidth&&(i=window.innerWidth-t.width),i}},{key:"calculateHorizontalCaret",value:function(e,t,n,i){var r;"left"===i&&(r=e.width/2-n.width/2+7),"right"===i&&(r=t.width-e.width/2-n.width/2-7),"center"===i&&(r=t.width/2-n.width/2);var a=Do(e,t,i);return a+t.width>window.innerWidth&&(r+=a+t.width-window.innerWidth),r}},{key:"shouldFlip",value:function(e,t,n,i){var r=!1;return"right"===n&&e.left+e.width+t.width+i>window.innerWidth&&(r=!0),"left"===n&&e.left-t.width-i<0&&(r=!0),"top"===n&&e.top-t.height-i<0&&(r=!0),"bottom"===n&&e.top+e.height+t.height+i>window.innerHeight&&(r=!0),r}},{key:"positionCaret",value:function(t,n,i,r,a){var o=0,s=0;return t===jo.right?(s=-7,o=e.calculateVerticalCaret(i,n,r,a)):t===jo.left?(s=n.width,o=e.calculateVerticalCaret(i,n,r,a)):t===jo.top?(o=n.height,s=e.calculateHorizontalCaret(i,n,r,a)):t===jo.bottom&&(o=-7,s=e.calculateHorizontalCaret(i,n,r,a)),{top:o,left:s}}},{key:"positionContent",value:function(t,n,i,r,a){var o=0,s=0;return t===jo.right?(s=i.left+i.width+r,o=e.calculateVerticalAlignment(i,n,a)):t===jo.left?(s=i.left-n.width-r,o=e.calculateVerticalAlignment(i,n,a)):t===jo.top?(o=i.top-n.height-r,s=e.calculateHorizontalAlignment(i,n,a)):t===jo.bottom&&(o=i.top+i.height+r,s=e.calculateHorizontalAlignment(i,n,a)),{top:o,left:s}}},{key:"determinePlacement",value:function(t,n,i,r){if(e.shouldFlip(i,n,t,r)){if(t===jo.right)return jo.left;if(t===jo.left)return jo.right;if(t===jo.top)return jo.bottom;if(t===jo.bottom)return jo.top}return t}}]),e}(),Uo=((zo=function(){function e(t,n){_classCallCheck2(this,e),this.element=t,this.renderer=n}return _createClass2(e,[{key:"ngAfterViewInit",value:function(){setTimeout(this.position.bind(this))}},{key:"position",value:function(){var e=this,t=this.element.nativeElement,n=this.host.nativeElement.getBoundingClientRect();if(n.height||n.width){var i=t.getBoundingClientRect();this.checkFlip(n,i),this.positionContent(t,n,i),this.showCaret&&this.positionCaret(n,i),setTimeout((function(){return e.renderer.addClass(t,"animate")}),1)}}},{key:"positionContent",value:function(e,t,n){var i=Go.positionContent(this.placement,n,t,this.spacing,this.alignment),r=i.top,a=i.left;this.renderer.setStyle(e,"top","".concat(r,"px")),this.renderer.setStyle(e,"left","".concat(a,"px"))}},{key:"positionCaret",value:function(e,t){var n=this.caretElm.nativeElement,i=n.getBoundingClientRect(),r=Go.positionCaret(this.placement,t,e,i,this.alignment),a=r.top,o=r.left;this.renderer.setStyle(n,"top","".concat(a,"px")),this.renderer.setStyle(n,"left","".concat(o,"px"))}},{key:"checkFlip",value:function(e,t){this.placement=Go.determinePlacement(this.placement,t,e,this.spacing)}},{key:"onWindowResize",value:function(){this.position()}},{key:"cssClasses",get:function(){var e="ngx-charts-tooltip-content";return e+=" position-".concat(this.placement),e+=" type-".concat(this.type),e+=" ".concat(this.cssClass)}}]),e}()).\u0275fac=function(e){return new(e||zo)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.Renderer2))},zo.\u0275cmp=r["\u0275\u0275defineComponent"]({type:zo,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,t){var n;1&e&&r["\u0275\u0275viewQuery"](Ca,!0),2&e&&r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.caretElm=n.first)},hostVars:2,hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("resize",(function(){return t.onWindowResize()}),!1,r["\u0275\u0275resolveWindow"]),2&e&&r["\u0275\u0275classMap"](t.cssClasses)},inputs:{placement:"placement",host:"host",showCaret:"showCaret",type:"type",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275element"](1,"span",0,1),r["\u0275\u0275elementStart"](3,"div",2),r["\u0275\u0275template"](4,_a,2,4,"span",3),r["\u0275\u0275template"](5,wa,1,1,"span",4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275classMapInterpolate1"]("tooltip-caret position-",t.placement,""),r["\u0275\u0275property"]("hidden",!t.showCaret),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngIf",!t.title),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.title))},directives:[a.o,a.t],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}.ngx-charts-tooltip-content.position-left{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}.ngx-charts-tooltip-content.position-top{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}.ngx-charts-tooltip-content.position-bottom{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}.ngx-charts-tooltip-content.animate{opacity:1;-webkit-transition:opacity .3s,-webkit-transform .3s;transition:opacity .3s,transform .3s,-webkit-transform .3s;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}"],encapsulation:2}),Object(i.b)([function(e,t,n){return{configurable:!0,enumerable:n.enumerable,get:function(){return Object.defineProperty(this,t,{configurable:!0,enumerable:n.enumerable,value:To(n.value,100,void 0)}),this[t]}}}],zo.prototype,"onWindowResize",null),zo),Ho=((Vo=function(e){_inherits2(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).type=Uo,i}return n}(function(){function e(t){_classCallCheck2(this,e),this.injectionService=t,this.defaults={},this.components=new Map}return _createClass2(e,[{key:"getByType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.type;return this.components.get(e)}},{key:"create",value:function(e){return this.createByType(this.type,e)}},{key:"createByType",value:function(e,t){t=this.assignDefaults(t);var n=this.injectComponent(e,t);return this.register(e,n),n}},{key:"destroy",value:function(e){var t=this.components.get(e.componentType);if(t&&t.length){var n=t.indexOf(e);n>-1&&(t[n].destroy(),t.splice(n,1))}}},{key:"destroyAll",value:function(){this.destroyByType(this.type)}},{key:"destroyByType",value:function(e){var t=this.components.get(e);if(t&&t.length)for(var n=t.length-1;n>=0;)this.destroy(t[n--])}},{key:"injectComponent",value:function(e,t){return this.injectionService.appendComponent(e,t)}},{key:"assignDefaults",value:function(e){var t=Object.assign({},this.defaults.inputs),n=Object.assign({},this.defaults.outputs);return e.inputs||e.outputs||(e={inputs:e}),t&&(e.inputs=Object.assign(Object.assign({},t),e.inputs)),n&&(e.outputs=Object.assign(Object.assign({},n),e.outputs)),e}},{key:"register",value:function(e,t){this.components.has(e)||this.components.set(e,[]),this.components.get(e).push(t)}}]),e}())).\u0275fac=function(e){return new(e||Vo)(r["\u0275\u0275inject"](Io))},Vo.\u0275prov=r["\u0275\u0275defineInjectable"]({token:Vo,factory:Vo.\u0275fac}),Vo),Xo=((No=function(){function e(){_classCallCheck2(this,e),this.showLegend=!1,this.animations=!0,this.legendLabelClick=new r.EventEmitter,this.legendLabelActivate=new r.EventEmitter,this.legendLabelDeactivate=new r.EventEmitter}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.update()}},{key:"update",value:function(){var e=0;this.showLegend&&(this.legendType=this.getLegendType(),this.legendOptions&&"right"!==this.legendOptions.position||(e="scaleLegend"===this.legendType?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-e)/12),this.legendWidth=this.legendOptions&&"right"!==this.legendOptions.position?this.chartWidth:Math.floor(this.view[0]*e/12)}},{key:"getLegendType",value:function(){return"linear"===this.legendOptions.scaleType?"scaleLegend":"legend"}}]),e}()).\u0275fac=function(e){return new(e||No)},No.\u0275cmp=r["\u0275\u0275defineComponent"]({type:No,selectors:[["ngx-charts-chart"]],inputs:{showLegend:"showLegend",animations:"animations",legendType:"legendType",view:"view",legendOptions:"legendOptions",data:"data",legendData:"legendData",colors:"colors",activeEntries:"activeEntries"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[r["\u0275\u0275ProvidersFeature"]([Ho]),r["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:Ma,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(e,t){1&e&&(r["\u0275\u0275projectionDef"](),r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](1,"svg",1),r["\u0275\u0275projection"](2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](3,Pa,1,5,"ngx-charts-scale-legend",2),r["\u0275\u0275template"](4,Oa,1,7,"ngx-charts-legend",3),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275styleProp"]("width",t.view[0],"px"),r["\u0275\u0275property"]("@animationState","active")("@.disabled",!t.animations),r["\u0275\u0275advance"](1),r["\u0275\u0275attribute"]("width",t.chartWidth)("height",t.view[1]),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",t.showLegend&&"scaleLegend"===t.legendType),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.showLegend&&"legend"===t.legendType))},directives:function(){return[a.o,Ms,Ps]},encapsulation:2,data:{animation:[Object(o.j)("animationState",[Object(o.i)(":enter",[Object(o.h)({opacity:0}),Object(o.e)("500ms 100ms",Object(o.h)({opacity:1}))])])]},changeDetection:0}),No),Yo=((Bo=function(){function e(t,n){_classCallCheck2(this,e),this.element=t,this.zone=n,this.visible=new r.EventEmitter,this.isVisible=!1,this.runCheck()}return _createClass2(e,[{key:"destroy",value:function(){clearTimeout(this.timeout)}},{key:"onVisibilityChange",value:function(){var e=this;this.zone.run((function(){e.isVisible=!0,e.visible.emit(!0)}))}},{key:"runCheck",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.timeout=setTimeout((function(){return function t(){if(e.element){var n=e.element.nativeElement,i=n.offsetHeight,r=n.offsetWidth;i&&r?(clearTimeout(e.timeout),e.onVisibilityChange()):(clearTimeout(e.timeout),e.zone.runOutsideAngular((function(){e.timeout=setTimeout((function(){return t()}),100)})))}}()}))}))}}]),e}()).\u0275fac=function(e){return new(e||Bo)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.NgZone))},Bo.\u0275dir=r["\u0275\u0275defineDirective"]({type:Bo,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),Bo),$o=((Ro=function(){function e(t,n,i){_classCallCheck2(this,e),this.chartElement=t,this.zone=n,this.cd=i,this.scheme="cool",this.schemeType="ordinal",this.animations=!0,this.select=new r.EventEmitter}return _createClass2(e,[{key:"ngAfterViewInit",value:function(){this.bindWindowResizeEvent(),this.visibilityObserver=new Yo(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}},{key:"ngOnDestroy",value:function(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"update",value:function(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{var e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}},{key:"getContainerDims",value:function(){var e,t,n=this.chartElement.nativeElement;if(null!==n.parentNode){var i=n.parentNode.getBoundingClientRect();e=i.width,t=i.height}return e&&t?{width:e,height:t}:null}},{key:"formatDates",value:function(){for(var e=0;e<this.results.length;e++){var t=this.results[e];if(t.label=t.name,t.label instanceof Date&&(t.label=t.label.toLocaleDateString()),t.series)for(var n=0;n<t.series.length;n++){var i=t.series[n];i.label=i.name,i.label instanceof Date&&(i.label=i.label.toLocaleDateString())}}}},{key:"unbindEvents",value:function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}},{key:"bindWindowResizeEvent",value:function(){var e=this,t=Object(l.a)(window,"resize").pipe(Object(c.a)(200)).subscribe((function(t){e.update(),e.cd&&e.cd.markForCheck()}));this.resizeSubscription=t}},{key:"cloneData",value:function(e){var t,n=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var r=t.value,a={name:r.name};if(void 0!==r.value&&(a.value=r.value),void 0!==r.series){a.series=[];var o,s=_createForOfIteratorHelper(r.series);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=Object.assign({},l);a.series.push(c)}}catch(u){s.e(u)}finally{s.f()}}void 0!==r.extra&&(a.extra=JSON.parse(JSON.stringify(r.extra))),n.push(a)}}catch(u){i.e(u)}finally{i.f()}return n}}]),e}()).\u0275fac=function(e){return new(e||Ro)(r["\u0275\u0275directiveInject"](r.ElementRef),r["\u0275\u0275directiveInject"](r.NgZone),r["\u0275\u0275directiveInject"](r.ChangeDetectorRef))},Ro.\u0275cmp=r["\u0275\u0275defineComponent"]({type:Ro,selectors:[["base-chart"]],inputs:{scheme:"scheme",schemeType:"schemeType",animations:"animations",results:"results",view:"view",customColors:"customColors"},outputs:{select:"select"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:1,vars:0,template:function(e,t){1&e&&r["\u0275\u0275element"](0,"div")},encapsulation:2}),Ro),Wo=((Fo=function(){function e(t){_classCallCheck2(this,e),this.textHeight=25,this.margin=5,this.element=t.nativeElement}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.update()}},{key:"update",value:function(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case"top":case"bottom":this.y=this.offset,this.x=this.width/2;break;case"left":this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case"right":this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}}}]),e}()).\u0275fac=function(e){return new(e||Fo)(r["\u0275\u0275directiveInject"](r.ElementRef))},Fo.\u0275cmp=r["\u0275\u0275defineComponent"]({type:Fo,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:Aa,decls:2,vars:6,template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"text"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275attribute"]("stroke-width",t.strokeWidth)("x",t.x)("y",t.y)("text-anchor",t.textAnchor)("transform",t.transform),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",t.label," "))},encapsulation:2,changeDetection:0}),Fo);function qo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return"string"!=typeof e?"number"==typeof e?e+"":"":(e=e.trim()).length<=t?e:"".concat(e.slice(0,t),"...")}function Ko(e,t){if(e.length>t){for(var n=[],i=Math.floor(e.length/t),r=0;r<e.length;r++)r%i==0&&n.push(e[r]);e=n}return e}var Jo,Qo,Zo=((Qo=function(){function e(){_classCallCheck2(this,e),this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.dimensionsChanged=new r.EventEmitter,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor="middle",this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout((function(){return e.updateDims()}))}},{key:"updateDims",value:function(){var e=this,t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);t!==this.height&&(this.height=t,this.dimensionsChanged.emit({height:t}),setTimeout((function(){return e.updateDims()})))}},{key:"update",value:function(){var e=this,t=this.scale;this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:t.tickFormat?t.tickFormat.apply(t,this.tickArguments):function(e){return"Date"===e.constructor.name?e.toLocaleDateString():e.toLocaleString()};var n=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(e){return this.scale(e)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",n&&0!==n?(this.textTransform="rotate(".concat(n,")"),this.textAnchor="end",this.verticalSpacing=10):this.textAnchor="middle",setTimeout((function(){return e.updateDims()}))}},{key:"getRotationAngle",value:function(e){var t=0;this.maxTicksLength=0;for(var n=0;n<e.length;n++){var i=this.tickFormat(e[n]).toString(),r=i.length;this.trimTicks&&(r=this.tickTrim(i).length),r>this.maxTicksLength&&(this.maxTicksLength=r)}for(var a=8*Math.min(this.maxTicksLength,this.maxAllowedLength),o=a,s=Math.floor(this.width/e.length);o>s&&t>-90;)t-=30,o=Math.cos(t*(Math.PI/180))*a;return t}},{key:"getTicks",value:function(){var e=this.getMaxTicks(20),t=this.getMaxTicks(100);return this.tickValues?this.tickValues:this.scale.ticks?this.scale.ticks.apply(this.scale,[t]):Ko(this.scale.domain(),e)}},{key:"getMaxTicks",value:function(e){return Math.floor(this.width/e)}},{key:"tickTransform",value:function(e){return"translate("+this.adjustedScale(e)+","+this.verticalSpacing+")"}},{key:"gridLineTransform",value:function(){return"translate(0,".concat(-this.verticalSpacing-5,")")}},{key:"tickTrim",value:function(e){return this.trimTicks?qo(e,this.maxTickLength):e}}]),e}()).\u0275fac=function(e){return new(e||Qo)},Qo.\u0275cmp=r["\u0275\u0275defineComponent"]({type:Qo,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(e,t){var n;1&e&&r["\u0275\u0275viewQuery"](Ia,!0),2&e&&r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.ticksElement=n.first)},inputs:{tickArguments:"tickArguments",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",showGridLines:"showGridLines",rotateTicks:"rotateTicks",scale:"scale",orient:"orient",tickValues:"tickValues",tickFormatting:"tickFormatting",gridLineHeight:"gridLineHeight",width:"width"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:Ta,decls:4,vars:2,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],["stroke-width","0.01"],[4,"ngIf"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",null,0),r["\u0275\u0275template"](2,ja,5,7,"g",1),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](3,Da,2,2,"g",2)),2&e&&(r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.ticks),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.ticks))},directives:[a.n,a.o],encapsulation:2,changeDetection:0}),Qo),es=((Jo=function(){function e(){_classCallCheck2(this,e),this.rotateTicks=!0,this.showGridLines=!1,this.xOrient="bottom",this.xAxisOffset=0,this.dimensionsChanged=new r.EventEmitter,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.update()}},{key:"update",value:function(){this.transform="translate(0,".concat(this.xAxisOffset+this.padding+this.dims.height,")"),void 0!==this.xAxisTickCount&&(this.tickArguments=[this.xAxisTickCount])}},{key:"emitTicksHeight",value:function(e){var t=this,n=e.height,i=n+25+5;i!==this.labelOffset&&(this.labelOffset=i,setTimeout((function(){t.dimensionsChanged.emit({height:n})}),0))}}]),e}()).\u0275fac=function(e){return new(e||Jo)},Jo.\u0275cmp=r["\u0275\u0275defineComponent"]({type:Jo,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(e,t){var n;1&e&&r["\u0275\u0275viewQuery"](Zo,!0),2&e&&r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.ticksComponent=n.first)},inputs:{rotateTicks:"rotateTicks",showGridLines:"showGridLines",xOrient:"xOrient",xAxisOffset:"xAxisOffset",xScale:"xScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickInterval:"xAxisTickInterval",xAxisTickCount:"xAxisTickCount"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:Fa,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275template"](1,Ra,1,12,"g",0),r["\u0275\u0275template"](2,Ba,1,5,"g",1),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275attribute"]("class",t.xAxisClassName)("transform",t.transform),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.xScale),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.showLabel))},directives:[a.o,Zo,Wo],encapsulation:2,changeDetection:0}),Jo);function ts(e,t,n,i,r,a){var o=_slicedToArray(a,4),s=o[0],l=o[1],c=o[2],u=o[3],d="";return d="M".concat([e+r,t]),d+="h".concat((n=0===(n=Math.floor(n))?1:n)-2*r),d+=l?"a".concat([r,r]," 0 0 1 ").concat([r,r]):"h".concat(r,"v").concat(r),d+="v".concat((i=0===(i=Math.floor(i))?1:i)-2*r),d+=u?"a".concat([r,r]," 0 0 1 ").concat([-r,r]):"v".concat(r,"h").concat(-r),d+="h".concat(2*r-n),d+=c?"a".concat([r,r]," 0 0 1 ").concat([-r,-r]):"h".concat(-r,"v").concat(-r),d+="v".concat(2*r-i),d+=s?"a".concat([r,r]," 0 0 1 ").concat([r,-r]):"v".concat(-r,"h").concat(r),d+="z"}var ns,is,rs,as,os,ss=((rs=function(){function e(){_classCallCheck2(this,e),this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.dimensionsChanged=new r.EventEmitter,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor="middle",this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout((function(){return e.updateDims()}))}},{key:"updateDims",value:function(){var e=this,t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);t!==this.width&&(this.width=t,this.dimensionsChanged.emit({width:t}),setTimeout((function(){return e.updateDims()})))}},{key:"update",value:function(){var e,t=this,n="top"===this.orient||"right"===this.orient?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,e=this.scale,this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:e.tickFormat?e.tickFormat.apply(e,this.tickArguments):function(e){return"Date"===e.constructor.name?e.toLocaleDateString():e.toLocaleString()},this.adjustedScale=e.bandwidth?function(t){return e(t)+.5*e.bandwidth()}:e,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case"top":case"bottom":this.transform=function(e){return"translate("+this.adjustedScale(e)+",0)"},this.textAnchor="middle",this.y2=this.innerTickSize*n,this.y1=this.tickSpacing*n,this.dy=n<0?"0em":".71em";break;case"left":this.transform=function(e){return"translate(0,"+this.adjustedScale(e)+")"},this.textAnchor="end",this.x2=this.innerTickSize*-n,this.x1=this.tickSpacing*-n,this.dy=".32em";break;case"right":this.transform=function(e){return"translate(0,"+this.adjustedScale(e)+")"},this.textAnchor="start",this.x2=this.innerTickSize*-n,this.x1=this.tickSpacing*-n,this.dy=".32em"}setTimeout((function(){return t.updateDims()}))}},{key:"setReferencelines",value:function(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map((function(e){return e.value})))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map((function(e){return e.value})))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=ts(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}},{key:"getTicks",value:function(){var e=this.getMaxTicks(20),t=this.getMaxTicks(50);return this.tickValues?this.tickValues:this.scale.ticks?this.scale.ticks.apply(this.scale,[t]):Ko(this.scale.domain(),e)}},{key:"getMaxTicks",value:function(e){return Math.floor(this.height/e)}},{key:"tickTransform",value:function(e){return"translate(".concat(this.adjustedScale(e),",").concat(this.verticalSpacing,")")}},{key:"gridLineTransform",value:function(){return"translate(5,0)"}},{key:"tickTrim",value:function(e){return this.trimTicks?qo(e,this.maxTickLength):e}}]),e}()).\u0275fac=function(e){return new(e||rs)},rs.\u0275cmp=r["\u0275\u0275defineComponent"]({type:rs,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(e,t){var n;1&e&&r["\u0275\u0275viewQuery"](Ia,!0),2&e&&r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.ticksElement=n.first)},inputs:{tickArguments:"tickArguments",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",showGridLines:"showGridLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",scale:"scale",orient:"orient",tickValues:"tickValues",tickFormatting:"tickFormatting",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:Na,decls:6,vars:4,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],["stroke-width","0.01"],[1,"reference-area"],[4,"ngIf"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",null,0),r["\u0275\u0275template"](2,Va,5,9,"g",1),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](3,za,1,2,"path",2),r["\u0275\u0275template"](4,Xa,2,2,"g",3),r["\u0275\u0275template"](5,Wa,2,1,"g",3)),2&e&&(r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngForOf",t.ticks),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.referenceLineLength>1&&t.refMax&&t.refMin&&t.showRefLines),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.ticks),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.referenceLines))},directives:[a.n,a.o],encapsulation:2,changeDetection:0}),rs),ls=((is=function(){function e(){_classCallCheck2(this,e),this.showGridLines=!1,this.yOrient="left",this.yAxisOffset=0,this.dimensionsChanged=new r.EventEmitter,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.update()}},{key:"update",value:function(){this.offset=-(this.yAxisOffset+this.padding),"right"===this.yOrient?(this.labelOffset=65,this.transform="translate(".concat(this.offset+this.dims.width," , 0)")):(this.offset=this.offset,this.transform="translate(".concat(this.offset," , 0)")),void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])}},{key:"emitTicksWidth",value:function(e){var t=this,n=e.width;n!==this.labelOffset&&"right"===this.yOrient?(this.labelOffset=n+this.labelOffset,setTimeout((function(){t.dimensionsChanged.emit({width:n})}),0)):n!==this.labelOffset&&(this.labelOffset=n,setTimeout((function(){t.dimensionsChanged.emit({width:n})}),0))}}]),e}()).\u0275fac=function(e){return new(e||is)},is.\u0275cmp=r["\u0275\u0275defineComponent"]({type:is,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(e,t){var n;1&e&&r["\u0275\u0275viewQuery"](ss,!0),2&e&&r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.ticksComponent=n.first)},inputs:{showGridLines:"showGridLines",yOrient:"yOrient",yAxisOffset:"yAxisOffset",yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showLabel:"showLabel",labelText:"labelText",yAxisTickInterval:"yAxisTickInterval",yAxisTickCount:"yAxisTickCount",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:qa,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g"),r["\u0275\u0275template"](1,Ka,1,14,"g",0),r["\u0275\u0275template"](2,Ja,1,5,"g",1),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275attribute"]("class",t.yAxisClassName)("transform",t.transform),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.yScale),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.showLabel))},directives:[a.o,ss,Wo],encapsulation:2,changeDetection:0}),is),cs=((ns=function e(){_classCallCheck2(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:ns}),ns.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||ns)},imports:[[a.c]]}),ns),us=function(e){return e[e.popover="popover"]="popover",e[e.tooltip="tooltip"]="tooltip",e}({}),ds=function(e){return e[e.left="left"]="left",e[e.center="center"]="center",e[e.right="right"]="right",e}({}),hs=function(e){return e[e.all="all"]="all",e[e.focus="focus"]="focus",e[e.mouseover="mouseover"]="mouseover",e}({}),ps=((os=function(){function e(t,n,i){_classCallCheck2(this,e),this.tooltipService=t,this.viewContainerRef=n,this.renderer=i,this.tooltipCssClass="",this.tooltipTitle="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=jo.top,this.tooltipAlignment=ds.center,this.tooltipType=us.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=hs.all,this.tooltipImmediateExit=!1,this.show=new r.EventEmitter,this.hide=new r.EventEmitter}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.hideTooltip(!0)}},{key:"onFocus",value:function(){this.listensForFocus&&this.showTooltip()}},{key:"onBlur",value:function(){this.listensForFocus&&this.hideTooltip(!0)}},{key:"onMouseEnter",value:function(){this.listensForHover&&this.showTooltip()}},{key:"onMouseLeave",value:function(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(e))return;this.hideTooltip(this.tooltipImmediateExit)}}},{key:"onMouseClick",value:function(){this.listensForHover&&this.hideTooltip(!0)}},{key:"showTooltip",value:function(e){var t=this;if(!this.component&&!this.tooltipDisabled){var n=e?0:this.tooltipShowTimeout;clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.tooltipService.destroyAll();var e=t.createBoundOptions();t.component=t.tooltipService.create(e),setTimeout((function(){t.component&&t.addHideListeners(t.component.instance.element.nativeElement)}),10),t.show.emit(!0)}),n)}}},{key:"addHideListeners",value:function(e){var t=this;this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",(function(){clearTimeout(t.timeout)})),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",(function(){t.hideTooltip(t.tooltipImmediateExit)}))),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen(document,"click",(function(n){e.contains(n.target)||t.hideTooltip()})))}},{key:"hideTooltip",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.component){var n=function(){e.mouseLeaveContentEvent&&e.mouseLeaveContentEvent(),e.mouseEnterContentEvent&&e.mouseEnterContentEvent(),e.documentClickEvent&&e.documentClickEvent(),e.hide.emit(!0),e.tooltipService.destroy(e.component),e.component=void 0};clearTimeout(this.timeout),t?n():this.timeout=setTimeout(n,this.tooltipHideTimeout)}}},{key:"createBoundOptions",value:function(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}},{key:"listensForFocus",get:function(){return this.tooltipShowEvent===hs.all||this.tooltipShowEvent===hs.focus}},{key:"listensForHover",get:function(){return this.tooltipShowEvent===hs.all||this.tooltipShowEvent===hs.mouseover}}]),e}()).\u0275fac=function(e){return new(e||os)(r["\u0275\u0275directiveInject"](Ho),r["\u0275\u0275directiveInject"](r.ViewContainerRef),r["\u0275\u0275directiveInject"](r.Renderer2))},os.\u0275dir=r["\u0275\u0275defineDirective"]({type:os,selectors:[["","ngx-tooltip",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("focusin",(function(){return t.onFocus()}))("blur",(function(){return t.onBlur()}))("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(e){return t.onMouseLeave(e.target)}))("click",(function(){return t.onMouseClick()}))},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipShowEvent:"tooltipShowEvent",tooltipImmediateExit:"tooltipImmediateExit",tooltipTemplate:"tooltipTemplate",tooltipContext:"tooltipContext"},outputs:{show:"show",hide:"hide"}}),os),fs=((as=function e(){_classCallCheck2(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:as}),as.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||as)},providers:[Io,Ho],imports:[[a.c]]}),as);function ms(e){return e instanceof Date?e.toLocaleDateString():e.toLocaleString()}function gs(e){return e.toLocaleString().replace(/[&'`"<>]/g,(function(e){return{"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[e]}))}var vs={};function bs(){var e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e="a".concat(e),vs[e]?bs():(vs[e]=!0,e)}var ys,xs,Ss=((xs=function(){function e(){_classCallCheck2(this,e),this.orientation="vertical"}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%","horizontal"===this.orientation?this.x2="100%":"vertical"===this.orientation&&(this.y1="100%")}}]),e}()).\u0275fac=function(e){return new(e||xs)},xs.\u0275cmp=r["\u0275\u0275defineComponent"]({type:xs,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:Qa,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"linearGradient",0),r["\u0275\u0275template"](1,Za,1,5,"stop",1),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("id",t.name),r["\u0275\u0275attribute"]("x1",t.x1)("y1",t.y1)("x2",t.x2)("y2",t.y2),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.stops))},directives:[a.n],encapsulation:2,changeDetection:0}),xs),Cs=((ys=function(){function e(){_classCallCheck2(this,e),this.endOpacity=1,this.cx=0,this.cy=0}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.r="30%",("color"in e||"startOpacity"in e||"endOpacity"in e)&&(this.stopsDefault=[{offset:0,color:this.color,opacity:this.startOpacity},{offset:100,color:this.color,opacity:this.endOpacity}])}},{key:"stops",get:function(){return this.stopsInput||this.stopsDefault},set:function(e){this.stopsInput=e}}]),e}()).\u0275fac=function(e){return new(e||ys)},ys.\u0275cmp=r["\u0275\u0275defineComponent"]({type:ys,selectors:[["g","ngx-charts-svg-radial-gradient",""]],inputs:{endOpacity:"endOpacity",cx:"cx",cy:"cy",stops:"stops",color:"color",name:"name",startOpacity:"startOpacity"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:eo,decls:2,vars:5,consts:[["gradientUnits","userSpaceOnUse",3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"radialGradient",0),r["\u0275\u0275template"](1,to,1,5,"stop",1),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("id",t.name),r["\u0275\u0275attribute"]("cx",t.cx)("cy",t.cy)("r",t.r),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.stops))},directives:[a.n],encapsulation:2,changeDetection:0}),ys);"undefined"!=typeof window?window:"undefined"!=typeof global&&global;var ks,Es,_s,ws,Ps=((ws=function(){function e(t){_classCallCheck2(this,e),this.cd=t,this.horizontal=!1,this.labelClick=new r.EventEmitter,this.labelActivate=new r.EventEmitter,this.labelDeactivate=new r.EventEmitter,this.legendEntries=[]}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.update()}},{key:"update",value:function(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}},{key:"getLegendEntries",value:function(){var e,t=this,n=[],i=_createForOfIteratorHelper(this.data);try{var r=function(){var i=e.value,r=ms(i);-1===n.findIndex((function(e){return e.label===r}))&&n.push({label:i,formattedLabel:r,color:t.colors.getColor(i)})};for(i.s();!(e=i.n()).done;)r()}catch(a){i.e(a)}finally{i.f()}return n}},{key:"isActive",value:function(e){return!!this.activeEntries&&void 0!==this.activeEntries.find((function(t){return e.label===t.name}))}},{key:"activate",value:function(e){this.labelActivate.emit(e)}},{key:"deactivate",value:function(e){this.labelDeactivate.emit(e)}},{key:"trackBy",value:function(e,t){return t.label}}]),e}()).\u0275fac=function(e){return new(e||ws)(r["\u0275\u0275directiveInject"](r.ChangeDetectorRef))},ws.\u0275cmp=r["\u0275\u0275defineComponent"]({type:ws,selectors:[["ngx-charts-legend"]],inputs:{horizontal:"horizontal",data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275template"](1,no,3,1,"header",0),r["\u0275\u0275elementStart"](2,"div",1),r["\u0275\u0275elementStart"](3,"ul",2),r["\u0275\u0275template"](4,io,2,4,"li",3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275styleProp"]("width",t.width,"px"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",(null==t.title?null:t.title.length)>0),r["\u0275\u0275advance"](2),r["\u0275\u0275styleProp"]("max-height",t.height-45,"px"),r["\u0275\u0275classProp"]("horizontal-legend",t.horizontal),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.legendEntries)("ngForTrackBy",t.trackBy))},directives:function(){return[a.o,a.n,Os]},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend li,.chart-legend ul{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;-webkit-transition:.2s;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),ws),Os=((_s=function(){function e(){_classCallCheck2(this,e),this.isActive=!1,this.select=new r.EventEmitter,this.activate=new r.EventEmitter,this.deactivate=new r.EventEmitter,this.toggle=new r.EventEmitter}return _createClass2(e,[{key:"onMouseEnter",value:function(){this.activate.emit({name:this.label})}},{key:"onMouseLeave",value:function(){this.deactivate.emit({name:this.label})}},{key:"trimmedLabel",get:function(){return this.formattedLabel||"(empty)"}}]),e}()).\u0275fac=function(e){return new(e||_s)},_s.\u0275cmp=r["\u0275\u0275defineComponent"]({type:_s,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()}))},inputs:{isActive:"isActive",color:"color",label:"label",formattedLabel:"formattedLabel"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"span",0),r["\u0275\u0275listener"]("click",(function(){return t.select.emit(t.formattedLabel)})),r["\u0275\u0275elementStart"](1,"span",1),r["\u0275\u0275listener"]("click",(function(){return t.toggle.emit(t.formattedLabel)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](2,"span",2),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275classProp"]("active",t.isActive),r["\u0275\u0275property"]("title",t.formattedLabel),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("background-color",t.color),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",t.trimmedLabel," "))},encapsulation:2,changeDetection:0}),_s),Ms=((Es=function(){function e(t){_classCallCheck2(this,e),this.sanitizer=t,this.horizontal=!1}return _createClass2(e,[{key:"ngOnChanges",value:function(e){var t=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=this.sanitizer.bypassSecurityTrustStyle("linear-gradient(to ".concat(this.horizontal?"right":"bottom",", ").concat(t,")"))}},{key:"gradientString",value:function(e,t){t.push(1);var n=[];return e.reverse().forEach((function(e,i){n.push("".concat(e," ").concat(Math.round(100*t[i]),"%"))})),n.join(", ")}}]),e}()).\u0275fac=function(e){return new(e||Es)(r["\u0275\u0275directiveInject"](Sa.b))},Es.\u0275cmp=r["\u0275\u0275defineComponent"]({type:Es,selectors:[["ngx-charts-scale-legend"]],inputs:{horizontal:"horizontal",valueRange:"valueRange",colors:"colors",height:"height",width:"width"},features:[r["\u0275\u0275NgOnChangesFeature"]],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"span"),r["\u0275\u0275text"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](4,"div",2),r["\u0275\u0275elementStart"](5,"div",1),r["\u0275\u0275elementStart"](6,"span"),r["\u0275\u0275text"](7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275styleProp"]("height",t.horizontal?void 0:t.height,"px")("width",t.width,"px"),r["\u0275\u0275classProp"]("horizontal-legend",t.horizontal),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](t.valueRange[1].toLocaleString()),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("background",t.gradient,r["\u0275\u0275defaultStyleSanitizer"]),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](t.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;-webkit-box-flex:1;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}"],encapsulation:2,changeDetection:0}),Es),As=((ks=function e(){_classCallCheck2(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:ks}),ks.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||ks)},imports:[[a.c,cs,fs],a.c,cs,fs]}),ks);function Is(e){var t=e.width,n=e.height,i=e.margins,r=e.showXAxis,a=void 0!==r&&r,o=e.showYAxis,s=void 0!==o&&o,l=e.xAxisHeight,c=void 0===l?0:l,u=e.yAxisWidth,d=void 0===u?0:u,h=e.showXLabel,p=void 0!==h&&h,f=e.showYLabel,m=void 0!==f&&f,g=e.showLegend,v=void 0!==g&&g,b=e.legendType,y=void 0===b?"ordinal":b,x=e.legendPosition,S=void 0===x?"right":x,C=e.columns,k=void 0===C?12:C,E=i[3],_=t,w=n-i[0]-i[2];if(v&&"right"===S&&(k-="ordinal"===y?2:1),_=(_=_*k/12)-i[1]-i[3],a&&(w-=5,w-=c,p)&&(w-=30),s&&(_-=5,_-=d,E+=d,E+=10,m)){_-=30,E+=30}return _=Math.max(0,_),w=Math.max(0,w),{width:Math.floor(_),height:Math.floor(w),xOffset:Math.floor(E)}}var Ts,js,Ls,Ds,Fs,Rs,Bs,Ns,Vs,zs,Gs,Us=[{name:"vivid",selectable:!0,group:"Ordinal",domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:"Ordinal",domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:"Ordinal",domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:"Ordinal",domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:"Continuous",domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:"Continuous",domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:"Continuous",domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:"Ordinal",domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:"Ordinal",domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:"Ordinal",domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:"Ordinal",domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:"Ordinal",domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:"Ordinal",domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:"Ordinal",domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:"Ordinal",domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],Hs=function(){function e(t,n,i,r){_classCallCheck2(this,e),"string"==typeof t&&(t=Us.find((function(e){return e.name===t}))),this.colorDomain=t.domain,this.scaleType=n,this.domain=i,this.customColors=r,this.scale=this.generateColorScheme(t,n,this.domain)}return _createClass2(e,[{key:"generateColorScheme",value:function(e,t,n){var i;if("string"==typeof e&&(e=Us.find((function(t){return t.name===e}))),"quantile"===t)i=function e(){var t,n=[],i=[],r=[];function a(){var e=0,t=Math.max(1,i.length);for(r=new Array(t-1);++e<t;)r[e-1]=jr(n,e/t);return o}function o(e){return isNaN(e=+e)?t:i[nr(r,e)]}return o.invertExtent=function(e){var t=i.indexOf(e);return t<0?[NaN,NaN]:[t>0?r[t-1]:n[0],t<r.length?r[t]:n[n.length-1]]},o.domain=function(e){if(!arguments.length)return n.slice();n=[];var t,i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;null==r||isNaN(r=+r)||n.push(r)}}catch(o){i.e(o)}finally{i.f()}return n.sort(In),a()},o.range=function(e){return arguments.length?(i=Array.from(e),a()):i.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return e().domain(n).range(i).unknown(t)},hr.apply(o,arguments)}().range(e.domain).domain(n);else if("ordinal"===t)i=Ir().range(e.domain).domain(n);else if("linear"===t){var r=_toConsumableArray(e.domain);1===r.length&&(r.push(r[0]),this.colorDomain=r);var a=Mr(0,1,1/r.length);i=Or().domain(a).range(r)}return i}},{key:"getColor",value:function(e){if(null==e)throw new Error("Value can not be null");if("linear"===this.scaleType){var t=Or().domain(this.domain).range([0,1]);return this.scale(t(e))}if("function"==typeof this.customColors)return this.customColors(e);var n,i=e.toString();return this.customColors&&this.customColors.length>0&&(n=this.customColors.find((function(e){return e.name.toLowerCase()===i.toLowerCase()}))),n?n.value:this.scale(e)}},{key:"getLinearGradientStops",value:function(e,t){void 0===t&&(t=this.domain[0]);var n=Or().domain(this.domain).range([0,1]),i=Tr().domain(this.colorDomain).range([0,1]),r=this.getColor(e),a=n(t),o=this.getColor(t),s=n(e),l=1,c=a,u=[];for(u.push({color:o,offset:a,originalOffset:a,opacity:1});c<s&&l<this.colorDomain.length;){var d=this.colorDomain[l],h=i(d);if(h<=a)l++;else{if(h.toFixed(4)>=(s-i.bandwidth()).toFixed(4))break;u.push({color:d,offset:h,opacity:1}),c=h,l++}}if(u[u.length-1].offset<100&&u.push({color:r,offset:s,opacity:1}),s===a)u[0].offset=0,u[1].offset=100;else if(100!==u[u.length-1].offset){var p,f=_createForOfIteratorHelper(u);try{for(f.s();!(p=f.n()).done;){var m=p.value;m.offset=(m.offset-a)/(s-a)*100}}catch(g){f.e(g)}finally{f.f()}}return u}}]),e}(),Xs=((Ds=function e(){_classCallCheck2(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:Ds}),Ds.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Ds)},imports:[[As]]}),Ds),Ys=((Ls=function(){function e(t){_classCallCheck2(this,e),this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new r.EventEmitter,this.activate=new r.EventEmitter,this.deactivate=new r.EventEmitter,this.hasGradient=!1,this.hideBar=!1,this.element=t.nativeElement}return _createClass2(e,[{key:"ngOnChanges",value:function(e){e.roundEdges&&this.loadAnimation(),this.update()}},{key:"update",value:function(){this.gradientId="grad"+bs().toString(),this.gradientFill="url(#".concat(this.gradientId,")"),this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}},{key:"loadAnimation",value:function(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}},{key:"updatePathEl",value:function(){var e=xe(this.element).select(".bar"),t=this.getPath();this.animations?e.transition().duration(500).attr("d",t):e.attr("d",t)}},{key:"getGradient",value:function(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}},{key:"getStartingPath",value:function(){if(!this.animations)return this.getPath();var e,t=this.getRadius();return this.roundEdges?"vertical"===this.orientation?(t=Math.min(this.height,t),e=ts(this.x,this.y+this.height,this.width,1,0,this.edges)):"horizontal"===this.orientation&&(t=Math.min(this.width,t),e=ts(this.x,this.y,1,this.height,0,this.edges)):"vertical"===this.orientation?e=ts(this.x,this.y+this.height,this.width,1,0,this.edges):"horizontal"===this.orientation&&(e=ts(this.x,this.y,1,this.height,0,this.edges)),e}},{key:"getPath",value:function(){var e,t=this.getRadius();return this.roundEdges?"vertical"===this.orientation?(t=Math.min(this.height,t),e=ts(this.x,this.y,this.width,this.height,t,this.edges)):"horizontal"===this.orientation&&(t=Math.min(this.width,t),e=ts(this.x,this.y,this.width,this.height,t,this.edges)):e=ts(this.x,this.y,this.width,this.height,t,this.edges),e}},{key:"getRadius",value:function(){var e=0;return this.roundEdges&&this.height>5&&this.width>5&&(e=Math.floor(Math.min(5,this.height/2,this.width/2))),e}},{key:"getStartOpacity",value:function(){return this.roundEdges?.2:.5}},{key:"onMouseEnter",value:function(){this.activate.emit(this.data)}},{key:"onMouseLeave",value:function(){this.deactivate.emit(this.data)}},{key:"checkToHideBar",value:function(){this.hideBar=this.noBarWhenZero&&("vertical"===this.orientation&&0===this.height||"horizontal"===this.orientation&&0===this.width)}},{key:"edges",get:function(){var e=[!1,!1,!1,!1];return this.roundEdges&&("vertical"===this.orientation?e=this.data.value>0?[!0,!0,!1,!1]:[!1,!1,!0,!0]:"horizontal"===this.orientation&&(e=this.data.value>0?[!1,!0,!1,!0]:[!0,!1,!0,!1])),e}}]),e}()).\u0275fac=function(e){return new(e||Ls)(r["\u0275\u0275directiveInject"](r.ElementRef))},Ls.\u0275cmp=r["\u0275\u0275defineComponent"]({type:Ls,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()}))},inputs:{roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",animations:"animations",noBarWhenZero:"noBarWhenZero",fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",stops:"stops",ariaLabel:"ariaLabel"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:oo,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,so,2,3,"defs",0),r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](1,"path",1),r["\u0275\u0275listener"]("click",(function(){return t.select.emit(t.data)})),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("ngIf",t.hasGradient),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("active",t.isActive)("hidden",t.hideBar),r["\u0275\u0275attribute"]("d",t.path)("aria-label",t.ariaLabel)("fill",t.hasGradient?t.gradientFill:t.fill))},directives:[a.o,Ss],encapsulation:2,changeDetection:0}),Ls),$s=((js=function(e){_inherits2(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.apply(this,arguments)).legend=!1,e.legendTitle="Legend",e.legendPosition="right",e.tooltipDisabled=!1,e.showGridLines=!0,e.activeEntries=[],e.trimXAxisTicks=!0,e.trimYAxisTicks=!0,e.rotateXAxisTicks=!0,e.maxXAxisTickLength=16,e.maxYAxisTickLength=16,e.barPadding=8,e.roundDomains=!1,e.noBarWhenZero=!0,e.activate=new r.EventEmitter,e.deactivate=new r.EventEmitter,e.margin=[10,20,10,20],e.xAxisHeight=0,e.yAxisWidth=0,e}return _createClass2(n,[{key:"update",value:function(){_get2(_getPrototypeOf(n.prototype),"update",this).call(this),this.dims=Is({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.groupDomain=this.getGroupDomain(),this.innerDomain=this.getInnerDomain(),this.valueDomain=this.getValueDomain(),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform="translate(".concat(this.dims.xOffset," , ").concat(this.margin[0],")")}},{key:"getGroupDomain",value:function(){var e,t=[],n=_createForOfIteratorHelper(this.results);try{for(n.s();!(e=n.n()).done;){var i=e.value;t.includes(i.label)||t.push(i.label)}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"getInnerDomain",value:function(){var e,t=[],n=_createForOfIteratorHelper(this.results);try{for(n.s();!(e=n.n()).done;){var i,r=_createForOfIteratorHelper(e.value.series);try{for(r.s();!(i=r.n()).done;){var a=i.value;t.includes(a.label)||t.push(a.label)}}catch(o){r.e(o)}finally{r.f()}}}catch(o){n.e(o)}finally{n.f()}return t}},{key:"getValueDomain",value:function(){return[0,100]}},{key:"getYScale",value:function(){var e=this.groupDomain.length/(this.dims.height/this.barPadding+1);return Tr().rangeRound([0,this.dims.height]).paddingInner(e).domain(this.groupDomain)}},{key:"getXScale",value:function(){var e=Or().range([0,this.dims.width]).domain(this.valueDomain);return this.roundDomains?e.nice():e}},{key:"groupTransform",value:function(e){return"translate(0, ".concat(this.yScale(e.name),")")}},{key:"onClick",value:function(e,t){t&&(e.series=t.name),this.select.emit(e)}},{key:"trackBy",value:function(e,t){return t.name}},{key:"setColors",value:function(){var e;e="ordinal"===this.schemeType?this.innerDomain:this.valueDomain,this.colors=new Hs(this.scheme,this.schemeType,e,this.customColors)}},{key:"getLegendOptions",value:function(){var e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.innerDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.valueDomain,e.colors=this.colors.scale),e}},{key:"updateYAxisWidth",value:function(e){var t=e.width;this.yAxisWidth=t,this.update()}},{key:"updateXAxisHeight",value:function(e){var t=e.height;this.xAxisHeight=t,this.update()}},{key:"onActivate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object.assign({},e);t&&(i.series=t.name);var r=this.results.map((function(e){return e.series})).flat().filter((function(e){return n?e.label===i.name:e.name===i.name&&e.series===i.series}));this.activeEntries=_toConsumableArray(r),this.activate.emit({value:i,entries:this.activeEntries})}},{key:"onDeactivate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object.assign({},e);t&&(i.series=t.name),this.activeEntries=this.activeEntries.filter((function(e){return n?e.label!==i.name:!(e.name===i.name&&e.series===i.series)})),this.deactivate.emit({value:i,entries:this.activeEntries})}}]),n}($o)).\u0275fac=function(e){return kl(e||js)},js.\u0275cmp=r["\u0275\u0275defineComponent"]({type:js,selectors:[["ngx-charts-bar-horizontal-normalized"]],contentQueries:function(e,t,n){var i;1&e&&r["\u0275\u0275contentQuery"](n,ro,!0),2&e&&r["\u0275\u0275queryRefresh"](i=r["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=i.first)},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",tooltipDisabled:"tooltipDisabled",showGridLines:"showGridLines",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",barPadding:"barPadding",roundDomains:"roundDomains",noBarWhenZero:"noBarWhenZero",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:13,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelActivate","legendLabelDeactivate","legendLabelClick"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-series-horizontal","","type","normalized",3,"xScale","yScale","activeEntries","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","seriesName","animations","noBarWhenZero","select","activate","deactivate"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),r["\u0275\u0275listener"]("legendLabelActivate",(function(e){return t.onActivate(e,void 0,!0)}))("legendLabelDeactivate",(function(e){return t.onDeactivate(e,void 0,!0)}))("legendLabelClick",(function(e){return t.onClick(e)})),r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](1,"g",1),r["\u0275\u0275template"](2,lo,1,10,"g",2),r["\u0275\u0275template"](3,co,1,8,"g",3),r["\u0275\u0275template"](4,uo,2,14,"g",4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("view",r["\u0275\u0275pureFunction2"](10,ao,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),r["\u0275\u0275advance"](1),r["\u0275\u0275attribute"]("transform",t.transform),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.xAxis),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.yAxis),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",t.results)("ngForTrackBy",t.trackBy))},directives:function(){return[Xo,a.o,a.n,es,ls,Js]},styles:[".ngx-charts{float:left;overflow:visible}.ngx-charts .arc,.ngx-charts .bar,.ngx-charts .circle{cursor:pointer}.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .card.active,.ngx-charts .card:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover{opacity:.8;-webkit-transition:opacity .1s ease-in-out;transition:opacity .1s ease-in-out}.ngx-charts .arc:focus,.ngx-charts .bar:focus,.ngx-charts .card:focus,.ngx-charts .cell:focus{outline:0}.ngx-charts .arc.hidden,.ngx-charts .bar.hidden,.ngx-charts .card.hidden,.ngx-charts .cell.hidden{display:none}.ngx-charts g:focus{outline:0}.ngx-charts .area-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .line-series.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .polar-series-path.inactive{-webkit-transition:opacity .1s ease-in-out;transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:rgba(0,0,0,.05)}"],encapsulation:2,data:{animation:[Object(o.j)("animationState",[Object(o.i)(":leave",[Object(o.h)({opacity:1,transform:"*"}),Object(o.e)(500,Object(o.h)({opacity:0,transform:"scale(0)"}))])])]},changeDetection:0}),js),Ws=((Ts=function(e){_inherits2(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.apply(this,arguments)).legend=!1,e.legendTitle="Legend",e.legendPosition="right",e.tooltipDisabled=!1,e.showGridLines=!0,e.activeEntries=[],e.trimXAxisTicks=!0,e.trimYAxisTicks=!0,e.rotateXAxisTicks=!0,e.maxXAxisTickLength=16,e.maxYAxisTickLength=16,e.barPadding=8,e.roundDomains=!1,e.roundEdges=!0,e.showDataLabel=!1,e.noBarWhenZero=!0,e.activate=new r.EventEmitter,e.deactivate=new r.EventEmitter,e.margin=[10,20,10,20],e.xAxisHeight=0,e.yAxisWidth=0,e.dataLabelMaxHeight={negative:0,positive:0},e}return _createClass2(n,[{key:"update",value:function(){_get2(_getPrototypeOf(n.prototype),"update",this).call(this),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=Is({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform="translate(".concat(this.dims.xOffset," , ").concat(this.margin[0]+this.dataLabelMaxHeight.negative,")")}},{key:"getXScale",value:function(){this.xDomain=this.getXDomain();var e=this.xDomain.length/(this.dims.width/this.barPadding+1);return Tr().range([0,this.dims.width]).paddingInner(e).domain(this.xDomain)}},{key:"getYScale",value:function(){this.yDomain=this.getYDomain();var e=Or().range([this.dims.height,0]).domain(this.yDomain);return this.roundDomains?e.nice():e}},{key:"getXDomain",value:function(){return this.results.map((function(e){return e.label}))}},{key:"getYDomain",value:function(){var e=this.results.map((function(e){return e.value})),t=this.yScaleMin?Math.min.apply(Math,[this.yScaleMin].concat(_toConsumableArray(e))):Math.min.apply(Math,[0].concat(_toConsumableArray(e)));this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(t=Math.min.apply(Math,[t].concat(_toConsumableArray(this.yAxisTicks))));var n=this.yScaleMax?Math.max.apply(Math,[this.yScaleMax].concat(_toConsumableArray(e))):Math.max.apply(Math,[0].concat(_toConsumableArray(e)));return this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(n=Math.max.apply(Math,[n].concat(_toConsumableArray(this.yAxisTicks)))),[t,n]}},{key:"onClick",value:function(e){this.select.emit(e)}},{key:"setColors",value:function(){var e;e="ordinal"===this.schemeType?this.xDomain:this.yDomain,this.colors=new Hs(this.scheme,this.schemeType,e,this.customColors)}},{key:"getLegendOptions",value:function(){var e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.xDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.yDomain,e.colors=this.colors.scale),e}},{key:"updateYAxisWidth",value:function(e){var t=e.width;this.yAxisWidth=t,this.update()}},{key:"updateXAxisHeight",value:function(e){var t=e.height;this.xAxisHeight=t,this.update()}},{key:"onDataLabelMaxHeightChanged",value:function(e){var t=this;e.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,e.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,e.size.height),e.index===this.results.length-1&&setTimeout((function(){return t.update()}))}},{key:"onActivate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=this.results.find((function(n){return t?n.label===e.name:n.name===e.name})),this.activeEntries.findIndex((function(t){return t.name===e.name&&t.value===e.value&&t.series===e.series}))>-1||(this.activeEntries=[e].concat(_toConsumableArray(this.activeEntries)),this.activate.emit({value:e,entries:this.activeEntries}))}},{key:"onDeactivate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=this.results.find((function(n){return t?n.label===e.name:n.name===e.name}));var n=this.activeEntries.findIndex((function(t){return t.name===e.name&&t.value===e.value&&t.series===e.series}));this.activeEntries.splice(n,1),this.activeEntries=_toConsumableArray(this.activeEntries),this.deactivate.emit({value:e,entries:this.activeEntries})}}]),n}($o)).\u0275fac=function(e){return El(e||Ts)},Ts.\u0275cmp=r["\u0275\u0275defineComponent"]({type:Ts,selectors:[["ngx-charts-bar-vertical"]],contentQueries:function(e,t,n){var i;1&e&&r["\u0275\u0275contentQuery"](n,ro,!0),2&e&&r["\u0275\u0275queryRefresh"](i=r["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=i.first)},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",tooltipDisabled:"tooltipDisabled",showGridLines:"showGridLines",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",yScaleMax:"yScaleMax",yScaleMin:"yScaleMin",dataLabelFormatting:"dataLabelFormatting"},outputs:{activate:"activate",deactivate:"deactivate"},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:5,vars:25,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-series-vertical","",3,"xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","activeEntries","roundEdges","animations","noBarWhenZero","activate","deactivate","select","dataLabelHeightChanged"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),r["\u0275\u0275listener"]("legendLabelClick",(function(e){return t.onClick(e)}))("legendLabelActivate",(function(e){return t.onActivate(e,!0)}))("legendLabelDeactivate",(function(e){return t.onDeactivate(e,!0)})),r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](1,"g",1),r["\u0275\u0275template"](2,ho,1,10,"g",2),r["\u0275\u0275template"](3,po,1,9,"g",3),r["\u0275\u0275elementStart"](4,"g",4),r["\u0275\u0275listener"]("activate",(function(e){return t.onActivate(e)}))("deactivate",(function(e){return t.onDeactivate(e)}))("select",(function(e){return t.onClick(e)}))("dataLabelHeightChanged",(function(e){return t.onDataLabelMaxHeightChanged(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("view",r["\u0275\u0275pureFunction2"](22,ao,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),r["\u0275\u0275advance"](1),r["\u0275\u0275attribute"]("transform",t.transform),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.xAxis),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.yAxis),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("xScale",t.xScale)("yScale",t.yScale)("colors",t.colors)("series",t.results)("dims",t.dims)("gradient",t.gradient)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.tooltipTemplate)("showDataLabel",t.showDataLabel)("dataLabelFormatting",t.dataLabelFormatting)("activeEntries",t.activeEntries)("roundEdges",t.roundEdges)("animations",t.animations)("noBarWhenZero",t.noBarWhenZero))},directives:function(){return[Xo,a.o,Ks,es,ls]},styles:[".ngx-charts{float:left;overflow:visible}.ngx-charts .arc,.ngx-charts .bar,.ngx-charts .circle{cursor:pointer}.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .card.active,.ngx-charts .card:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover{opacity:.8;-webkit-transition:opacity .1s ease-in-out;transition:opacity .1s ease-in-out}.ngx-charts .arc:focus,.ngx-charts .bar:focus,.ngx-charts .card:focus,.ngx-charts .cell:focus{outline:0}.ngx-charts .arc.hidden,.ngx-charts .bar.hidden,.ngx-charts .card.hidden,.ngx-charts .cell.hidden{display:none}.ngx-charts g:focus{outline:0}.ngx-charts .area-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .line-series.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .polar-series-path.inactive{-webkit-transition:opacity .1s ease-in-out;transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:rgba(0,0,0,.05)}"],encapsulation:2,changeDetection:0}),Ts),qs=function(e){return e.positive="positive",e.negative="negative",e}({}),Ks=((Gs=function(){function e(){_classCallCheck2(this,e),this.type="standard",this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new r.EventEmitter,this.activate=new r.EventEmitter,this.deactivate=new r.EventEmitter,this.dataLabelHeightChanged=new r.EventEmitter,this.barsForDataLabels=[]}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.update()}},{key:"update",value:function(){var e,t,n=this;this.updateTooltipSettings(),this.series.length&&(t=this.xScale.bandwidth()),t=Math.round(t);var i,r=Math.max(this.yScale.domain()[0],0),a=(_defineProperty2(e={},qs.positive,0),_defineProperty2(e,qs.negative,0),e),o=qs.positive;"normalized"===this.type&&(i=this.series.map((function(e){return e.value})).reduce((function(e,t){return e+t}),0)),this.bars=this.series.map((function(e,s){var l=e.value,c=n.getLabel(e),u=ms(c);o=l>0?qs.positive:qs.negative;var d={value:l,label:c,roundEdges:n.roundEdges,data:e,width:t,formattedLabel:u,height:0,x:0,y:0};if("standard"===n.type)d.height=Math.abs(n.yScale(l)-n.yScale(r)),d.x=n.xScale(c),d.y=n.yScale(l<0?0:l);else if("stacked"===n.type){var h=a[o],p=h+l;a[o]+=l,d.height=n.yScale(h)-n.yScale(p),d.x=0,d.y=n.yScale(p),d.offset0=h,d.offset1=p}else if("normalized"===n.type){var f=a[o],m=f+l;a[o]+=l,i>0?(f=100*f/i,m=100*m/i):(f=0,m=0),d.height=n.yScale(f)-n.yScale(m),d.x=0,d.y=n.yScale(m),d.offset0=f,d.offset1=m,l=(m-f).toFixed(2)+"%"}"ordinal"===n.colors.scaleType?d.color=n.colors.getColor(c):"standard"===n.type?(d.color=n.colors.getColor(l),d.gradientStops=n.colors.getLinearGradientStops(l)):(d.color=n.colors.getColor(d.offset1),d.gradientStops=n.colors.getLinearGradientStops(d.offset1,d.offset0));var g=u;return d.ariaLabel=u+" "+l.toLocaleString(),n.seriesName&&(g="".concat(n.seriesName," \u2022 ").concat(u),d.data.series=n.seriesName,d.ariaLabel=n.seriesName+" "+d.ariaLabel),d.tooltipText=n.tooltipDisabled?void 0:'\n        <span class="tooltip-label">'.concat(gs(g),'</span>\n        <span class="tooltip-val">').concat(l.toLocaleString(),"</span>\n      "),d})),this.updateDataLabels()}},{key:"updateDataLabels",value:function(){var e=this;if("stacked"===this.type){this.barsForDataLabels=[];var t={};t.series=this.seriesName;var n=this.series.map((function(e){return e.value})).reduce((function(e,t){return t>0?e+t:e}),0),i=this.series.map((function(e){return e.value})).reduce((function(e,t){return t<0?e+t:e}),0);t.total=n+i,t.x=0,t.y=0,t.height=this.yScale(t.total>0?n:i),t.width=this.xScale.bandwidth(),this.barsForDataLabels.push(t)}else this.barsForDataLabels=this.series.map((function(t){var n={};return n.series=e.seriesName?e.seriesName:t.label,n.total=t.value,n.x=e.xScale(t.label),n.y=e.yScale(0),n.height=e.yScale(n.total)-e.yScale(0),n.width=e.xScale.bandwidth(),n}))}},{key:"updateTooltipSettings",value:function(){this.tooltipPlacement=this.tooltipDisabled?void 0:"top",this.tooltipType=this.tooltipDisabled?void 0:"tooltip"}},{key:"isActive",value:function(e){return!!this.activeEntries&&void 0!==this.activeEntries.find((function(t){return e.name===t.name&&e.series===t.series}))}},{key:"onClick",value:function(e){this.select.emit(e)}},{key:"getLabel",value:function(e){return e.label?e.label:e.name}},{key:"trackBy",value:function(e,t){return t.label}},{key:"trackDataLabelBy",value:function(e,t){return e+"#"+t.series+"#"+t.total}}]),e}()).\u0275fac=function(e){return new(e||Gs)},Gs.\u0275cmp=r["\u0275\u0275defineComponent"]({type:Gs,selectors:[["g","ngx-charts-series-vertical",""]],inputs:{type:"type",tooltipDisabled:"tooltipDisabled",animations:"animations",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",dims:"dims",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",dataLabelFormatting:"dataLabelFormatting"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelHeightChanged:"dataLabelHeightChanged"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:fo,decls:2,vars:3,consts:[["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,mo,1,22,"g",0),r["\u0275\u0275template"](1,vo,2,2,"g",1)),2&e&&(r["\u0275\u0275property"]("ngForOf",t.bars)("ngForTrackBy",t.trackBy),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.showDataLabel))},directives:function(){return[a.n,a.o,Ys,ps,Qs]},encapsulation:2,data:{animation:[Object(o.j)("animationState",[Object(o.i)(":leave",[Object(o.h)({opacity:1}),Object(o.e)(500,Object(o.h)({opacity:0}))])])]},changeDetection:0}),Gs),Js=((zs=function(){function e(){_classCallCheck2(this,e),this.barsForDataLabels=[],this.type="standard",this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new r.EventEmitter,this.activate=new r.EventEmitter,this.deactivate=new r.EventEmitter,this.dataLabelWidthChanged=new r.EventEmitter}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.update()}},{key:"update",value:function(){var e,t=this;this.updateTooltipSettings();var n,i,r=(_defineProperty2(e={},qs.positive,0),_defineProperty2(e,qs.negative,0),e);n=qs.positive,"normalized"===this.type&&(i=this.series.map((function(e){return e.value})).reduce((function(e,t){return e+t}),0));var a=Math.max(this.xScale.domain()[0],0);this.bars=this.series.map((function(e,o){var s=e.value,l=t.getLabel(e),c=ms(l);n=s>0?qs.positive:qs.negative;var u={value:s,label:l,roundEdges:t.roundEdges,data:e,formattedLabel:c};if(u.height=t.yScale.bandwidth(),"standard"===t.type)u.width=Math.abs(t.xScale(s)-t.xScale(a)),u.x=t.xScale(s<0?s:a),u.y=t.yScale(l);else if("stacked"===t.type){var d=r[n],h=d+s;r[n]+=s,u.width=t.xScale(h)-t.xScale(d),u.x=t.xScale(d),u.y=0,u.offset0=d,u.offset1=h}else if("normalized"===t.type){var p=r[n],f=p+s;r[n]+=s,i>0?(p=100*p/i,f=100*f/i):(p=0,f=0),u.width=t.xScale(f)-t.xScale(p),u.x=t.xScale(p),u.y=0,u.offset0=p,u.offset1=f,s=(f-p).toFixed(2)+"%"}"ordinal"===t.colors.scaleType?u.color=t.colors.getColor(l):"standard"===t.type?(u.color=t.colors.getColor(s),u.gradientStops=t.colors.getLinearGradientStops(s)):(u.color=t.colors.getColor(u.offset1),u.gradientStops=t.colors.getLinearGradientStops(u.offset1,u.offset0));var m=c;return u.ariaLabel=c+" "+s.toLocaleString(),t.seriesName&&(m="".concat(t.seriesName," \u2022 ").concat(c),u.data.series=t.seriesName,u.ariaLabel=t.seriesName+" "+u.ariaLabel),u.tooltipText=t.tooltipDisabled?void 0:'\n        <span class="tooltip-label">'.concat(gs(m),'</span>\n        <span class="tooltip-val">').concat(s.toLocaleString(),"</span>\n      "),u})),this.updateDataLabels()}},{key:"updateDataLabels",value:function(){var e=this;if("stacked"===this.type){this.barsForDataLabels=[];var t={};t.series=this.seriesName;var n=this.series.map((function(e){return e.value})).reduce((function(e,t){return t>0?e+t:e}),0),i=this.series.map((function(e){return e.value})).reduce((function(e,t){return t<0?e+t:e}),0);t.total=n+i,t.x=0,t.y=0,t.width=this.xScale(t.total>0?n:i),t.height=this.yScale.bandwidth(),this.barsForDataLabels.push(t)}else this.barsForDataLabels=this.series.map((function(t){var n={};return n.series=e.seriesName?e.seriesName:t.label,n.total=t.value,n.x=e.xScale(0),n.y=e.yScale(t.label),n.width=e.xScale(n.total)-e.xScale(0),n.height=e.yScale.bandwidth(),n}))}},{key:"updateTooltipSettings",value:function(){this.tooltipPlacement=this.tooltipDisabled?void 0:"top",this.tooltipType=this.tooltipDisabled?void 0:"tooltip"}},{key:"isActive",value:function(e){return!!this.activeEntries&&void 0!==this.activeEntries.find((function(t){return e.name===t.name&&e.series===t.series}))}},{key:"getLabel",value:function(e){return e.label?e.label:e.name}},{key:"trackBy",value:function(e,t){return t.label}},{key:"trackDataLabelBy",value:function(e,t){return e+"#"+t.series+"#"+t.total}},{key:"click",value:function(e){this.select.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||zs)},zs.\u0275cmp=r["\u0275\u0275defineComponent"]({type:zs,selectors:[["g","ngx-charts-series-horizontal",""]],inputs:{type:"type",tooltipDisabled:"tooltipDisabled",animations:"animations",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",dims:"dims",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",dataLabelFormatting:"dataLabelFormatting"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelWidthChanged:"dataLabelWidthChanged"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:bo,decls:2,vars:3,consts:[["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","ariaLabel","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","ariaLabel","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","select","activate","deactivate"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,yo,1,21,"g",0),r["\u0275\u0275template"](1,So,2,2,"g",1)),2&e&&(r["\u0275\u0275property"]("ngForOf",t.bars)("ngForTrackBy",t.trackBy),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.showDataLabel))},directives:function(){return[a.n,a.o,Ys,ps,Qs]},encapsulation:2,data:{animation:[Object(o.j)("animationState",[Object(o.i)(":leave",[Object(o.h)({opacity:1}),Object(o.e)(500,Object(o.h)({opacity:0}))])])]},changeDetection:0}),zs),Qs=((Vs=function(){function e(t){_classCallCheck2(this,e),this.dimensionsChanged=new r.EventEmitter,this.horizontalPadding=2,this.verticalPadding=5,this.element=t.nativeElement}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.update()}},{key:"getSize",value:function(){return{height:this.element.getBoundingClientRect().height,width:this.element.getBoundingClientRect().width,negative:this.value<0}}},{key:"ngAfterViewInit",value:function(){this.dimensionsChanged.emit(this.getSize())}},{key:"update",value:function(){this.formatedValue=this.valueFormatting?this.valueFormatting(this.value):ms(this.value),"horizontal"===this.orientation?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform="rotate(-45, ".concat(this.x," , ").concat(this.y,")"))}}]),e}()).\u0275fac=function(e){return new(e||Vs)(r["\u0275\u0275directiveInject"](r.ElementRef))},Vs.\u0275cmp=r["\u0275\u0275defineComponent"]({type:Vs,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:Co,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"text",0),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275attribute"]("text-anchor",t.textAnchor)("transform",t.transform)("x",t.x)("y",t.y),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",t.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0}),Vs),Zs=((Ns=function e(){_classCallCheck2(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:Ns}),Ns.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Ns)},imports:[[As]]}),Ns),el=((Bs=function e(){_classCallCheck2(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:Bs}),Bs.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Bs)},imports:[[As]]}),Bs),tl=((Rs=function e(){_classCallCheck2(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:Rs}),Rs.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Rs)},imports:[[As]]}),Rs),nl=((Fs=function e(){_classCallCheck2(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:Fs}),Fs.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Fs)},imports:[[As]]}),Fs);Math;var il,rl,al,ol,sl,ll,cl,ul,dl,hl,pl=((hl=function(){function e(){_classCallCheck2(this,e),this.animations=!0,this.labelTrim=!0,this.labelTrimSize=10,this.isIE=/(edge|msie|trident)/i.test(navigator.userAgent),this.trimLabel=qo}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.update()}},{key:"update",value:function(){var e=this.radius;this.explodeSlices&&(e=this.radius*this.value/this.max);var t=ua().innerRadius(e).outerRadius(e).centroid(this.data),n=this.data.pos[1]/t[1];0!==this.data.pos[1]&&0!==t[1]||(n=1),this.line="M".concat(t,"L").concat([n*t[0],n*t[1]],"L").concat(this.data.pos)}},{key:"textAnchor",value:function(){return this.midAngle(this.data)<Math.PI?"start":"end"}},{key:"midAngle",value:function(e){return e.startAngle+(e.endAngle-e.startAngle)/2}},{key:"textX",get:function(){return this.data.pos[0]}},{key:"textY",get:function(){return this.data.pos[1]}},{key:"styleTransform",get:function(){return this.isIE?null:"translate3d(".concat(this.textX,"px,").concat(this.textY,"px, 0)")}},{key:"attrTransform",get:function(){return this.isIE?"translate(".concat(this.textX,",").concat(this.textY,")"):null}},{key:"textTransition",get:function(){return this.isIE||!this.animations?null:"transform 0.75s"}}]),e}()).\u0275fac=function(e){return new(e||hl)},hl.\u0275cmp=r["\u0275\u0275defineComponent"]({type:hl,selectors:[["g","ngx-charts-pie-label",""]],inputs:{animations:"animations",labelTrim:"labelTrim",labelTrimSize:"labelTrimSize",data:"data",radius:"radius",label:"label",color:"color",max:"max",value:"value",explodeSlices:"explodeSlices"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:ko,decls:6,vars:17,consts:[["dy",".35em",1,"pie-label"],["fill","none",1,"pie-label-line","line"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"title"),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"](),r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](2,"g"),r["\u0275\u0275elementStart"](3,"text",0),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](5,"path",1)),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate"](t.label),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("transform",t.styleTransform)("transition",t.textTransition),r["\u0275\u0275attribute"]("transform",t.attrTransform),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("text-anchor",t.textAnchor())("shape-rendering","crispEdges"),r["\u0275\u0275classProp"]("animation",t.animations),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",t.labelTrim?t.trimLabel(t.label,t.labelTrimSize):t.label," "),r["\u0275\u0275advance"](1),r["\u0275\u0275classProp"]("animation",t.animations),r["\u0275\u0275attribute"]("d",t.line)("stroke",t.color))},encapsulation:2,changeDetection:0}),hl),fl=((dl=function(){function e(t){_classCallCheck2(this,e),this.startAngle=0,this.endAngle=2*Math.PI,this.cornerRadius=0,this.explodeSlices=!1,this.gradient=!1,this.animate=!0,this.pointerEvents=!0,this.isActive=!1,this.select=new r.EventEmitter,this.activate=new r.EventEmitter,this.deactivate=new r.EventEmitter,this.dblclick=new r.EventEmitter,this.initialized=!1,this.element=t.nativeElement}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.update()}},{key:"getGradient",value:function(){return this.gradient?this.gradientFill:this.fill}},{key:"getPointerEvents",value:function(){return this.pointerEvents?"auto":"none"}},{key:"update",value:function(){var e=this.calculateArc();this.startOpacity=.5,this.radialGradientId="linearGrad"+bs().toString(),this.gradientFill="url(#".concat(this.radialGradientId,")"),this.animate?this.initialized?this.updateAnimation():(this.loadAnimation(),this.initialized=!0):this.path=e.startAngle(this.startAngle).endAngle(this.endAngle)()}},{key:"calculateArc",value:function(){var e=this.outerRadius;return this.explodeSlices&&0===this.innerRadius&&(e=this.outerRadius*this.value/this.max),ua().innerRadius(this.innerRadius).outerRadius(e).cornerRadius(this.cornerRadius)}},{key:"loadAnimation",value:function(){var e=xe(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),t=this.calculateArc();e.transition().attrTween("d",(function(e){this._current=this._current||e;var n=Object.assign({},e);n.endAngle=n.startAngle;var i=bt(n,n);return this._current=i(0),function(e){return t(i(e))}})).transition().duration(750).attrTween("d",(function(e){this._current=this._current||e;var n=bt(this._current,e);return this._current=n(0),function(e){return t(n(e))}}))}},{key:"updateAnimation",value:function(){var e=xe(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),t=this.calculateArc();e.transition().duration(750).attrTween("d",(function(e){this._current=this._current||e;var n=bt(this._current,e);return this._current=n(0),function(e){return t(n(e))}}))}},{key:"onClick",value:function(){var e=this;clearTimeout(this._timeout),this._timeout=setTimeout((function(){return e.select.emit(e.data)}),200)}},{key:"onDblClick",value:function(e){e.preventDefault(),e.stopPropagation(),clearTimeout(this._timeout),this.dblclick.emit({data:this.data,nativeEvent:e})}}]),e}()).\u0275fac=function(e){return new(e||dl)(r["\u0275\u0275directiveInject"](r.ElementRef))},dl.\u0275cmp=r["\u0275\u0275defineComponent"]({type:dl,selectors:[["g","ngx-charts-pie-arc",""]],inputs:{startAngle:"startAngle",endAngle:"endAngle",cornerRadius:"cornerRadius",explodeSlices:"explodeSlices",gradient:"gradient",animate:"animate",pointerEvents:"pointerEvents",isActive:"isActive",fill:"fill",innerRadius:"innerRadius",outerRadius:"outerRadius",value:"value",max:"max",data:"data"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:Eo,decls:3,vars:7,consts:[[1,"arc-group"],[4,"ngIf"],[1,"arc",3,"click","dblclick","mouseenter","mouseleave"],["ngx-charts-svg-radial-gradient","","orientation","vertical",3,"color","name","startOpacity"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"g",0),r["\u0275\u0275template"](1,_o,2,3,"defs",1),r["\u0275\u0275elementStart"](2,"path",2),r["\u0275\u0275listener"]("click",(function(){return t.onClick()}))("dblclick",(function(e){return t.onDblClick(e)}))("mouseenter",(function(){return t.activate.emit(t.data)}))("mouseleave",(function(){return t.deactivate.emit(t.data)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.gradient),r["\u0275\u0275advance"](1),r["\u0275\u0275styleProp"]("pointer-events",t.getPointerEvents()),r["\u0275\u0275classProp"]("active",t.isActive),r["\u0275\u0275attribute"]("d",t.path)("fill",t.getGradient()))},directives:[a.o,Cs],encapsulation:2,changeDetection:0}),dl),ml=((ul=function(e){_inherits2(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.apply(this,arguments)).labels=!1,e.legend=!1,e.legendTitle="Legend",e.legendPosition="right",e.explodeSlices=!1,e.doughnut=!1,e.arcWidth=.25,e.activeEntries=[],e.tooltipDisabled=!1,e.trimLabels=!0,e.maxLabelLength=10,e.dblclick=new r.EventEmitter,e.select=new r.EventEmitter,e.activate=new r.EventEmitter,e.deactivate=new r.EventEmitter,e}return _createClass2(n,[{key:"update",value:function(){var e=this;_get2(_getPrototypeOf(n.prototype),"update",this).call(this),this.labels&&this.hasNoOptionalMarginsSet()?this.margins=[30,80,30,80]:!this.labels&&this.hasNoOptionalMarginsSet()&&(this.margins=[20,20,20,20]),this.dims=Is({width:this.width,height:this.height,margins:this.margins,showLegend:this.legend,legendPosition:this.legendPosition}),this.formatDates(),this.translation="translate(".concat(this.margins[3]+this.dims.width/2,", ").concat(this.margins[0]+this.dims.height/2,")"),this.outerRadius=Math.min(this.dims.width,this.dims.height),this.outerRadius/=this.labels?3:2,this.innerRadius=0,this.doughnut&&(this.innerRadius=this.outerRadius*(1-this.arcWidth)),this.domain=this.getDomain(),this.data=this.results.sort((function(t,n){return e.domain.indexOf(t.name)-e.domain.indexOf(n.name)})),this.setColors(),this.legendOptions=this.getLegendOptions()}},{key:"getDomain",value:function(){return this.results.map((function(e){return e.label}))}},{key:"onClick",value:function(e){this.select.emit(e)}},{key:"setColors",value:function(){this.colors=new Hs(this.scheme,"ordinal",this.domain,this.customColors)}},{key:"getLegendOptions",value:function(){return{scaleType:"ordinal",domain:this.domain,colors:this.colors,title:this.legendTitle,position:this.legendPosition}}},{key:"onActivate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=this.results.find((function(n){return t?n.label===e.name:n.name===e.name})),this.activeEntries.findIndex((function(t){return t.name===e.name&&t.value===e.value&&t.series===e.series}))>-1||(this.activeEntries=[e].concat(_toConsumableArray(this.activeEntries)),this.activate.emit({value:e,entries:this.activeEntries}))}},{key:"onDeactivate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=this.results.find((function(n){return t?n.label===e.name:n.name===e.name}));var n=this.activeEntries.findIndex((function(t){return t.name===e.name&&t.value===e.value&&t.series===e.series}));this.activeEntries.splice(n,1),this.activeEntries=_toConsumableArray(this.activeEntries),this.deactivate.emit({value:e,entries:this.activeEntries})}},{key:"hasNoOptionalMarginsSet",value:function(){return!this.margins||this.margins.length<=0}}]),n}($o)).\u0275fac=function(e){return _l(e||ul)},ul.\u0275cmp=r["\u0275\u0275defineComponent"]({type:ul,selectors:[["ngx-charts-pie-chart"]],contentQueries:function(e,t,n){var i;1&e&&r["\u0275\u0275contentQuery"](n,ro,!0),2&e&&r["\u0275\u0275queryRefresh"](i=r["\u0275\u0275loadQuery"]())&&(t.tooltipTemplate=i.first)},inputs:{labels:"labels",legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",explodeSlices:"explodeSlices",doughnut:"doughnut",arcWidth:"arcWidth",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",margins:"margins",gradient:"gradient",labelFormatting:"labelFormatting",tooltipText:"tooltipText"},outputs:{dblclick:"dblclick",select:"select",activate:"activate",deactivate:"deactivate"},features:[r["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:24,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelActivate","legendLabelDeactivate","legendLabelClick"],[1,"pie-chart","chart"],["ngx-charts-pie-series","",3,"colors","series","showLabels","labelFormatting","trimLabels","maxLabelLength","activeEntries","innerRadius","outerRadius","explodeSlices","gradient","animations","tooltipDisabled","tooltipTemplate","tooltipText","dblclick","select","activate","deactivate"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"ngx-charts-chart",0),r["\u0275\u0275listener"]("legendLabelActivate",(function(e){return t.onActivate(e,!0)}))("legendLabelDeactivate",(function(e){return t.onDeactivate(e,!0)}))("legendLabelClick",(function(e){return t.onClick(e)})),r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](1,"g",1),r["\u0275\u0275elementStart"](2,"g",2),r["\u0275\u0275listener"]("dblclick",(function(e){return t.dblclick.emit(e)}))("select",(function(e){return t.onClick(e)}))("activate",(function(e){return t.onActivate(e)}))("deactivate",(function(e){return t.onDeactivate(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("view",r["\u0275\u0275pureFunction2"](21,ao,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),r["\u0275\u0275advance"](1),r["\u0275\u0275attribute"]("transform",t.translation),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("colors",t.colors)("series",t.data)("showLabels",t.labels)("labelFormatting",t.labelFormatting)("trimLabels",t.trimLabels)("maxLabelLength",t.maxLabelLength)("activeEntries",t.activeEntries)("innerRadius",t.innerRadius)("outerRadius",t.outerRadius)("explodeSlices",t.explodeSlices)("gradient",t.gradient)("animations",t.animations)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.tooltipTemplate)("tooltipText",t.tooltipText))},directives:function(){return[Xo,gl]},styles:[".ngx-charts{float:left;overflow:visible}.ngx-charts .arc,.ngx-charts .bar,.ngx-charts .circle{cursor:pointer}.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .card.active,.ngx-charts .card:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover{opacity:.8;-webkit-transition:opacity .1s ease-in-out;transition:opacity .1s ease-in-out}.ngx-charts .arc:focus,.ngx-charts .bar:focus,.ngx-charts .card:focus,.ngx-charts .cell:focus{outline:0}.ngx-charts .arc.hidden,.ngx-charts .bar.hidden,.ngx-charts .card.hidden,.ngx-charts .cell.hidden{display:none}.ngx-charts g:focus{outline:0}.ngx-charts .area-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .line-series.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .polar-series-path.inactive{-webkit-transition:opacity .1s ease-in-out;transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:rgba(0,0,0,.05)}",".pie-label{font-size:11px}.pie-label.animation{-webkit-animation:750ms ease-in fadeIn;animation:750ms ease-in fadeIn}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{-webkit-animation:3s linear drawOut;animation:3s linear drawOut;-webkit-transition:d 750ms;transition:d 750ms}@-webkit-keyframes drawOut{from{stroke-dashoffset:100%}to{stroke-dashoffset:0}}@keyframes drawOut{from{stroke-dashoffset:100%}to{stroke-dashoffset:0}}"],encapsulation:2,changeDetection:0}),ul),gl=((cl=function(){function e(){_classCallCheck2(this,e),this.series=[],this.innerRadius=60,this.outerRadius=80,this.trimLabels=!0,this.maxLabelLength=10,this.tooltipDisabled=!1,this.animations=!0,this.select=new r.EventEmitter,this.activate=new r.EventEmitter,this.deactivate=new r.EventEmitter,this.dblclick=new r.EventEmitter}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.update()}},{key:"update",value:function(){var e=function(){var e=ha,t=da,n=null,i=Vr(0),r=Vr(ea),a=Vr(0);function o(o){var s,l,c,u,d,h=o.length,p=0,f=new Array(h),m=new Array(h),g=+i.apply(this,arguments),v=Math.min(ea,Math.max(-ea,r.apply(this,arguments)-g)),b=Math.min(Math.abs(v)/h,a.apply(this,arguments)),y=b*(v<0?-1:1);for(s=0;s<h;++s)(d=m[f[s]=s]=+e(o[s],s,o))>0&&(p+=d);for(null!=t?f.sort((function(e,n){return t(m[e],m[n])})):null!=n&&f.sort((function(e,t){return n(o[e],o[t])})),s=0,c=p?(v-h*y)/p:0;s<h;++s,g=u)m[l=f[s]]={data:o[l],index:s,value:d=m[l],startAngle:g,endAngle:u=g+(d>0?d*c:0)+y,padAngle:b};return m}return o.value=function(t){return arguments.length?(e="function"==typeof t?t:Vr(+t),o):e},o.sortValues=function(e){return arguments.length?(t=e,n=null,o):t},o.sort=function(e){return arguments.length?(n=e,t=null,o):n},o.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:Vr(+e),o):i},o.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:Vr(+e),o):r},o.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:Vr(+e),o):a},o}().value((function(e){return e.value})).sort(null)(this.series);this.max=function(e,t){var n;if(void 0===t){var i,r=_createForOfIteratorHelper(e);try{for(r.s();!(i=r.n()).done;){var a=i.value;null!=a&&(n<a||void 0===n&&a>=a)&&(n=a)}}catch(c){r.e(c)}finally{r.f()}}else{var o,s=_createForOfIteratorHelper(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;null!=(l=t(l))&&(n<l||void 0===n&&l>=l)&&(n=l)}}catch(c){s.e(c)}finally{s.f()}}return n}(e,(function(e){return e.value})),this.data=this.calculateLabelPositions(e),this.tooltipText=this.tooltipText||this.defaultTooltipText}},{key:"midAngle",value:function(e){return e.startAngle+(e.endAngle-e.startAngle)/2}},{key:"outerArc",value:function(){return ua().innerRadius(1.5*this.outerRadius).outerRadius(1.5*this.outerRadius)}},{key:"calculateLabelPositions",value:function(e){var t=this,n=e;n.forEach((function(e){e.pos=t.outerArc().centroid(e),e.pos[0]=1.5*t.outerRadius*(t.midAngle(e)<Math.PI?1:-1)}));for(var i=0;i<n.length-1;i++){var r=n[i];if(this.labelVisible(r))for(var a=i+1;a<n.length;a++){var o=n[a];if(this.labelVisible(o)&&o.pos[0]*r.pos[0]>0){var s=10-Math.abs(o.pos[1]-r.pos[1]);s>0&&(o.pos[1]+=Math.sign(o.pos[0])*s)}}}return n}},{key:"labelVisible",value:function(e){return this.showLabels&&e.endAngle-e.startAngle>Math.PI/30}},{key:"getTooltipTitle",value:function(e){return this.tooltipTemplate?void 0:this.tooltipText(e)}},{key:"labelText",value:function(e){return this.labelFormatting?this.labelFormatting(e.data.name):this.label(e)}},{key:"label",value:function(e){return ms(e.data.name)}},{key:"defaultTooltipText",value:function(e){var t=this.label(e),n=ms(e.data.value);return'\n      <span class="tooltip-label">'.concat(gs(t),'</span>\n      <span class="tooltip-val">').concat(n,"</span>\n    ")}},{key:"color",value:function(e){return this.colors.getColor(this.label(e))}},{key:"trackBy",value:function(e,t){return t.data.name}},{key:"onClick",value:function(e){this.select.emit(e)}},{key:"isActive",value:function(e){return!!this.activeEntries&&void 0!==this.activeEntries.find((function(t){return e.name===t.name&&e.series===t.series}))}}]),e}()).\u0275fac=function(e){return new(e||cl)},cl.\u0275cmp=r["\u0275\u0275defineComponent"]({type:cl,selectors:[["g","ngx-charts-pie-series",""]],inputs:{series:"series",innerRadius:"innerRadius",outerRadius:"outerRadius",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipDisabled:"tooltipDisabled",animations:"animations",tooltipText:"tooltipText",colors:"colors",dims:"dims",explodeSlices:"explodeSlices",showLabels:"showLabels",gradient:"gradient",activeEntries:"activeEntries",labelFormatting:"labelFormatting",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[r["\u0275\u0275NgOnChangesFeature"]],attrs:Po,decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations",4,"ngIf"],["ngx-charts-pie-arc","","ngx-tooltip","",3,"startAngle","endAngle","innerRadius","outerRadius","fill","value","gradient","data","max","explodeSlices","isActive","animate","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate","dblclick"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations"]],template:function(e,t){1&e&&r["\u0275\u0275template"](0,Mo,3,19,"g",0),2&e&&r["\u0275\u0275property"]("ngForOf",t.data)("ngForTrackBy",t.trackBy)},directives:[a.n,a.o,fl,ps,pl],encapsulation:2,changeDetection:0}),cl),vl=((ll=function e(){_classCallCheck2(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:ll}),ll.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||ll)},imports:[[As]]}),ll),bl=((sl=function e(){_classCallCheck2(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:sl}),sl.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||sl)},imports:[[As,vl,nl]]}),sl),yl=((ol=function e(){_classCallCheck2(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:ol}),ol.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||ol)},imports:[[As]]}),ol),xl=((al=function e(){_classCallCheck2(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:al}),al.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||al)},imports:[[As]]}),al),Sl=((rl=function e(){_classCallCheck2(this,e)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:rl}),rl.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||rl)},imports:[[As,vl,Zs]]}),rl),Cl=((il=function e(){_classCallCheck2(this,e),"undefined"!=typeof SVGElement&&void 0===SVGElement.prototype.contains&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}).\u0275mod=r["\u0275\u0275defineNgModule"]({type:il}),il.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(e){return new(e||il)},imports:[As,Xs,Zs,el,tl,nl,bl,yl,vl,xl,Sl]}),il),kl=r["\u0275\u0275getInheritedFactory"]($s),El=r["\u0275\u0275getInheritedFactory"](Ws),_l=r["\u0275\u0275getInheritedFactory"](ml)}}]);